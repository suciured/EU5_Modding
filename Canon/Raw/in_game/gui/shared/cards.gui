types Cards
{
	type paper_simple_card = widget {
		size = { -1 75 }
		layoutpolicy_horizontal = expanding
	
		using = bg_paper_card
	}

	type paper_card_fancy = widget {
		size = { -1 75 }
		layoutpolicy_horizontal = expanding
	
		using = bg_paper_card_fancy
	}

	type scroll_card = widget {
		size = { -1 75 }
		layoutpolicy_horizontal = expanding
	
		using = bg_scroll_card
	}

	type scroll_clickable_card = widget {
		# block "scroll_clickable_card_size" {
			size = { -1 75 }
			layoutpolicy_horizontal = expanding
		# }

		block "card_button" {
			scroll_card_button = {
				size = {100% 100%}
			}
		}
	
		using = bg_scroll_card

		widget = {
			size = {100% 100%}

			block "inside_content" {}
		}
	}

	type header_paper_card = widget {
		block "header_paper_card_size" {
			size = { -1 75 }
		}
		layoutpolicy_horizontal = expanding
	
		using = bg_paper_card

		vbox = {
			using = layoutpolicy_expanding

			block "header_obj" {
				widget = {
					block "header_size" { 
						size = { -1 35 }
					}

					layoutpolicy_horizontal = expanding
					block "header_paper_card_header_bg" {using = bg_card_header_01}
					
					block "header_content" {}
				}
			}

			widget = {
				using = layoutpolicy_expanding
				block "bottom_content" {}
			}
		}
	}

	type expandable_header_paper_card = vbox {
		layoutpolicy_horizontal = expanding
	
		using = bg_paper_card

		vbox = {
			using = layoutpolicy_expanding

			block "header_obj" {
				widget = {
					block "header_size" { 
						size = { -1 35 }
					}

					layoutpolicy_horizontal = expanding
					block "header_paper_card_header_bg" {using = bg_card_header_01}
					
					block "header_content" {}
				}
			}

			vbox = {
				using = layoutpolicy_expanding
				block "bottom_content" {}
			}
		}
	}

	# type estate_framed_card = widget {
	# 	block "header_paper_card_size" {
	# 		size = { -1 75 }
	# 	}
	# 	layoutpolicy_horizontal = expanding
	
	# 	using = bg_paper_card

	# 	vbox = {
	# 		using = layoutpolicy_expanding

	# 		block "header_obj" {
	# 			widget = {
	# 				block "header_size" { 
	# 					size = { -1 35 }
	# 				}

	# 				layoutpolicy_horizontal = expanding
	# 				using = bg_card_header_01
	# 				block "header_content" {}
	# 			}
	# 		}

	# 		widget = {
	# 			using = layoutpolicy_expanding
	# 			block "bottom_content" {}
	# 		}
	# 	}
	# }

	type header_paper_card_horizontal = widget {
		block "header_paper_card_size" {
			size = { -1 40 }
		}
		
		layoutpolicy_horizontal = expanding
	
		using = bg_paper_card

		# block "header_paper_card_extra" {}

		hbox = {
			using = layoutpolicy_expanding
			# block "card_margins" {
				margin = {5 5}
			# }
			
			block "header_obj" {
				widget = {
					block "header_size" { 
						size = { 35 -1 }
					}

					layoutpolicy_vertical = expanding
					using = bg_card_header_01
					block "header_content" {}
				}
			}

			widget = {
				using = layoutpolicy_expanding
				block "bottom_content" {}
			}
		}
	}

	type clickable_header_card_02 = widget {
		size = { -1 75 }
		layoutpolicy_horizontal = expanding
	
		using = bg_paper_card

		vbox = {
			layoutpolicy_horizontal = expanding
			layoutpolicy_vertical = expanding

			widget = {
				block "header_size" {
					size = {-1 35}
				}
				
				layoutpolicy_horizontal = expanding
				block "header_bg" {
					using = bg_card_header_01
				}

				card_header_button_02 = {
					size = {100% 100%}
					# enabled = no
				}
			}
			widget = {
				using = layoutpolicy_expanding

				block "bottom_content" {}
			}
		}
	}

	## DIVIDERS ##

	type divider_flavor_01 = widget {
		size = { 15 -1 }
		layoutpolicy_vertical = expanding
	
		using = bg_divider_flavor_01
	}

	type divider_flavor_03 = widget {
		size = { 15 -1 }
		layoutpolicy_vertical = expanding
	
		using = bg_divider_flavor_03
	}

	# type divider_horizontal_flavor_01 = widget {
	# 	size = { 15 -1 }
	# 	layoutpolicy_vertical = expanding
	
	# 	using = bg_divider_flavor_01
	# }

	##   BOOKMARKS  ###

	type bookmark_02 = widget {
		layoutpolicy_vertical = expanding
		size = {12 -1}
		allow_outside = yes
		
		icon = {
			
			block "bookmark_size" {
				size = { 12 50 }
			}
			parentanchor = hcenter|top
			# position = {0 -1}
			block "bookmark_texture" {
				texture = "gfx/interface/component_tiles/bookmark_02.dds"
			}

			texture_density = 2

			block "bookmark_color" {
				# tintcolor = "[ImportantCultureItem.GetColor]"
			}
			modify_texture = {
				using = overlay_cloth_texture
				blend_mode = overlay
				alpha = 0.1
			}

			# block "bookmark_shadow" {
				background = {
					texture = "gfx/interface/component_tiles/bookmark_02.dds"
					texture_density = 2
					margin = { 1 4 }
					margin_top = -1
					alpha = 0.1
					modify_texture = {
						using = color_black_texture
						blend_mode = multiply
					}
				}
			# }
		}
	}

	##   CHARACTER FRAMES  ###

	type character_frame_1 = widget {
		block "character_frame_size" {
			size = { 216 256 }
		}

		block "portrait_datacontext" {
			datacontext = "[Player.GetGovernment.GetRulerOrRegent]"
		}

		using = character_portrait_bg

		portrait_standard_head_button = {
			block "character_portrait_visible" {
				visible = yes
			}
			parentanchor = bottom
			position = { -5 -9 }
			size = { 225 255 }
		}

		icon = {
			size = {100% 100%}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_1.dds"
			texture_density = 2
			spriteborder = {100 100}
			spriteType = corneredstretched
		}
	}

	type character_frame_2 = widget {
		block "character_frame_size" {
			size = { 216 256 }
		}
		block "portrait_datacontext" {
			datacontext = "[Player.GetGovernment.GetRulerOrRegent]"
		}

		using = character_portrait_bg

		portrait_standard_head_button = {
			block "character_portrait_visible" {
				visible = yes
			}
			parentanchor = bottom
			position = { -5 -9 }
			size = { 225 255 }
		}

		icon = {
			size = {100% 100%}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_1.dds"
			texture_density = 2
			spriteborder = {100 100}
			spriteType = corneredstretched
		}
		icon = {
			size = {61 23}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_ornament_vertical.dds"
			texture_density = 2
			parentanchor = hcenter|top
			position = {0 5}
		}
		icon = {
			size = {61 23}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_ornament_vertical.dds"
			texture_density = 2
			parentanchor = hcenter|bottom
			position = {0 -5}
			mirror = vertical
		}
		icon = {
			size = {23 61}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_ornament_horizontal.dds"
			texture_density = 2
			parentanchor = vcenter|left
			mirror = horizontal
			position = {5 0}
		}
		icon = {
			size = {23 61}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_ornament_horizontal.dds"
			texture_density = 2
			parentanchor = vcenter|right
			position = {-5 0}
		}
	}

	type character_frame_3 = widget {
		block "character_frame_size" {
			size = { 216 256 }
		}
		
		block "portrait_datacontext" {
			datacontext = "[Player.GetGovernment.GetRulerOrRegent]"
		}

		using = character_portrait_bg

		portrait_standard_head_button = {
			block "character_portrait_visible" {
				visible = yes
			}
			parentanchor = bottom
			position = { -5 -9 }
			block "portrait_size" {
				size = { 225 255 }
			}
		}

		icon = {
			size = {100% 100%}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_1.dds"
			texture_density = 2
			spriteborder = {100 100}
			spriteType = corneredstretched
		}
		icon = {
			size = {100% 100%}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_3.dds"
			texture_density = 2
			spriteborder = {105 105}
			spriteType = corneredstretched
		}
		icon = {
			size = {61 23}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_ornament_vertical.dds"
			texture_density = 2
			parentanchor = hcenter|top
			position = {0 5}
		}
		icon = {
			size = {61 23}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_ornament_vertical.dds"
			texture_density = 2
			parentanchor = hcenter|bottom
			position = {0 -5}
			mirror = vertical
		}
		icon = {
			size = {23 61}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_ornament_horizontal.dds"
			texture_density = 2
			parentanchor = vcenter|left
			mirror = horizontal
			position = {5 0}
		}
		icon = {
			size = {23 61}
			ignore_layout = yes
			texture = "gfx/interface/component_decoration/character_frames/character_frame_ornament_horizontal.dds"
			texture_density = 2
			parentanchor = vcenter|right
			position = {-5 0}
		}
	}

	type character_ribbon_1 = icon {
		size = {100% 100%}
		ignore_layout = yes
		texture = "gfx/interface/component_decoration/character_frames/character_ribbon_1.dds"
		texture_density = 2
		block "stretchable" {
			spriteborder = {102 124}
			spriteType = corneredstretched
		}
		block "ribbon color" {
			modify_texture = {
				using = color_mid_red_texture
				blend_mode = overlay
			}
		}
	}

	type character_ribbon_2 = icon {
		size = {100% 100%}
		ignore_layout = yes
		texture = "gfx/interface/component_decoration/character_frames/character_ribbon_2.dds"
		texture_density = 2
		block "stretchable" {
			spriteborder = {102 124}
			spriteType = corneredstretched
		}
		block "ribbon color" {
			modify_texture = {
				using = color_nobles_texture
				blend_mode = overlay
			}
		}
	}

	type character_ribbon_3 = icon {
		size = {100% 100%}
		ignore_layout = yes
		texture = "gfx/interface/component_decoration/character_frames/character_ribbon_3.dds"
		texture_density = 2
		block "stretchable" {
			spriteborder = {102 35}
			spriteType = corneredstretched
		}
		block "ribbon color" {
			modify_texture = {
				using = color_crown_texture
				blend_mode = overlay
			}
		}
	}

	type character_frame_big = widget {
		
		block "character_frame_size" {
			size = { 216 256 }
		}

		block "portrait_datacontext" {
			datacontext = "[Player.GetGovernment.GetRulerOrRegent]"
		}

		using = character_portrait_bg

		widget = {
			parentanchor = hcenter|bottom
			position = { 0 -9 }
			size = { 92% 92% }
			# scissor = yes

			portrait_standard_head_framed_button = {
				block "character_portrait_visible" {
					visible = yes
				}
				size = { 100% 100% }
			}

			portrait_standard_head_ani_button = {
				block "character_portrait_ani_visible" {
					visible = no
				}
				parentanchor = bottom
				position = { 0 -3 }
				block "character_portrait_ani_size" {
					size = { 100% 100% }
				}
			}
		}
		
		icon = {
			block "character_frame_enable" {
				enabled = "[Character.IsAlive]"
			}
			block "character_frame_texture" {
				texture = "gfx/interface/component_decoration/character_frames/character_frame_1.dds"
			}
			texture_density = 2
			size = {100% 100%}
			modify_texture = {
				visible = "[Not(Character.IsAlive)]"
				using = color_black_texture
				blend_mode = multiply
				alpha = 0.3
			}
		}
	}

	type character_frame_medium = widget {
		
		block "character_frame_size" {
			size = { 108 128 }
		}
		
		block "portrait_datacontext" {
			datacontext = "[Player.GetGovernment.GetRulerOrRegent]"
		}

		using = character_portrait_bg
		allow_outside = yes

		widget = {
			parentanchor = hcenter|bottom
			block "portrait_position" {position = { 0 -8 }}
			block "portrait_size" { size = { 85% 85% } }
			scissor = yes
			allow_outside = yes

			portrait_standard_head_framed_button = {
				block "character_portrait_visible" {
					visible = yes
				}
				size = { 100% 100% }
			}

			portrait_standard_head_ani_button = {
				block "character_portrait_ani_visible" {
					visible = no
				}
				parentanchor = bottom
				position = { 0 -3 }
				block "character_portrait_ani_size" {
					size = { 100% 100% }
				}
			}
		}
		
		icon = {
			block "character_frame_enable" {
				enabled = "[Character.IsAlive]"
			}
			block "character_frame_texture" {
				texture = "gfx/interface/component_decoration/character_frames/character_frame_1.dds"
			}
			block "character_frame_texture_color" {}
			texture_density = 2
			size = {100% 100%}
			modify_texture = {
				visible = "[Not(Character.IsAlive)]"
				using = color_black_texture
				blend_mode = multiply
				alpha = 0.3
			}
		}

		block "character_ribbon" {}
		block "dynasty_shield" {}
		block "lowborn_coat_of_arms" {}
	}

	type character_frame_medium_with_labels = widget {
		
		block "portrait_datacontext" {
			datacontext = "[Player.GetGovernment.GetRulerOrRegent]"
		}
		vbox = {
			margin = {0 20}
			parentanchor = hcenter|vcenter
			widget = {

				using = character_portrait_bg

				block "character_frame_size" {
					size = { 108 128 }
				}

				widget = {
					parentanchor = hcenter|bottom
					position = { 0 -8 }
					size = { 85% 85% }
					# scissor = yes

					portrait_standard_head_framed_button = {
						block "character_portrait_visible" {
							visible = yes
						}
						size = { 100% 100% }
					}

					portrait_standard_head_ani_button = {
						block "character_portrait_ani_visible" {
							visible = no
						}
						parentanchor = bottom
						position = { 0 -3 }
						block "character_portrait_ani_size" {
							size = { 100% 100% }
						}
					}
				}
				
				icon = {
					block "character_frame_texture" {
						texture = "gfx/interface/component_decoration/character_frames/character_frame_1.dds"
					}
					block "character_frame_texture_color" {}
					texture_density = 2
					size = {100% 100%}
				}
				character_ribbon_3 = {
					visible = "[Character.IsRuler]"
					blockoverride "stretchable" {}
				}
			}
			vbox = { # dead character
				visible = "[Not(Character.IsAlive)]"
				hbox = {
					margin = {17 1}
					margin_bottom = 0
					using = bg_name_banner
					text_single = { 
						text = "[Character.GetDeathInfo]"
						using = Font_Type_Headers using = Font_Size_Very_Small default_format = "#yellow_titles"
						maximumsize = { 200 -1 }
						autoresize = yes
					}
				}
			}
			hbox = { # living character
				visible = "[Character.IsAlive]"
				vbox = {
					visible = "[Character.HasCourtCountry]"
					vbox = {
						visible = "[Character.GetCourtCountry.IsReal]"
						vbox = { # foreign character
							visible = "[Not(ObjectsEqual(Character.GetCourtCountry, Player.GetCountry ))]"
							hbox = {
								margin = {17 1}
								margin_bottom = 0
								using = bg_name_banner
								
								text_single = {
									text = "EVENT_CHARACTER_FOREIGN"
									visible = "[Not(EqualTo_string(Character.GetRoleName, ''))]"
									using = Font_Type_Flavor using = Font_Size_Very_Small default_format = "#yellow_titles"
									maximumsize = { 200 -1 }
									autoresize = yes
								}
								text_single = {
									text = "EVENT_CHARACTER_FOREIGN_NO_ROLE"
									visible = "[EqualTo_string(Character.GetRoleName, '')]"
									using = Font_Type_Flavor using = Font_Size_Very_Small default_format = "#yellow_titles"
									maximumsize = { 200 -1 }
									autoresize = yes
								}
							}
						}
						vbox = { # our character
							visible = "[ObjectsEqual(Character.GetCourtCountry, Player.GetCountry )]"
							hbox = {
								margin = {17 1}
								margin_bottom = 0
								visible = "[Not(EqualTo_string(Character.GetRoleName, ''))]"
								
								using = bg_name_banner
								text_single = {
									text = "EVENT_CHARACTER_OURS"
									
									using = Font_Type_Flavor using = Font_Size_Very_Small default_format = "#yellow_titles"
									maximumsize = { 200 -1 }
									autoresize = yes
								}
							}
							
							text_single = {
								text = "EVENT_CHARACTER_OURS_NO_ROLE"
								visible = "[EqualTo_string(Character.GetRoleName, '')]"
								using = Font_Type_Flavor using = Font_Size_Very_Small default_format = "#yellow_titles"
								maximumsize = { 200 -1 }
								autoresize = yes
							}
						}
					}
				}
			}
			hbox = {
				size = { 5 10 }
				# parentanchor = hcenter|vcenter
				margin = {17 1}
				margin_bottom = 1
				using = bg_name_banner
				text_single = {
					text = "[Character.GetNameToFit('(int32)22', '(bool)yes')]"
					using = Font_Type_Headers
					using = Font_Size_Small
					default_format = "#yellow_titles"
					maximumsize = { 200 -1 }
					autoresize = yes
				}
			}
		}
	}

	type character_frame_medium_with_labels_and_abilities = widget {
		block "portrait_datacontext" {
			datacontext = "[Player.GetGovernment.GetRulerOrRegent]"
		}
		vbox = {
			parentanchor = center
			margin_bottom = 5
			spacing = 5
			widget = {
				using = character_portrait_bg

				block "character_frame_size" {
					size = { 108 128 }
				}

				widget = {
					parentanchor = hcenter|bottom
					size = { 90% 90% }
					# scissor = yes

					portrait_standard_head_framed_button = {
						block "character_portrait_visible" {
							visible = yes
						}
						size = { 100% 100% }
					}

					portrait_standard_head_ani_button = {
						block "character_portrait_ani_visible" {
							visible = no
						}
						parentanchor = bottom
						position = { 0 -3 }
						block "character_portrait_ani_size" {
							size = { 100% 100% }
						}
					}
				}
				
				icon = {
					block "character_frame_texture" {
						texture = "gfx/interface/component_decoration/character_frames/character_frame_1.dds"
					}
					block "character_frame_texture_color" {}
					texture_density = 2
					size = {100% 100%}
				}
			}
			# dead character
			vbox = { 
				visible = "[Not(Character.IsAlive)]"
				hbox = {
					margin = {17 1}
					margin_bottom = 0
					using = bg_name_banner
					text_single = { 
						text = "[Character.GetDeathInfo]"
						using = Font_Type_Headers using = Font_Size_Very_Small default_format = "#yellow_titles"
						maximumsize = { 200 -1 }
						autoresize = yes
					}
				}
			}
			# living character
			hbox = { 
				visible = "[Character.IsAlive]"
				vbox = {
					visible = "[Character.HasCourtCountry]"
					vbox = {
						visible = "[Character.GetCourtCountry.IsReal]"
						# foreign character
						vbox = { 
							visible = "[Not(ObjectsEqual(Character.GetCourtCountry, Player.GetCountry ))]"
							hbox = {
								margin = {17 1}
								margin_bottom = 0
								using = bg_name_banner
								
								text_single = {
									text = "EVENT_CHARACTER_FOREIGN"
									visible = "[Not(EqualTo_string(Character.GetRoleName, ''))]"
									using = Font_Type_Flavor using = Font_Size_Very_Small default_format = "#yellow_titles"
									maximumsize = { 200 -1 }
									autoresize = yes
								}
								text_single = {
									text = "EVENT_CHARACTER_FOREIGN_NO_ROLE"
									visible = "[EqualTo_string(Character.GetRoleName, '')]"
									using = Font_Type_Flavor using = Font_Size_Very_Small default_format = "#yellow_titles"
									maximumsize = { 200 -1 }
									autoresize = yes
								}
							}
							
						}
						vbox = { # our character
							visible = "[ObjectsEqual(Character.GetCourtCountry, Player.GetCountry )]"
							hbox = {
								margin = {17 1}
								margin_bottom = 0
								visible = "[Not(EqualTo_string(Character.GetRoleName, ''))]"
								
								using = bg_name_banner
								text_single = {
									text = "EVENT_CHARACTER_OURS"
									
									using = Font_Type_Flavor using = Font_Size_Very_Small default_format = "#yellow_titles"
									maximumsize = { 200 -1 }
									autoresize = yes
								}
							}
							
							text_single = {
								text = "EVENT_CHARACTER_OURS_NO_ROLE"
								visible = "[EqualTo_string(Character.GetRoleName, '')]"
								using = Font_Type_Flavor using = Font_Size_Very_Small default_format = "#yellow_titles"
								maximumsize = { 200 -1 }
								autoresize = yes
							}
						}
					}
				}
			}
			# NAME
			hbox = {
				size = { 5 10 }
				# parentanchor = hcenter|vcenter
				margin = {17 1}
				margin_bottom = 1
				using = bg_name_banner
				text_single = {
					text = "[Character.GetNameToFit('(int32)22', '(bool)yes')]"
					using = Font_Type_Headers
					using = Font_Size_Small
					default_format = "#yellow_titles"
					maximumsize = { 200 -1 }
					autoresize = yes
				}
			}
			# ABILITIES
			hbox = {
				size = { 5 10 }
				# parentanchor = hcenter|vcenter
				margin = {7 1}
				margin_bottom = 1
				using = bg_name_banner
				character_abilities = {
					blockoverride "abilities_bg" {}
					blockoverride "abilities_icon_size" {
						size = { 20 20 }
					}
				}

				hbox = {
					spacing = 5
					datamodel = "[Character.GetTraits]"
					item = {
						widget = {
							visible = "[Trait.IsGeneralTrait]"
							size = { 20 20 }
							icon = {
								size = { 100% 100% }
								using = trait_item
								blockoverride "trait_item_size" {
									size = { 100% 100% }
								}
							}
						}
					}
				}
			}
		}
	}

	type character_frame_small = widget {
		block "character_frame_size" {
			size = { 64 76 }
		}
		
		block "portrait_datacontext" {
			datacontext = "[Player.GetGovernment.GetRulerOrRegent]"
		}

		# block "character_portrait_bg" {
			using = character_portrait_bg
		# }
		allow_outside = yes

		widget = {
			parentanchor = hcenter|bottom
			block "portrait_position" {position = { 0 -3 }}
			size = { 92% 92% }
			scissor = yes
			allow_outside = yes

			block "portrait_widget" {
				portrait_standard_head_framed_button = {
					block "character_portrait_visible" {
						visible = yes
					}
					size = { 100% 100% }
				}
			
				portrait_standard_head_ani_button = {
					block "character_portrait_ani_visible" {
						visible = no
					}
					parentanchor = bottom
					position = { 0 -3 }
					block "character_portrait_ani_size" {
						size = { 100% 100% }
					}
				}
			}
		}

		icon = {
			block "character_frame_enable" {
				enabled = "[Character.IsAlive]"
			}
			block "character_frame_texture" {
				texture = "gfx/interface/component_decoration/character_frames/character_frame_1.dds"
			}
			texture_density = 2
			size = {100% 100%}
			modify_texture = {
				visible = "[Not(Character.IsAlive)]"
				using = color_black_texture
				blend_mode = multiply
				alpha = 0.5
			}
		}
	
		character_ribbon_3 = {
			block "character_small_ribbon_visible" {
				visible = "[Character.IsRuler]"
			}
			blockoverride "stretchable" {}
			blockoverride "ribbon color" {
				modify_texture = {
					visible = "[Character.IsRuler]"
					using = color_crown_texture
					blend_mode = overlay
				}
				modify_texture = {
					visible = "[Not(Character.IsAlive)]"
					using = color_black_texture
					blend_mode = add
					alpha = 0.2
				}
			}
		}

	
		
		block "dynasty_shield" {
			dynasty_shield_small_plus = {
				block "character_frame_dynasty_visible" {
					visible = "[Character.HasDynasty]"
				}
				datacontext = "[Character.GetDynasty]"

				# block "character_frame_flag_size" {
					position = { -9 2 }
				# }
				parentanchor = bottom

				tooltipwidget = { using = Dynasty_tooltip }

				blockoverride "dynasty_click" {
					onclick = "[ShowCharacterInDynasty(Character.Self)]"
				}
			}
		}

		icon = {
			block "estate_icon" {}
			block "character_frame_estate_visible" {
				visible = "[Character.IsValid]"
			}
			parentanchor = bottom|right
			block "character_frame_estate_size" {
				position = { 9 4 }
				size = { 30 30 }
			}
			texture = "[GetEstateIcon(Character.GetEstateType)]"
			datacontext = "[Character.GetCourtCountry.GetGovernment.GetEstate(Character.GetEstateType)]"
			datacontext = "[Character.GetCourtCountry]"
			tooltipwidget = {
				using = Estate_tooltip
			}
		}
	}

	type card_common = hbox {
		layoutpolicy_horizontal = expanding
		vbox = {
			layoutpolicy_horizontal = expanding

			using = bg_paper_card
			
			using = bg_cabinet_card_frame

			widget = {
				layoutpolicy_horizontal = expanding
				block "header_size" {
					size = {-1 40}
				}

				block "header_decor_templates" {
					using = bg_card_header_01_diplomacy
					using = bg_generic_side_mask
					using = bg_cabinet_card_frame
				}
				
				block "common_header_back_decor" {}
				hbox = {
					layoutpolicy_horizontal = expanding
					spacing = 4
					margin = {10 0}
					block "common_header_extra_left" {}
					block "common_header" {
						# block "common_header_icon" {
							icon = {
								size = { 30 30 }
								block "common_header_icon_texture" {
									texture = "gfx/interface/icons/religious_doctrines/catholic/religious_actions.dds"
								}
								texture_density = 2
							}
						# }
						block "common_header_text_full" {
							text_single = {
								block "common_header_text" {
									raw_text = "Card title header"
								}
							}
						}
						block "common_header_text_expand" {expand = {}}
					}
					block "common_header_extra_right" {}
				}
			}
				
			hbox = {
				layoutpolicy_horizontal = expanding
				spacing = 4
				block "card_common_bottom_margin" {
					margin = {15 10}
				}
				block "common_bottom_content" {
					icon = {
						size = { 30 30 }
						texture = "gfx/interface/icons/religious_doctrines/catholic/religious_actions.dds"
						texture_density = 2
					}
					text_single = {
						raw_text = "Card content text"
					}
					expand = {}
				}
			}
				
			expand = {}
		}
	}

	type situation_card_common = card_common {
		blockoverride "header_decor_templates" {
			using = bg_card_header_01
			using = bg_cabinet_card_frame
		}
	}

	type disaster_card_common = card_common {
		blockoverride "header_decor_templates" {
			using = bg_card_header_01_society
			using = bg_cabinet_card_frame
		}
	}

	type io_laws_list_item = laws_list_item {
		blockoverride "law_list_item_io_visible" {
			visible = yes
		}
		blockoverride "law_list_item_government_visible" {
			visible = no
		}
	}

	type card_actions = hbox {
		# using = layoutpolicy_expanding
		vbox = {
			layoutpolicy_horizontal = expanding

			maximumsize = { -1 110 }
			minimumsize = { -1 110 }
			using = bg_paper_card_situations
			using = bg_cabinet_card_frame

			widget = {
				layoutpolicy_horizontal = expanding
				size = {-1 40}
				minimumsize = {400 40}
				
				block "bg_card_action" {
					using = bg_scroll_card_header
				}
				
				hbox = {
					layoutpolicy_horizontal = expanding
					spacing = 4
					margin = {10 0}
					# block "card_header_content" {
						expand = {}
						icon = {
							size = { 25 25 }
							block "card_header_icon" {
								texture = "gfx/interface/icons/religious_doctrines/catholic/religious_actions.dds"
							}
							texture_density = 2
							glow = {
								name = "drop_shadow"
								glow_radius = 3
								color = {0.0 0.0 0.0 1.0}
								alpha = 0.5
							}
						}
						text_single = {
							block "card_header_text" {
								raw_text = "IOs Card important title header"
							}
						}
						block "card_header_content_extra" {
							expand = {}
						}
					# }
				}
			}
				
			hbox = {
				layoutpolicy_horizontal = expanding
				spacing = 4
				margin = {15 10}
				
					# block "ios_buttons_content" {
					# 	button_regular_diamond = {
					# 		layoutpolicy_horizontal = expanding
					# 		size = { -1 30 }
					# 		block "ios_button_text" {
					# 			text = "start_vote_in_election_yes"
					# 		}
					# 	}
					# 	button_regular_diamond = {
					# 		layoutpolicy_horizontal = expanding
					# 		size = { -1 30 }
					# 		block "ios_button_text" {
					# 			text = "start_vote_in_election_yes"
					# 		}
					# 	}
					# }

				block "actions_override" {
					vbox = {
						layoutpolicy_horizontal = expanding
						hbox = {
							layoutpolicy_horizontal = expanding
							spacing = 5
							visible = "[And(And3(Not( EqualTo_string(Localize('excommunicate_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip) ), 
							Not( EqualTo_string(Localize('call_crusade'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip) ),
							Not( EqualTo_string(Localize('western_schism_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip) )), 
							ResolutionGlue.EnactResolutionIsActive)]"
		
							hbox = {
								layoutpolicy_horizontal = expanding
								using = bg_text_mask_container_dark_green
								margin = {7 5}
								spacing = 5
		
								action_button_diamond = {
									layoutpolicy_horizontal = expanding
									size = { -1 30 }
									
									text = "vote_in_election_yes"
									
									name = "resolution activate button"
									title = "[ResolutionGlue.GetEnactResolution.GetName]"
									description = "[ResolutionGlue.GetEnactResolution.GetBasicTooltip]"
									proposer = "[ResolutionGlue.GetProposer]"
									actor = "[InternationalOrganizationsView.GetPlayer]"
									parameter = {
										parameter_name = "recipient"
										parameter_value = "[InternationalOrganizationsView.GetInternationalOrganization]"
									}
									parameter = {
										parameter_name = "vote"
										parameter_value_bool = yes
									}
									left_click_and_hold_action = { action_name = "[ResolutionGlue.GetEnactResolution.GetKey]" }
								}
		
								text_single = {
									size = { 30 30 }
									text = "[ResolutionGlue.GetFirstPossibleVoteNum]"
									using = Font_Size_Big
								}
		
								datacontext = "[ResolutionGlue.GetVoteToEnactAction]"
								tooltipwidget = {
									using = international_organization_resolution_voting_tooltip
								}
							}
		
							widget = {
								allow_outside = yes
								size = { 30 30 }
		
								piechart = {
									size = { 30 30 }
									using = piechart_angles
									using = bg_circle_piechart
									
									pieslice_no_highlight = {
										texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
										value = "[FixedPointToFloat(ResolutionGlue.GetProgressToDeadline)]"
										color = { 0.01 0.6 0.9 1 }
										alwaystransparent = yes
									}
					
									pieslice_no_highlight = {
										texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
										value = "[Subtract_float('(float)100.0', FixedPointToFloat(ResolutionGlue.GetProgressToDeadline))]"
										color = { 0.0 0.1 0.1 1 }
										alwaystransparent = yes
									}
		
									icon = {
										size = { 80% 80% }
										texture = "gfx/interface/icons/text_icons/time.dds"
										parentanchor= center
									}
		
									datacontext = "[ResolutionGlue.GetVoteToEnactAction]"
									tooltipwidget = {
										using = international_organization_resolution_voting_tooltip
									}
								}
							}
		
							hbox = {
								layoutpolicy_horizontal = expanding
								using = bg_text_mask_container_dark_red
								margin = {7 5}
								spacing = 5
								
								text_single = {
									margin_right = 5
									size = { 30 30 }
									text = "[ResolutionGlue.GetSecondPossibleVoteNum]"
									using = Font_Size_Big
								}
		
								action_button_diamond = {
									layoutpolicy_horizontal = expanding
									size = { -1 30 }
									text = "vote_in_election_no"
									
									name = "resolution activate button"
									title = "[ResolutionGlue.GetEnactResolution.GetName]"
									description = "[ResolutionGlue.GetEnactResolution.GetBasicTooltip]"
									proposer = "[ResolutionGlue.GetProposer]"
									actor = "[InternationalOrganizationsView.GetPlayer]"
									parameter = {
										parameter_name = "recipient"
										parameter_value = "[InternationalOrganizationsView.GetInternationalOrganization]"
									}
									parameter = {
										parameter_name = "vote"
										parameter_value_bool = no
									}
									left_click_and_hold_action = { action_name = "[ResolutionGlue.GetEnactResolution.GetKey]" }
								}
								datacontext = "[ResolutionGlue.GetVoteToEnactAction]"
								tooltipwidget = {
									using = international_organization_resolution_voting_tooltip
								}
							}
						}
		
						hbox = {
							layoutpolicy_horizontal = expanding
							spacing = 5

							# block "not_getenactresolution_second_visible" {
								visible = "[And(Or3(EqualTo_string(Localize('excommunicate_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip), 
								EqualTo_string(Localize('call_crusade'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip),
								EqualTo_string(Localize('western_schism_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip)),
								ResolutionGlue.EnactResolutionIsActive)]"
							# }

							hbox = {
								layoutpolicy_horizontal = expanding
								using = bg_text_mask_container_dark_green
								margin = {7 5}
								spacing = 5
		
								action_button_diamond = {
									layoutpolicy_horizontal = expanding
									size = { -1 30 }
									
									text = "vote_in_election_yes"
									
									name = "resolution activate button"
									title = "[ResolutionGlue.GetEnactResolution.GetName]"
									description = "[ResolutionGlue.GetEnactResolution.GetBasicTooltip]"
									proposer = "[ResolutionGlue.GetProposer]"
									actor = "[InternationalOrganizationsView.GetPlayer]"
									parameter = {
										parameter_name = "recipient"
										parameter_value = "[InternationalOrganizationsView.GetInternationalOrganization]"
									}
									parameter = {
										parameter_name = "target"
										parameter_value = "[ResolutionGlue.GetTargetCountry]"
									}
									parameter = {
										parameter_name = "vote"
										parameter_value_bool = yes
									}
									left_click_and_hold_action = { action_name = "[ResolutionGlue.GetEnactResolution.GetKey]" }
								}
		
								text_single = {
									margin_left = 5
									size = { 30 30 }
									text = "[ResolutionGlue.GetFirstPossibleVoteNum]"
									using = Font_Size_Big
								}
								datacontext = "[ResolutionGlue.GetVoteToEnactAction]"
								tooltipwidget = {
									using = international_organization_resolution_voting_tooltip
								}
							}
		
							widget = {
								allow_outside = yes
								size = { 30 30 }
		
								piechart = {
									
									size = { 30 30 }
									using = piechart_angles
									using = bg_circle_piechart
					
									pieslice_no_highlight = {
										texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
										value = "[FixedPointToFloat(ResolutionGlue.GetProgressToDeadline)]"
										color = { 0.01 0.6 0.9 1 }
										alwaystransparent = yes
									}
					
									pieslice_no_highlight = {
										texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
										value = "[Subtract_float('(float)100.0', FixedPointToFloat(ResolutionGlue.GetProgressToDeadline))]"
										color = { 0.0 0.1 0.1 1 }
										alwaystransparent = yes
									}
		
									icon = {
										size = { 80% 80% }
										texture = "gfx/interface/icons/text_icons/time.dds"
										parentanchor= center
									}
		
									datacontext = "[ResolutionGlue.GetVoteToEnactAction]"
									tooltipwidget = {
										using = international_organization_resolution_voting_tooltip
									}
								}
							}
		
							expand = {}
		
							hbox = {
								layoutpolicy_horizontal = expanding
								using = bg_text_mask_container_dark_red
								margin = {7 5}
								spacing = 5
								
								text_single = {
									margin_right = 5
									size = { 30 30 }
									text = "[ResolutionGlue.GetSecondPossibleVoteNum]"
									using = Font_Size_Big
								}
		
								action_button_diamond = {
									layoutpolicy_horizontal = expanding
									size = { -1 30 }
									
									text = "vote_in_election_no"
									
									name = "resolution activate button"
									title = "[ResolutionGlue.GetEnactResolution.GetName]"
									description = "[ResolutionGlue.GetEnactResolution.GetBasicTooltip]"
									proposer = "[ResolutionGlue.GetProposer]"
									actor = "[InternationalOrganizationsView.GetPlayer]"
									parameter = {
										parameter_name = "recipient"
										parameter_value = "[InternationalOrganizationsView.GetInternationalOrganization]"
									}
									parameter = {
										parameter_name = "target"
										parameter_value = "[ResolutionGlue.GetTargetCountry]"
									}
									parameter = {
										parameter_name = "vote"
										parameter_value_bool = no
									}
									left_click_and_hold_action = { action_name = "[ResolutionGlue.GetEnactResolution.GetKey]" }
								}
								datacontext = "[ResolutionGlue.GetVoteToEnactAction]"
								tooltipwidget = {
									using = international_organization_resolution_voting_tooltip
								}
							}
						}

						hbox = {
							layoutpolicy_horizontal = expanding
							margin = {7 5}
							spacing = 5
							visible = "[And(Or3(EqualTo_string(Localize('excommunicate_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip), 
							EqualTo_string(Localize('call_crusade'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip),
							EqualTo_string(Localize('western_schism_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip)),
							Not(ResolutionGlue.EnactResolutionIsActive))]"

							action_button_diamond = {
								layoutpolicy_horizontal = expanding
								size = { -1 30 }
								
								text = "target_vote_in_election"
								
								name = "resolution activate button"
								title = "[ResolutionGlue.GetEnactResolution.GetName]"
								description = "[ResolutionGlue.GetEnactResolution.GetBasicTooltip]"
								proposer = "[ResolutionGlue.GetProposer]"
								actor = "[InternationalOrganizationsView.GetPlayer]"
								parameter = {
									parameter_name = "recipient"
									parameter_value = "[InternationalOrganizationsView.GetInternationalOrganization]"
								}
								parameter = {
									parameter_name = "vote"
									parameter_value_bool = yes
								}
								left_action = { action_name = "[ResolutionGlue.GetEnactResolution.GetKey]" }
							}
						}
		
						# target of vote
						
						# debate
						hbox = {
							layoutpolicy_horizontal = expanding
							hbox = {
								layoutpolicy_horizontal = expanding
								margin = {7 5}
								spacing = 5
	
								visible = "[And(And3(Not( EqualTo_string(Localize('excommunicate_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip) ), 
								Not( EqualTo_string(Localize('call_crusade'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip) ),
								Not( EqualTo_string(Localize('western_schism_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip) )), 
								Not(ResolutionGlue.EnactResolutionIsActive))]"
			
								action_button_diamond = {
									layoutpolicy_horizontal = expanding
									size = { -1 30 }
									
									text = "start_vote_in_election_yes"
									
									name = "vote resolution yes button"
									title = "[ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip]"
									description = "[ResolutionGlue.GetEnactResolution.GetBasicTooltip]"
									proposer = "[ResolutionGlue.GetProposer]"
									actor = "[InternationalOrganizationsView.GetPlayer]"
									parameter = {
										parameter_name = "recipient"
										parameter_value = "[InternationalOrganizationsView.GetInternationalOrganization]"
									}
									parameter = {
										parameter_name = "vote"
										parameter_value_bool = yes
									}
									left_click_and_hold_action = { action_name = "[ResolutionGlue.GetEnactResolution.GetKey]" }
								}
							}
			
							hbox = {
								layoutpolicy_horizontal = expanding
								margin = {7 5}
								spacing = 5
		
								visible = "[And(And3(Not( EqualTo_string(Localize('excommunicate_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip) ), 
								Not( EqualTo_string(Localize('call_crusade'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip) ),
								Not( EqualTo_string(Localize('western_schism_resolution'), ResolutionGlue.GetEnactResolution.GetNameWithNoTooltip) )),
								Not(ResolutionGlue.EnactResolutionIsActive))]"
			
								action_button_diamond = {
									layoutpolicy_horizontal = expanding
									size = { -1 30 }
									
									text = "start_vote_in_election_no"
									
									# block "no_action_button_parameters" {
										name = "vote resolution no button"
										title = "[ResolutionGlue.GetEnactResolution.GetName]"
										description = "[ResolutionGlue.GetEnactResolution.GetBasicTooltip]"
										proposer = "[ResolutionGlue.GetProposer]"
										actor = "[InternationalOrganizationsView.GetPlayer]"
										parameter = {
											parameter_name = "recipient"
											parameter_value = "[InternationalOrganizationsView.GetInternationalOrganization]"
										}
										parameter = {
											parameter_name = "vote"
											parameter_value_bool = no
										}
										left_click_and_hold_action = { action_name = "[ResolutionGlue.GetEnactResolution.GetKey]" }
									# }
								}
							}
						}
					}
				}
				block "actions_content" {}
			}
		}
	}

	type card_io_payments = hbox {
		visible = "[GreaterThan_int32(GetDataModelSize(InternationalOrganizationsView.GetInternationalOrganization.GetPayments), '(int32)0' )]"
		vbox = {
			layoutpolicy_horizontal = expanding

			maximumsize = { -1 124 }
			minimumsize = { -1 124 }
			using = bg_paper_card_situations
			using = bg_cabinet_card_frame

			widget = {
				layoutpolicy_horizontal = expanding
				size = {-1 40}
				minimumsize = {500 40}
				
				block "bg_card_action" {
					using = bg_scroll_card_header
				}
				
				hbox = {
					layoutpolicy_horizontal = expanding
					spacing = 4
					margin = {10 0}

					expand = {}
					icon = {
						size = { 25 25 }
						texture = "gfx/interface/icons/international_organizations/payments.dds"
						texture_density = 2
						glow = {
							name = "drop_shadow"
							glow_radius = 3
							color = {0.0 0.0 0.0 1.0}
							alpha = 0.5
						}
					}
					text_single = {
						text = "IO_PAYMENTS"
					}
					
					expand = {}
					
					header_button_left = {
						visible = "[InternationalOrganizationsView.GetPlayer.IsMemberOfInternationalOrganization(InternationalOrganizationsView.GetInternationalOrganization)]"
						size = { 30 30 }
						blockoverride "button_icon_stretch_sprite" {}
						blockoverride "header_button_frame_inner" {visible = no}
						blockoverride "header_button_icon_size" { size = { 26 30 } }
						blockoverride "header_button_text_layout" {}
						blockoverride "icon_texture" {
							texture = "gfx/interface/icons/international_organizations/payments.dds"
						}
					
						action_tooltip = {
							click_type = left
							click_mode = single
							title = "TAB_TOOLTIP_ECONOMY_LEFT_CLICK"
							on_action = "[OpenEconomyView]"
						}

						tooltipwidget = {
							BasicFunctionalTooltip = {
							}
						}
					}
				}
			}
			hbox = {
				layoutpolicy_horizontal = expanding
				spacing = 4
				margin = {15 7}
				
			}
			scrollarea = {
				scrollbarpolicy_horizontal = always_off
				scrollbarpolicy_vertical = always_off
				autoresizescrollarea = yes

				scrollbar_vertical = {
					using = Scrollbar_Vertical
				}

				scrollwidget = {
					dynamicgridbox = {
						layoutpolicy_horizontal = expanding
						datamodel = "[InternationalOrganization.GetPayments]"

						item = {
							widget = {
								size = { 475 93 }
								vbox = {
									using = layoutpolicy_expanding
									using = bg_paper_card
									maximumsize = { 475 78 }
									hbox = {
										minimumsize = {-1 25} 
										layoutpolicy_horizontal = expanding
										using = bg_card_header_01_diplomacy
										text_single = {
											text = "[Payment.GetNameWithContext(InternationalOrganization.Self)]"
										}
									}
									# using = bg_paper_card
									# using = bg_cabinet_card_frame
									
									hbox = {
										using = layoutpolicy_expanding
										margin = {4 4}
										spacing = 4
										vbox = {
											using = bg_text_mask_container_brown
											minimumsize = {175 -1}
											maximumsize = {175 -1}
											margin = {4 4}
											using = layoutpolicy_expanding
											block "payee_block" {
												text_single = {
													using = layoutpolicy_expanding
													raw_text = "[Localize('PAYEE')]:"
													fontsize = 14
												}
												text_single = {
													using = layoutpolicy_expanding
													text = "[Payment.GetPayeeName(InternationalOrganization.Self)]"
													fontsize = 14
												}
											}
										}
										vbox = {
											minimumsize = {100 -1}
											using = layoutpolicy_expanding
											margin = {4 4}
											text_single = {
												align = center
												using = layoutpolicy_expanding
												raw_text = "[Localize('PAYMENT')]:"
												fontsize = 14
											}
											block "payment_block" {
												text_single = {
													align = center
													using = layoutpolicy_expanding
													text = "[Payment.GetPayeePrice(InternationalOrganization.Self)]"
													fontsize = 14
												}
											}
										}
										vbox = {
											using = layoutpolicy_expanding
											minimumsize = {175 -1}
											maximumsize = {175 -1}
											margin = {4 4}
											using = bg_text_mask_container_brown
											block "payers_list_block" {
												text_single = {
													align = right
													using = layoutpolicy_expanding
													raw_text = "[Localize('PAYERS')]:"
													fontsize = 14
												}
												text_single = {
													align = right
													using = layoutpolicy_expanding
													text = "[Payment.GetCountryPayerNum(InternationalOrganization.Self)]"
													fontsize = 14
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}

	type situation_card_actions = card_actions {
		layoutpolicy_horizontal = expanding
		blockoverride "bg_card_action" {
			using = bg_scroll_card_header
			blockoverride "card_header_pattern" {
				background = {
					using = bg_card_header_01_default
					margin = {-5 0}
					blockoverride "header_color" {
						using = color_default_brown_texture
					}
					blockoverride "header_pattern" {
						texture = "gfx/interface/component_overlay/cloth_texture.dds"
						texture_density = 2
						spriteType = Corneredtiled
						spriteborder = { 0 0 }
						blend_mode = overlay										
					}
					using = graphical_culture_pattern
					modify_texture = {
						block "uiaction_gov" {
							visible = no
						}
						using = color_greyish_texture
						alpha = 1
						blend_mode = normal
					}
				}
			}
		}
		blockoverride "actions_override" {
			vbox = {
				layoutpolicy_horizontal = expanding
				margin = { 0 8 }
				scrollarea = {
					layoutpolicy_horizontal = expanding
					maximumsize = { -1 250 }
					scrollbarpolicy_horizontal = always_off
					autoresizescrollarea = yes

					scrollbar_vertical = {
						using = Scrollbar_Vertical
					}

					scrollwidget = {
						vbox = {
							datamodel = "[ActionGroup.GetActions]"
							item = {
								widget = {
									size = { 480 34 }
									action_button_regular  = {
										name = "situation action button"
										size = { 480 30 }
										parentanchor = center
										text = "[GenericAction.GetNameWithNoTooltip]"
										title = "[GenericAction.GetName]"
										actor = "[SituationView.GetPlayer]"
										parameter = {
											parameter_name = "recipient"
											parameter_value = "[SituationView.GetActiveSituation.GetSituation]"
										}
										left_action = { action_name = "[GenericAction.GetLeftClickKey]" }
										left_click_and_hold_action = { action_name = "[GenericAction.GetLeftClickAndHoldKey]" }
										# block "situation_actions_tooltip_override" {
											tooltipwidget = {
												ContextualTooltipType = {
													blockoverride "title_text" {
														text = "[GenericAction.GetNameWithNoTooltip]"
													}
											
													blockoverride "concept_link" {
														text = "[situation|e]"
													}
													
													blockoverride "title_icon" {
														icon = {
															using = tooltip_title_icon_size
															texture = "[SituationView.GetActiveSituation.GetIcon]"
														}
													}
													
													blockoverride "tooltip_content" {
														using = action_tooltip_inner_content
														blockoverride "conditions_list" {
														}
													}
												}
											}
										# }
									}
								}
							}
						}
					}
				}
			}
		}
	}

	type disaster_card_actions = card_actions {
		blockoverride "bg_card_action" {
			using = bg_scroll_card_header
			blockoverride "card_header_pattern" {
				background = {
					using = bg_card_header_01_default
					margin = {-5 0}
					blockoverride "header_color" {
						using = color_society_texture
					}
					blockoverride "header_pattern" {
						texture = "gfx/interface/component_overlay/cloth_texture.dds"
						texture_density = 2
						spriteType = Corneredtiled
						spriteborder = { 0 0 }
						blend_mode = overlay										
					}
					using = graphical_culture_pattern
					modify_texture = {
						block "uiaction_gov" {
							visible = no
						}
						using = color_greyish_texture
						alpha = 1
						blend_mode = normal
					}
				}
			}
		}
		blockoverride "actions_override" {
			vbox = {
				layoutpolicy_horizontal = expanding
				margin = { 0 8 }
				scrollarea = {
					layoutpolicy_horizontal = expanding
					maximumsize = { -1 250 }
					scrollbarpolicy_horizontal = always_off
					autoresizescrollarea = yes
			
					scrollbar_vertical = {
						using = Scrollbar_Vertical
					}
			
					scrollwidget = {
						dynamicgridbox = {
							datamodel = "[DisasterView.GetActions]"
			
							item = {
								widget = {
									size = {490 40}
									tooltipmeta = {
										texture = "[DisasterView.GetDisaster.GetIcon]"
									}
									action_button_regular  = {
										parentanchor = center
										name = "Disaster action button"
										size = { 98% 30 }
										text = "[GenericAction.GetNameWithNoTooltip]"
										title = "[GenericAction.GetName]"
										actor = "[DisasterView.GetPlayer]"
										parameter = {
											parameter_name = "recipient"
											parameter_value = "[DisasterView.GetDisaster]"
										}
										left_click_and_hold_action = { action_name = "[GenericAction.GetKey]" }
									}
								}
							}
						}
					}
				}
			}
		}
	}

	type card_expandable = hbox {
		vbox = {
			layoutpolicy_horizontal = expanding
			block "card_expandable_size" {
				minimumsize = {500 -1}
			}

			using = bg_paper_card

			widget = {
				layoutpolicy_horizontal = expanding
				size = {-1 40}

				using = bg_generic_shadow
				block "bg_expandable_color" {
					using = bg_card_header_01_diplomacy
				}				
				block "common_header_back_decor" {}
				using = bg_card_header_texture
				using = bg_generic_side_mask
				
				hbox = {
					layoutpolicy_horizontal = expanding
					spacing = 4
					margin = {10 0}
					block "header_extra_left" {}
					block "header_content" {
						icon = {
							size = { 30 30 }
							block "header_icon" {
								texture = "gfx/interface/icons/religious_doctrines/catholic/religious_actions.dds"
							}
							texture_density = 2
						}
						text_single = {
							block "header_text" {
								raw_text = "IO or Situation"
							}
						}
						expand = {}
						block "header_content_rest" {}
					}

					hint_button = {
						size = { 30 30 }
						block "visible_hint" {
							visible = no
						}
						block "onaction_hint" {
							action_tooltip = {
								title = "OPEN_HINT"
								on_action = "[OpenLateralViewWithParams('hints', 'selected_hint = hint_black_death')]"
							}
						}
					}

					header_button_left = {
						size = { 30 30 }
						blockoverride "button_icon_stretch_sprite" {}
						blockoverride "header_button_frame_inner" {visible = no}
						blockoverride "header_button_icon_size" { size = { 30 30 } }
						blockoverride "header_button_text_layout" {}

						block "header_button_onclick" {
							onclick = "[GetVariableSystem.Toggle( 'toggled' )]"
						}
						blockoverride "icon_replace" {
							icon = {
								parentanchor = center
								position = {0 1}
								block "icon_replace_visible_yes" {
									visible = "[GetVariableSystem.Exists( 'toggled' )]"
								}
								size = { 22 22 }
								texture = "gfx/interface/buttons/flats/button_simple_down.dds"
								using = color_gold
								modify_texture = {
									using = overlay_window_texture
									blend_mode = overlay
									alpha = 1
								}
							}

							icon = {
								parentanchor = center
								position = {0 0}
								block "icon_replace_visible_not" {
									visible = "[Not(GetVariableSystem.Exists( 'toggled' ))]"
								}
								size = { 22 22 }
								texture = "gfx/interface/buttons/flats/button_simple_right.dds"
								using = color_gold
								modify_texture = {
									using = overlay_window_texture
									blend_mode = overlay
									alpha = 1
								}
							}
						}
					}
				}
			}
			
			vbox = {
				layoutpolicy_horizontal = expanding
				margin = {10 10 }
				block "bottom_content_onclick" {
					visible = "[GetVariableSystem.Exists( 'toggled' )]"
				}
				block "bottom_content" {
					hbox = {
						layoutpolicy_horizontal = expanding
						spacing = 4
						margin = {15 10}
						icon = {
							size = { 30 30 }
							texture = "gfx/interface/icons/religious_doctrines/catholic/religious_actions.dds"
							texture_density = 2
						}
						text_single = {
							raw_text = "Card content text"
						}
						expand = {}
					}

					button_regular_diamond = {
						layoutpolicy_horizontal = expanding
						size = { -1 30 }
						# block "ios_button_propoerties" {
							text = "start_vote_in_election_yes"
						# }
					}
						
					expand = {}
				}
			}
		}
	}

	type situation_card_expandable = card_expandable {
		
		blockoverride "bg_expandable_color" {
			using = bg_card_header_01
		}
	}

	type situation_card_one_line = card_expandable {
		
		blockoverride "bg_expandable_color" {
			using = bg_card_header_01
		}
		blockoverride "bottom_content_onclick" {
			visible = no
		}
		blockoverride "header_button_onclick" {
			visible = no
		}
	}

	type disaster_card_expandable = card_expandable {
		
		blockoverride "bg_expandable_color" {
			using = bg_card_header_01_society
			
		}
	}

	type special_card_header_button = hbox {
		vbox = {
			layoutpolicy_horizontal = expanding
			# block "card_header_button_size" {
				minimumsize = {515 -1}
			# }

			using = bg_paper_card

			widget = {
				layoutpolicy_horizontal = expanding
				size = {-1 40}

				using = bg_generic_shadow
				block "special_card_button_color" {
					using = bg_card_header_01_diplomacy
				}
				using = bg_card_header_texture
				using = bg_generic_side_mask
				
				hbox = {
					layoutpolicy_horizontal = expanding
					spacing = 4
					margin = {10 0}
					block "card_header_button_header_content" {

						# block "card_header_button_icon" {
							icon = {
								size = { 30 30 }
								block "card_header_button_icon_texture" {
									texture = "gfx/interface/icons/religious_doctrines/catholic/religious_actions.dds"
								}
								texture_density = 2
								glow = {
									name = "drop_shadow"
									glow_radius = 3
									color = {0.0 0.0 0.0 1.0}
									alpha = 0.3
								}
							}
						# }
						block "card_header_button_text_single" {
							text_single = {
								block "card_header_button_raw_text" {
									raw_text = "IO or Situation"
								}
							}
						}
						expand = {}
						
						block "card_header_button_header_extra_content" {}
					}
				}
			}
			
			block "bottom_content" {
				hbox = {
					layoutpolicy_horizontal = expanding
					margin = {10 10}
					spacing = 4
				}
			}
		}
	}

	type situation_card_header_button = special_card_header_button {
		blockoverride "special_card_button_color" {
			using = bg_card_header_01_military
		}
	}

	type disaster_card_header_button = special_card_header_button {
		# blockoverride "card_button_color" {
		# 	using = bg_card_header_01_society
		# }
	}

	type side_cards = hbox {
		layoutpolicy_horizontal = expanding
		spacing = 8
		
		vbox = {
			layoutpolicy_horizontal = expanding
			layoutstretchfactor_horizontal = 1
			minimumsize = {-1 90}

			using = bg_paper_card_fancy

			widget = {
				layoutpolicy_horizontal = expanding
				size = {-1 40}

				using = bg_generic_shadow
				block "side_cards_color" {
					using = bg_card_header_01_diplomacy
				}
				using = bg_card_header_texture
				using = bg_generic_side_mask
				
				hbox = {
					layoutpolicy_horizontal = expanding
					spacing = 4
					margin = {10 0}

					block "left_header_content" {
						icon = {
							size = { 30 30 }
							block "left_header_icon" {
								texture = "gfx/interface/icons/religious_doctrines/catholic/religious_actions.dds"
							}
							texture_density = 2
						}
						text_single = {
							block "left_header_text" {
								raw_text = "Card title header"
							}
						}
						expand = {}
					}
				}
			}
				
			hbox = {
				layoutpolicy_horizontal = expanding
				spacing = 4
				margin = {15 10}
				block "left_bottom_content" {}
			}
				
			expand = {}
		}

		vbox = {
			layoutpolicy_horizontal = expanding
			layoutstretchfactor_horizontal = 1
			minimumsize = {-1 90}

			using = bg_paper_card_fancy

			widget = {
				layoutpolicy_horizontal = expanding
				size = {-1 40}

				using = bg_generic_shadow
				block "side_cards_color" {
					using = bg_card_header_01_diplomacy
				}
				using = bg_card_header_texture
				using = bg_generic_side_mask
				
				hbox = {
					layoutpolicy_horizontal = expanding
					spacing = 4
					margin = {10 0}
					block "right_header_content" {
						icon = {
							size = { 30 30 }
							block "right_header_icon" {
								texture = "gfx/interface/icons/religious_doctrines/catholic/religious_actions.dds"
							}
							texture_density = 2
						}
						text_single = {
							block "right_header_text" {
								raw_text = "Card title header"
							}
						}
						expand = {}
					}
				}
			}
				
			hbox = {
				using = layoutpolicy_expanding
				spacing = 4
				margin = {15 10}
				block "right_bottom_content" {}
			}
				
			expand = {}
		}
	}

	type situation_side_cards = side_cards {
		blockoverride "side_cards_color" {
			using = bg_card_header_01
		}
	}

	type disaster_side_cards = side_cards {
		blockoverride "side_cards_color" {
			using = bg_card_header_01_society
		}
	}

	type io_side_cards = side_cards {
		blockoverride "side_cards_color" {
			using = bg_card_header_01_diplomacy
		}
	}

	type io_character_titles = character_titles {}

	type situation_character_titles = character_titles {}

	type disaster_character_titles = character_titles {}

	type simple_two_line_card = vbox {
		layoutpolicy_horizontal = expanding
		layoutstretchfactor_horizontal = 1
		margin = {0 5}

		using = bg_paper_card_fancy

		widget = {
			layoutpolicy_horizontal = expanding
			size = {-1 50}

			block "card_datacontext" {
				datacontext = "[Player]"
			}
			
			hbox = {
				layoutpolicy_horizontal = expanding
				spacing = 4
				margin = {10 0}
				
				hbox = {
					block "left_element" {
						icon = {
							# block "left_element_icon" {
								texture = "gfx/interface/icons/estates/nobles_estate.dds"
							# }
							texture_density = 2
							size = {40 40}
						}
					}
					vbox = {
						layoutpolicy_horizontal = expanding
						spacing = 4
						margin = {5 0}
						
						block "left_content" {
							block "left_content_text_single" {
								text_single = {
									layoutpolicy_horizontal = expanding
									block "left_top_text" {
										raw_text = "Top info"
									}
									align = left|nobaseline
									default_format = "#yellow_titles"
								}
							}
	
							hbox = {
								layoutpolicy_horizontal = expanding
								spacing = 4
								block "left_bottom_flag" {
									country_flag_small = {
										block "left_small_flag_properties" {}
									}
								}
								text_single = {
									block "left_bottom_text" {
										raw_text = "Some info"
									}
								}
								expand = {}
							}
						}
					}
				}
				expand = {}
				hbox = {
					vbox = {
						layoutpolicy_horizontal = expanding
						spacing = 4
						margin = {5 0}
						
						block "right_content" {
							block "right_content_text_single" {
								text_single = {
									layoutpolicy_horizontal = expanding
									block "right_top_text" {
										raw_text = "Top info"
									}
									align = right|nobaseline
									default_format = "#yellow_titles"
								}
							}
							
							hbox = {
								layoutpolicy_horizontal = expanding
								spacing = 4
								expand = {}
								text_single = {
									block "right_bottom_text" {
										raw_text = "Some info"
									}
								}
								block "right_bottom_flag" {
									country_flag_small = {
										block "right_small_flag_properties" {}
									}
								}
							}
						}
					}
					block "right_element" {
						dynasty_shield_mid = {
							# block "right_element_icon" {
								datacontext = "[Character.GetDynasty]"
							# }
						}
					}
				}
			}
		}
	}

	type fancy_two_line_card = vbox {
		layoutpolicy_horizontal = expanding
		layoutstretchfactor_horizontal = 1
		margin = {0 5}

		block "bg_card_action" {
			using = bg_scroll_card_header
		}

		widget = {
			layoutpolicy_horizontal = expanding
			size = { -1 60 }

			block "card_datacontext" {
				datacontext = "[Player]"
			}
			
			hbox = {
				layoutpolicy_horizontal = expanding
				spacing = 4
				margin = {10 0}
				
				hbox = {
					block "left_flag" {
						country_flag_mid_plus = {
							block "left_flag_properties" {} 
						}
					}
					vbox = {
						layoutpolicy_horizontal = expanding
						spacing = 4
						margin = {5 0}
						
						block "left_content" {
							block "left_content_text_single" {
								text_single = {
									layoutpolicy_horizontal = expanding
									block "left_top_text" {
										raw_text = "Top info"
									}
									align = left|nobaseline
									default_format = "#yellow_titles"
								}
							}

							hbox = {
								layoutpolicy_horizontal = expanding
								spacing = 4
								block "left_bottom_flag" {
									country_flag_small = {
										block "left_small_flag_properties" {}
									}
								}
								text_single = {
									block "left_bottom_text" {
										raw_text = "Some info"
									}
								}
								expand = {}
							}
						}
					}
				}
				expand = {}
				hbox = {
					block "center_visible_trigger" { visible = no }
					vbox = {
						layoutpolicy_horizontal = expanding
						spacing = 4
						margin = {5 0}
						
						block "center_content" {
							
						}
					}
				}
				expand = {}
				hbox = {
					vbox = {
						layoutpolicy_horizontal = expanding
						spacing = 4
						margin = {5 0}
						
						# block "right_content" {
							block "right_content_text_single" {
								text_single = {
									layoutpolicy_horizontal = expanding
									block "right_top_text" {
										raw_text = "Top info"
									}
									align = right|nobaseline
									default_format = "#yellow_titles"
								}
							}
							
							hbox = {
								layoutpolicy_horizontal = expanding
								spacing = 4
								expand = {}
								text_single = {
									block "right_bottom_text" {
										raw_text = "Some info"
									}
								}
								block "right_bottom_flag" {
									country_flag_small = {
										block "right_small_flag_properties" {}
									}
								}
							}
						# }
					}
					block "right_flag" {
						country_flag_mid_plus = {
							block "right_flag_properties" {}
						}
					}
				}
			}
		}
	}

	type situation_fancy_two_line_card = fancy_two_line_card {
		blockoverride "bg_card_action" {
			using = bg_scroll_card_header
			blockoverride "card_header_pattern" {
				background = {
					using = bg_card_header_01_default
					margin = {-5 0}
					blockoverride "header_color" {
						using = color_default_brown_texture
					}
					blockoverride "header_pattern" {
						texture = "gfx/interface/component_overlay/cloth_texture.dds"
						texture_density = 2
						spriteType = Corneredtiled
						spriteborder = { 0 0 }
						blend_mode = overlay										
					}
					using = graphical_culture_pattern
					modify_texture = {
						block "uiaction_gov" {
							visible = no
						}
						using = color_greyish_texture
						alpha = 1
						blend_mode = normal
					}
				}
			}
		}
	}

	type disaster_fancy_two_line_card = fancy_two_line_card {
		blockoverride "bg_card_action" {
			using = bg_scroll_card_header
			blockoverride "card_header_pattern" {
				background = {
					using = bg_card_header_01_default
					margin = {-5 0}
					blockoverride "header_color" {
						using = color_society_texture
					}
					blockoverride "header_pattern" {
						texture = "gfx/interface/component_overlay/cloth_texture.dds"
						texture_density = 2
						spriteType = Corneredtiled
						spriteborder = { 0 0 }
						blend_mode = overlay										
					}
					using = graphical_culture_pattern
					modify_texture = {
						block "uiaction_gov" {
							visible = no
						}
						using = color_greyish_texture
						alpha = 1
						blend_mode = normal
					}
				}
			}
		}
	}
	
	type alt_scroll_card = hbox {
		layoutpolicy_horizontal = expanding
		maximumsize = { 510 -1 }
		margin = {8 15}

		# block "scroll_card_bg" {
			using = bg_scroll_card_header
			blockoverride "card_header_pattern" {}
		# }

		vbox = {
			layoutpolicy_horizontal = expanding
			spacing = 5
			text_single = {
				layoutpolicy_horizontal = expanding
				maximumsize = {300 -1}
				block "left_top_text" {			
					raw_text = "Progress info"
				}
				align = center|nobaseline
				default_format = "#high"
			}
			text_multi = {
				block "left_bottom_text_size" {
					layoutpolicy_horizontal = expanding
					layoutpolicy_vertical = expanding
				}
				margin = {10 10}
				block "left_bottom_text" {			
					raw_text = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum"
				}
				align = center|nobaseline
				default_format = "#subtle_name"
				using = bg_text_mask_container_brown
			}
		}

		block "right_bottom_layout" {
			vbox = {
				spacing = 5
				text_single = {
					layoutpolicy_horizontal = expanding
					block "right_top_text" {			
						raw_text = "Right info header"
					}
					align = center|nobaseline
					default_format = "#yellow_titles"
				}
				widget = {
					size = { 80 80 }

					block "right_bottom_content" {}
				}
			}
		}
	}

	type alt_scroll_card_progress_bar = hbox {
		layoutpolicy_horizontal = expanding
		maximumsize = { 510 -1 }
		margin = {8 15}

		# block "scroll_card_progress_bar_bg" {
			using = bg_scroll_card_header
			blockoverride "card_header_pattern" {}
		# }

		vbox = {
			layoutpolicy_horizontal = expanding
			maximumsize = { 100 -1 }
			spacing = 5
			text_single = {
				layoutpolicy_horizontal = expanding
				block "left_top_text" {			
					raw_text = "Left info header"
				}
				align = center|nobaseline
				default_format = "#yellow_titles"
			}
			icon = {
				size = { 50 50 }
				# block "left_bottom_texture" { 
					texture = "gfx/interface/icons/country_types/location.dds" 
				# }
			}
		}

		vbox = {
			layoutpolicy_horizontal = expanding
			spacing = 5
			text_single = {
				layoutpolicy_horizontal = expanding
				maximumsize = {300 -1}
				block "central_top_text" {			
					raw_text = "Progress info"
				}
				align = center|nobaseline
				default_format = "#high"
			}
			progressbar = {
				layoutpolicy_horizontal = expanding
				size = { -1 20 }
				using = morale_progressbar_bar
				block "alt_scroll_card_progress_bar_value"
				{
					value = "[Multiply_float('(float)0.1', '(float)100')]"
				}
			}
		}

		vbox = {
			layoutpolicy_horizontal = expanding
			maximumsize = { 100 -1 }
			spacing = 5
			text_single = {
				layoutpolicy_horizontal = expanding
				block "right_top_text" {			
					raw_text = "Right info header"
				}
				align = center|nobaseline
				default_format = "#yellow_titles"
			}
			icon = {
				size = { 50 50 }
				# block "right_bottom_texture" { 
					texture = "gfx/interface/icons/country_types/location.dds" 
				# }
			}
		}
	}

	type horizontal_scroll_card = hbox {
		block "card_visible" {
			visible = "[DisasterView.GetDisaster.GetOwner.HasActiveRebels]"
		}
		layoutpolicy_horizontal = expanding
		maximumsize = { 530 -1 }
		margin = {15 15}
		spacing = 5

		using = bg_scroll_card_header
		blockoverride "card_header_pattern" {}
		block "card_datacontext" {
			# datacontext = "[PeopleRebelItem.GetRebel]"
		}
		# block "icon_widget" {
			icon = {
				size = { 26 26 }
				texture = "gfx/interface/icons/rebels/fist.dds"
			}
		# }
		divider_flavor_03 = {size = { 8 -1 }}
		vbox = {
			text_single = {
				align = left|nobaseline
				block "text_top" {
					raw_text = "Some Rebel Name"
				}
				default_format = "#yellow_titles"
			}

			text_single = {
				align = left|nobaseline
				using = Font_Size_Very_Small
				block "text_bottom" {
					raw_text = "Some lower text with info"
				}
			}
		}
		divider_flavor_03 = {size = { 8 -1 }}
		vbox = {
			layoutpolicy_vertical = expanding
			using = bg_text_mask_container_brown
			margin = { 5 5 }
			block "number_right" {
				expand = {}
				text_single = {
					layoutpolicy_horizontal = expanding
					size = { -1 30 }
					autoresize = no
					align = center|nobaseline
					raw_text = "0.20%"
				}
	
				progressbar = {
					size = { 100 10 }
					using = morale_progressbar_bar
					value = "[Multiply_float(FixedPointToFloat(PeopleRebelItem.GetRebel.GetProgress), '(float)100')]"
				}
				expand = {}
			}
		}
		hbox = {
			layoutpolicy_vertical = expanding
			using = bg_number_container_bckg
			block "number_right_2" {
				text_single = {
					size = { 60 30 }
					autoresize = no
					align = center|nobaseline
					raw_text = "+0.14%"
				}
			}
		}	
	}

	type info_list_dump_card = vbox {
		layoutpolicy_horizontal = expanding
		margin = {5 5}
		spacing = 0

		using = bg_paper_card_fancy
		
		vbox = {
			layoutpolicy_horizontal = expanding
			margin = {20 8}
			using = bg_generic_shadow
			blockoverride "generic_shadow_extra" {
				margin = { 5 7 }
				margin_top = 2
			}
			block "bg_sit_info_list_color" {
				using = bg_card_header_01_diplomacy
			}
			using = events_mask_texture
			text_single = {
				layoutpolicy_horizontal = expanding
				size = {-1 30}
				align = left|nobaseline
				block "card_title" {
					raw_text = "Each Month:"			
				}
				default_format = "#yellow_titles"
			}
		}
		
		vbox = {
			layoutpolicy_horizontal = expanding
			margin = {15 0}
			hbox = {
				layoutpolicy_horizontal = expanding
				text_single = {
					layoutpolicy_horizontal = expanding
					margin = {10 10}
					using = bg_text_mask_container_brown
					size = {-1 30}
					align = left|nobaseline
					using = Font_Size_Very_Small
					block "card_subtitle" {
						raw_text = "Possible Outcomes:"
					}
				}
				expand = {}
			}
			hbox = {
				layoutpolicy_horizontal = expanding
				margin = {5 0}
				block "info_content" {
					text_single = {
						layoutpolicy_horizontal = expanding
						size = { -1 30 }
						autoresize = no
						align = left|nobaseline
						raw_text = "Some large text with different points and info about different stuff"
					}
				}
			}
		}
	}

	type situation_info_list_dump_card = info_list_dump_card {
		blockoverride "bg_sit_info_list_color" {
			using = bg_card_header_01
		}
	}

	type disaster_info_list_dump_card = info_list_dump_card {
		blockoverride "bg_sit_info_list_color" {
			using = bg_card_header_01_society
		}
	}

	type hanging_cloth_estates = widget {
		size = {7 59}
		ignore_layout = yes

		icon = {
			size = { 100% 100% }
			parentanchor = left
			position = {-5 0}
			texture = "gfx/interface/component_tiles/estates/hanging_cloth_sides.dds"
			texture_density = 2
			block "texture_mirror" {}

			modify_texture = {
				block "hanging_cloth_color" {
					using = color_diplomacy_texture
				}
				blend_mode = overlay
			}

			modify_texture = {
				using = overlay_cloth_texture
				blend_mode = overlay
				alpha = 0.2
			}
			modify_texture = {
				using = color_black_texture
				blend_mode = multiply
				alpha = 0.1
			}
			glow = {
				name = "drop_shadow"
				glow_radius = 4
				color = {0.0 0.0 0.0 1.0}
				alpha = 0.3
			}

			background = {
				texture = "gfx/interface/component_tiles/estates/hanging_cloth_sides.dds"
				texture_density = 2
				margin = {2 2}
				margin_top = 0
				block "texture_mirror" {}
				alpha = 0.1
				modify_texture = {
					using = color_black_texture
					blend_mode = multiply
				}
			}
		}
	}

	type estates_display_card = widget {
		layoutpolicy_horizontal = expanding
		size = {-1 55}

		hbox = {
			layoutpolicy_horizontal = expanding
			margin = {5 5}
			spacing = 0
	
			# using = bg_paper_card_fancy
			# block "bg_estate_card" {
				background = {
					texture = "gfx/interface/component_tiles/square_tile.dds"
					texture_density = 2
					margin_bottom = 2
					alpha = 0.5
					modify_texture = {
						using = color_black_texture
						blend_mode = multiply
					}
				}
		
				background = {
					using = color_black_texture
					texture_density = 2
					modify_texture = {
						block "bg_estate_card_color" {
							using = color_diplomacy_texture
						}
						alpha = 1
					}
					modify_texture = {
						using = overlay_cloth_texture
						blend_mode = multiply
						alpha = 0.4
					}
					modify_texture = {
						texture = "gfx/interface/component_tiles/estates/square_outline.dds"
						texture_density = 2
						blend_mode = add
						spriteType = corneredstretched
						spriteBorder = {15 15}
						alpha = 0.2
					}
					modify_texture = {
						texture = "gfx/interface/component_tiles/estates/mask_header_texture.dds"
						texture_density = 2
						blend_mode = alphamultiply
						alpha = 0.1
					}
					modify_texture = {
						texture = "gfx/interface/component_tiles/estates/mask_header_texture.dds"
						texture_density = 2
						blend_mode = alphamultiply
						mirror = horizontal
						alpha = 0.1
					}
				}
			# }
			
			hbox = {
				layoutpolicy_horizontal = expanding
				margin = {5 0}
				block "card_datacontext" {
					# datacontext = "[Player]"
					# datacontext = "[EstatesItem.GetEstate]"
				}
				
				# block "info_content" {
					hbox = {
						block "estate_icon_0" {
							icon = {
								size = { 45 45 }
								texture = "gfx/interface/icons/estates/crown_estate.dds"
								texture_density = 2
							}
						}
						block "estate_info_0" {
							piechart = {
								datacontext = "[DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('crown_estate')]"
								
								size = { 30 30 }
								using = piechart_angles
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_green.dds"
									value = "[FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('crown_estate').GetRelativePower)]"
									color = { 1 1 1 1 }
								}
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_red.dds"
									value = "[Subtract_float('(float)1.0', FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('crown_estate').GetRelativePower))]"
									color = { 1 1 1 1 }
								}
								icon = {
									parentanchor = center
									size = { 15 15 }
									texture = "gfx/interface/icons/sort/power_white.dds"
									texture_density = 2
								}
								using = bg_circle_piechart
								tooltipwidget = {
									using = estate_relative_power_tooltip
								}
							}
						}
					}
					divider_flavor_03 = {size = {9 -1}}
					hbox = {
						visible = "[DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('nobles_estate').ExistsForCountry]"
						block "estate_icon_1" {
							icon = {
								size = { 45 45 }
								texture = "gfx/interface/icons/estates/nobles_estate.dds"
								texture_density = 2
							}
						}
						block "estate_info_1" {
							piechart = {
								datacontext = "[DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('nobles_estate')]"
								
								size = { 30 30 }
								using = piechart_angles
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_green.dds"
									value = "[FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('nobles_estate').GetRelativePower)]"
									color = { 1 1 1 1 }
								}
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_red.dds"
									value = "[Subtract_float('(float)1.0', FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('nobles_estate').GetRelativePower))]"
									color = { 1 1 1 1 }
								}
								icon = {
									parentanchor = center
									size = { 15 15 }
									texture = "gfx/interface/icons/sort/power_white.dds"
									texture_density = 2
								}
								using = bg_circle_piechart
								tooltipwidget = {
									using = estate_relative_power_tooltip
								}
							}
						}
					}
					divider_flavor_03 = {size = {9 -1}}
					hbox = {
						visible = "[DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('clergy_estate').ExistsForCountry]"
						block "estate_icon_2" {
							icon = {
								size = { 45 45 }
								texture = "gfx/interface/icons/estates/clergy_estate.dds"
								texture_density = 2
							}
						}
						block "estate_info_2" {
							piechart = {
								datacontext = "[DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('clergy_estate')]"
								
								size = { 30 30 }
								using = piechart_angles
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_green.dds"
									value = "[FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('clergy_estate').GetRelativePower)]"
									color = { 1 1 1 1 }
								}
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_red.dds"
									value = "[Subtract_float('(float)1.0', FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('clergy_estate').GetRelativePower))]"
									color = { 1 1 1 1 }
								}
								icon = {
									parentanchor = center
									size = { 15 15 }
									texture = "gfx/interface/icons/sort/power_white.dds"
									texture_density = 2
								}
								using = bg_circle_piechart
								tooltipwidget = {
									using = estate_relative_power_tooltip
								}
							}
						}
					}
					divider_flavor_03 = {size = {9 -1}}
					hbox = {
						visible = "[DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('burghers_estate').ExistsForCountry]"
						block "estate_icon_3" {
							icon = {
								size = { 45 45 }
								texture = "gfx/interface/icons/estates/burghers_estate.dds"
								texture_density = 2
							}
						}
						block "estate_info_3" {
							piechart = {
								datacontext = "[DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('burghers_estate')]"
								
								size = { 30 30 }
								using = piechart_angles
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_green.dds"
									value = "[FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('burghers_estate').GetRelativePower)]"
									color = { 1 1 1 1 }
								}
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_red.dds"
									value = "[Subtract_float('(float)1.0', FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('burghers_estate').GetRelativePower))]"
									color = { 1 1 1 1 }
								}
								icon = {
									parentanchor = center
									size = { 15 15 }
									texture = "gfx/interface/icons/sort/power_white.dds"
									texture_density = 2
								}
								using = bg_circle_piechart
								tooltipwidget = {
									using = estate_relative_power_tooltip
								}
							}
						}
					}
					divider_flavor_03 = {size = {9 -1}}
					hbox = {
						visible = "[DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('peasants_estate').ExistsForCountry]"
						block "estate_icon_4" {
							icon = {
								size = { 45 45 }
								texture = "gfx/interface/icons/estates/peasants_estate.dds"
								texture_density = 2
							}
						}
						block "estate_info_4" {
							piechart = {
								datacontext = "[DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('peasants_estate')]"
								
								size = { 30 30 }
								using = piechart_angles
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_green.dds"
									value = "[FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('peasants_estate').GetRelativePower)]"
									color = { 1 1 1 1 }
								}
								pieslice_no_highlight = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80_red.dds"
									value = "[Subtract_float('(float)1.0', FixedPointToFloat(DisasterView.GetDisaster.GetOwner.GetGovernment.GetEstateFromKey('peasants_estate').GetRelativePower))]"
									color = { 1 1 1 1 }
								}
								icon = {
									parentanchor = center
									size = { 15 15 }
									texture = "gfx/interface/icons/sort/power_white.dds"
									texture_density = 2
								}
								using = bg_circle_piechart
								tooltipwidget = {
									using = estate_relative_power_tooltip
								}
							}
						}
					}
				# }
			}
		}

		hanging_cloth_estates = {}

		hanging_cloth_estates = {
			parentanchor = right
			position = {8 0}
			blockoverride "texture_mirror" {
				mirror = horizontal
			}
		}
	}

	type io_character_card = header_paper_card {
		blockoverride "header_paper_card_header_bg" {
			using = bg_generic_shadow
			block "io_character_card_header_color" {
				using = bg_card_header_01_diplomacy
			}
			using = bg_card_header_texture
			using = bg_generic_side_mask
		}
		
		using = layoutpolicy_expanding
		using = character_entry
		blockoverride "bottom_content_expand" {}
		blockoverride "bottom_content_divider" {}
		blockoverride "abilities_inbetween" {
			divider_flavor_01 = {
				layoutpolicy_vertical = expanding
				size = { 15 -1 }
			}
		}
	}

	type situation_character_card = io_character_card {
		blockoverride "io_character_card_header_color" {
			using = bg_paper_card
			using = bg_card_header_01
		}
	}

	type disaster_character_card = io_character_card {
		blockoverride "io_character_card_header_color" {
			using = bg_paper_card
			using = bg_card_header_01_society
		}
	}

	type situation_estates_display_card = estates_display_card {
		blockoverride "bg_estate_card_color" {
			using = color_default_brown_texture
		}
		blockoverride "hanging_cloth_color" {
			using = color_default_brown_texture
		}
	}

	type disaster_estates_display_card = estates_display_card {
		blockoverride "bg_estate_card_color" {
			using = color_society_texture
		}
		blockoverride "hanging_cloth_color" {
			using = color_society_texture
		}
	}

	# type InteractionTargetContextCardHeader = hbox {
	# 	margin_top = 5

	# 	clickable_header_card = {
	# 		blockoverride "clickable_header_card_size" {
	# 			size = { -1 30 }
	# 		}

	# 		blockoverride "card_bg" {}				

	# 		blockoverride "header_size" {
	# 			size = { -1 30 }
	# 		}

	# 		blockoverride "header_button" {
	# 			card_header_button_01 = {
	# 				size = { 100% 100% }
	# 				upframe = 1
	# 				overframe = 1
	# 				downframe = 1

	# 				block "header_content" {}
	# 			}
	# 		}
	# 	}

	# 	expand = {}
	# }	

	type estate_summary_table = vbox {
		layoutpolicy_horizontal = expanding
		margin = {10 10}

		block "summary_table_extra" {}

		vbox = {
			using = bg_generic_shadow
			blockoverride "generic_shadow_extra" {
				margin = { 10 10 }
				alpha = 0.4
			}
			using = bg_paper_card
			widget = {
				size = { 240 49 }
				
				using = bg_paper_card
				block "estate_summary_table_color" {
					using = bg_card_header_01_diplomacy
				}
				
				hbox = {
					margin = {5 5}
					spacing = 5
					layoutpolicy_horizontal = expanding
					country_flag_small = {}
	
					vbox = {
						layoutpolicy_horizontal = expanding
	
						text_single = {
							layoutpolicy_horizontal = expanding
							minimumsize = { 45 -1 }
							maximumsize = { -1 38 }
							multiline = no
							text = "[Country.GetNameWithNoTooltip]"
						}
	
						expand = {}
	
						text_single = {
							margin_left = 5
							layoutpolicy_horizontal = expanding
							maximumsize = { -1 38 }
							visible = "[Not(ObjectsEqual(Country.Self, InternationalOrganizationsView.GetPlayer.GetCapital.GetOwner.Self))]"
							text = "[Country.GetDiplomacy.GetOpinionOf(InternationalOrganizationsView.GetPlayer)|+=]"
							tooltipwidget = {
								SimpleContextualStringPairTooltipType = {
									blockoverride "title_icon" {
										icon = {
											using = tooltip_title_icon_size
											texture = "gfx/interface/icons/flat_icons/foreigncountry/opinion.dds"
										}
									}
									blockoverride "concept_link" {
										text = "[opinion|e]"
									}
									tooltipmeta = {
										texture = "gfx/interface/icons/flat_icons/foreigncountry/opinion.dds"
										game_concept = "[opinion|E]"
									}
									lowpriotextcontext = "[Country.GetDiplomacy.GetOpinionDescription(InternationalOrganizationsView.GetPlayer)]"
								}
							}
						}
						expand = {}
					}
					vbox = {
						size = { 30 40 }
						widget = {
							size = {31 38}
							visible = "[Country.IsGreatPower]"
							icon = {
								texture = "gfx/interface/great_powers/banner_rank.dds"
								texture_density = 2
								size = {100% 100%}

								text_single = {
									size = { 100% 70% }
									autoresize = no
									align = center|nobaseline
									text = "[Country.GetGreatPowerRank]"
								}

								block "great_power_sort_highlight" {}
							}

							tooltipwidget = {
								using = great_power_info_tooltip
							}
						}

						widget = {
							size = {29 29}
							visible = "[Not(Country.IsGreatPower)]"
							icon = {
								texture = "gfx/interface/component_tiles/navy_banners.dds"
								texture_density = 2
								size = {100% 100%}

								text_single = {
									size = { 90% 70% }
									margin_left = 3
									autoresize = no
									align = center|nobaseline
									text = "[Country.GetGreatPowerRank]"
								}

								block "great_power_sort_highlight" {}
							}

							tooltipwidget = {
								using = non_great_power_info_tooltip
							}
						}
						expand = { size = { -1 5 } }
					}
					vbox = {
						layoutpolicy_horizontal = expanding
	
						# THEIR STABILITY
						hbox = {
							layoutpolicy_horizontal = expanding
							spacing = 5
							text_single = {
								layoutpolicy_horizontal = expanding
								size = { -1 15 }
								align = right
								minimumsize = { 28 -1 }
								raw_text = "[Country.GetCurrencyValue('stability')]"
	
								using = Font_Size_Small
							}
							piechart = {
								size = { 14 14 }
	
								using = piechart_angles
								datacontext = "[Country]"
	
								icon = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
									size = { 97% 97% }
									parentanchor = center
									color = { 0.45 0.59  0.67 1 }
									alpha = 0.3
								}
	
								pieslice = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
									value = "[FixedPointToFloat(Country.GetFixedPointCurrencyValue('stability'))]"
									color = { 0.3 0.8 0.3 1 }
									alpha = 0.8
								}
	
								pieslice = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
									value = "[Subtract_float('(float)100.0', FixedPointToFloat(Country.GetFixedPointCurrencyValue('stability')))]"
									color = { 1 1 1 0 }
								}
	
								icon = {
									using = icon_stability
									size = { 70% 70% }
									# using = overlay_color_light_blue
									parentanchor = center
								}
								using = bg_circle_piechart
							}
							tooltipwidget = {
								using = StabilityResourceTooltip
								blockoverride "content_datacontext" {
									datacontext = "[Country.GetEconomy]"
								}
								blockoverride "change_visibility" { visible = no } # FOREIGN_CHANGE_VISIBLE
							}
						}
	
						# THEIR LEGITIMACY
						hbox = {
							layoutpolicy_horizontal = expanding
							spacing = 5
							text_single = {
								layoutpolicy_horizontal = expanding
								size = { 240 15 }
								align = right
								minimumsize = { 28 -1 }
								raw_text = "[Country.GetCurrencyValue('legitimacy')]"
	
								using = Font_Size_Small
							}
	
							piechart = {
								size = { 14 14 }
	
								using = piechart_angles
								datacontext = "[Country]"
	
								icon = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
									size = { 97% 97% }
									parentanchor = center
									color = { 0.45 0.59  0.67 1 }
									alpha = 0.3
								}
	
								pieslice = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
									value = "[FixedPointToFloat(Country.GetFixedPointCurrencyValue('legitimacy'))]"
									color = { 0.3 0.8 0.3 1 }
									alpha = 0.8
								}
	
								pieslice = {
									texture = "gfx/interface/pie_charts/pie_chart_alpha_80.dds"
									value = "[Subtract_float('(float)100.0', FixedPointToFloat(Country.GetFixedPointCurrencyValue('legitimacy')))]"
									color = { 1 1 1 0 }
								}
	
								icon = {
									texture = "[GetLegitimacyIcon(Country.GetGovernment.GetGovernmentType)]"
									size = { 70% 70% }
									parentanchor = center
								}
								using = bg_circle_piechart
							}
							tooltipwidget = {
								using = LegitimacyResourceTooltip
								blockoverride "content_datacontext" {
									datacontext = "[Country.GetEconomy]"
								}
								blockoverride "change_visibility" { visible = no } # FOREIGN_CHANGE_VISIBLE
							}
						}
					}
				}
			}
			dynamicgridbox = {
				layoutpolicy_horizontal = expanding
				flipdirection = yes
				datamodel_wrap = 1
				datamodel = "[Country.GetGovernment.GetEstates]"
				item = {
					widget = {
						size = { 100% 47 }
						visible = "[Or3(EqualTo_string(Estate.GetType.GetNameWithNoTooltip, Localize('nobles_estate')), EqualTo_string(Estate.GetType.GetNameWithNoTooltip, Localize('burghers_estate')), EqualTo_string(Estate.GetType.GetNameWithNoTooltip, Localize('clergy_estate')))]"
						hbox = {
							margin = {10 3}
							using = table_cell_base_brown
							hbox = {
								tooltipwidget = { using = Estate_tooltip }
								icon = {
									size = { 24 24 }
									texture = "[GetEstateIcon(Estate.GetType)]"
								}
	
								expand = {}
		
								text_single = {
									align = left
									autoresize = yes
									default_format = "#subtle_name"
									text = "[Estate.GetNameWithNoTooltip]"
								}
							}
							
							expand = {}
	
							vbox = {
								layoutpolicy_horizontal = expanding
								layoutpolicy_vertical = expanding
								spacing = 2
								hbox = {
									layoutpolicy_horizontal = expanding
									tooltipwidget = { using = estate_satisfaction_tooltip }
									spacing = 3
	
									expand = {}
	
									text_single = {
										size = { -1 15 }
										minimumsize = { 30 15 }
										raw_text = "[Estate.GetSatisfaction|0%]"
		
										using = Font_Size_Small
									}
	
									piechart = {
										size = { 20 20 }
										minimumsize = { 20 20 }
										using = piechart_angles
										using = bg_circle_piechart_big
	
										pieslice = {
											texture = "gfx/interface/pie_charts/pie_chart_alpha_80_green.dds"
											value = "[FixedPointToFloat(Estate.GetSatisfaction)]"
											color = { 1 1 1 1 }
										}
	
										pieslice = {
											texture = "gfx/interface/pie_charts/pie_chart_alpha_80_red.dds"
											value = "[Subtract_float('(float)1.0', FixedPointToFloat(Estate.GetSatisfaction))]"
											color = { 1 1 1 1 }
										}
	
										hbox = {
											layoutpolicy_horizontal = expanding
											icon = {
												name = "sad face"
												visible = "[LessThanOrEqualTo_CFixedPoint(Estate.GetSatisfaction,'(CFixedPoint)0.25')]"
	
												size = { 10 10 }
												texture = "gfx/interface/icons/flat_icons/sad.dds"
												texture_density = 2
											}
	
											icon = {
												name = "neutral face"
												visible = "[BetweenInclusiveOfMax_CFixedPoint(Estate.GetSatisfaction,'(CFixedPoint)0.25', '(CFixedPoint)0.5')]"
	
												size = { 10 10 }
												texture = "gfx/interface/icons/flat_icons/neutral.dds"
												texture_density = 2
											}
	
											icon = {
												name = "happy face"
												visible = "[GreaterThan_CFixedPoint(Estate.GetSatisfaction,'(CFixedPoint)0.5')]"
	
												size = { 10 10 }
												texture = "gfx/interface/icons/flat_icons/happy.dds"
												texture_density = 2
											}
										}
									}
								}
								hbox = {
									layoutpolicy_horizontal = expanding
									tooltipwidget = { using = estate_relative_power_tooltip }
									
									expand = {}
									text_single = {
										size = { -1 15 }
										minimumsize = { 30 15 }
										raw_text = "[Estate.GetRelativePower|0%]"
		
										using = Font_Size_Small
									}
									text_single = {
										size = { 20 20 }
										minimumsize = { 20 15 }
										raw_text = "@power!"
		
										using = Font_Size_Small
									}
								}
							}
						}
					}
				}
			}
			hbox = {
				layoutpolicy_horizontal = expanding
				spacing = 8
				block "estate_bottom_table_color" {
					using = bg_card_header_01_diplomacy
				}
				
				hbox = {
					minimumsize = { 78 -1 }
					maximumsize = { 78 -1 }
					text_single = {
						using = layoutpolicy_expanding
						text = "union_member_integration_level_tooltip"
					}
					expand = {}
				}
			}
			expand = {}
		}
	}

	type estates_summary = vbox {
		# layoutpolicy_horizontal = expanding
		using = bg_paper_card

		vbox = {
			layoutpolicy_horizontal = expanding
			layoutstretchfactor_horizontal = 1
			margin = {0 5}

			using = bg_scroll_card_header
			blockoverride "uiaction_gov" {
				visible = no
			}

			widget = {
				layoutpolicy_horizontal = expanding
				size = {-1 60}

				block "summary_datacontext" {}
				
				hbox = {
					layoutpolicy_horizontal = expanding
					spacing = 4
					margin = {10 0}

					block "header_content" {
						hbox = {
							# block "left_header_content" {
								country_flag_mid_plus = {
								}
								vbox = {
									layoutpolicy_horizontal = expanding
									spacing = 4
									margin = {5 0}
									
									text_single = {
										layoutpolicy_horizontal = expanding
										raw_text = "Top info"
										align = left|nobaseline
										default_format = "#yellow_titles"
									}
		
									hbox = {
										layoutpolicy_horizontal = expanding
										spacing = 4
										country_flag_small = {}
										text_single = {
											raw_text = "Some info"
										}
										expand = {}
									}
								}
							# }
						}
						expand = {}
						hbox = {
							# block "right_header_content" {
								vbox = {
									layoutpolicy_horizontal = expanding
									spacing = 4
									margin = {5 0}
									
									text_single = {
										layoutpolicy_horizontal = expanding
										raw_text = "Top info"
										align = right|nobaseline
										default_format = "#yellow_titles"
									}
									
									hbox = {
										layoutpolicy_horizontal = expanding
										spacing = 4
										expand = {}
										text_single = {
											raw_text = "Some info"
										}
										country_flag_small = {}
									}
								}
								country_flag_mid_plus = {
								}
							# }
						}
					}
				}	
			}
		}
		
		# block "estates_summary_bottom_content" {
			fixedgridbox = {
				flipdirection = yes
				datamodel_wrap = 2
				block "summary_datamodel" {
					datamodel = "[DataModelRepeatedItem('(int32)4')]"
				}
				addrow = 235
				addcolumn = 260
				item = {
					widget = {
						size = {260 235}
						estate_summary_table = {
						}
					}
				}
			}
		# }
	}

	type situation_estates_summary = estates_summary {
		blockoverride "card_header_pattern" {
			background = {
				using = bg_card_header_01_default
				margin = {-5 0}
				blockoverride "header_color" {
					using = color_default_brown_texture
				}
				blockoverride "header_pattern" {
					texture = "gfx/interface/component_overlay/cloth_texture.dds"
					texture_density = 2
					spriteType = Corneredtiled
					spriteborder = { 0 0 }
					blend_mode = overlay										
				}
				using = graphical_culture_pattern
				modify_texture = {
					block "uiaction_gov" {
						visible = no
					}
					using = color_greyish_texture
					alpha = 1
					blend_mode = normal
				}
			}
		}
		blockoverride "estate_summary_table_color" {
			using = bg_card_header_01
		}
		blockoverride "estate_bottom_table_color" {
			using = bg_card_header_01
		}
	}

	type disaster_estates_summary = estates_summary {
		blockoverride "card_header_pattern" {
			background = {
				using = bg_card_header_01_default
				margin = {-5 0}
				blockoverride "header_color" {
					using = color_society_texture
				}
				blockoverride "header_pattern" {
					texture = "gfx/interface/component_overlay/cloth_texture.dds"
					texture_density = 2
					spriteType = Corneredtiled
					spriteborder = { 0 0 }
					blend_mode = overlay										
				}
				using = graphical_culture_pattern
				modify_texture = {
					block "uiaction_gov" {
						visible = no
					}
					using = color_greyish_texture
					alpha = 1
					blend_mode = normal
				}
			}
		}
		blockoverride "estate_summary_table_color" {
			using = bg_card_header_01_society
		}
		blockoverride "estate_bottom_table_color" {
			using = bg_card_header_01
		}
	}

	type character_context_card = widget {
		size = { 540 72 }
		vbox = {
			margin_top = 5
			header_paper_card = {
				size = { 540 72 }
				parentanchor = hcenter
				using = character_entry
				blockoverride "character_entry_name_sort_by_highlight" {}

				blockoverride "header_color" {
					alpha = 0.3
					using = color_mid_red_texture
				}
				blockoverride "name_highlight" {}
				# blockoverride "firstname_highlight" {}
				# blockoverride "regnal_name_highlight" {}
				# blockoverride "nickname_highlight" {}
				# blockoverride "lastname_highlight" {}
				# blockoverride "suffixname_highlight" {}
				# blockoverride "agename_highlight" {}
				# blockoverride "prefixname_highlight" {}
			}
		}
	}

	
	type extra_list = widget {
		block "extra_list_size" {
			size = { 45 28}
		}
		background = {
			texture = "gfx/interface/component_tiles/list_item.dds"
			spriteType = Corneredstretched
			texture_density = 2
			spriteBorder_left = 14
			spriteBorder_right = 14

			modify_texture = {
				using = color_brown_leather_texture
				blend_mode = overlay
			}
		}
		hbox = {
			margin_left = 6
		 	margin_right = 6
			text_single = {
				layoutpolicy_horizontal = expanding
				block "extra_list_text_size" {
					size = { -1 25 }
				}
				autoresize = no
				using = Font_Type_Headers using = Font_Size_Very_Small
				block "extra_list_text_content" {
					raw_text = "extra_list_text"
				}
			}
			icon = {
				size = { 15 15 }
				block "extra_list_icon" {
					visible = no
					texture = "gfx/interface/icons/flat_icons/happy.dds"
					texture_density = 2
				}
			}
		}
	}

	type extra_list_vertical = widget {
		block "extra_list_size"{
			size = {28 42}
		}
		
		background = {
			texture = "gfx/interface/component_tiles/list_item_vertical.dds"
			spriteType = Corneredstretched
			texture_density = 2
			spriteBorder_top = 10
			spriteBorder_bottom = 10

			modify_texture = {
				using = color_brown_leather_texture
				blend_mode = overlay
			}
		}
		vbox = {
			margin_top = 5
			margin_bottom = 5
			text_single = {
				layoutpolicy_horizontal = expanding
				size = { -1 25 }
				maximumsize = {22 25}
				# autoresize = no
				using = Font_Type_Headers 
				using = Font_Size_Very_Small
				block "extra_list_text_content" {
					raw_text = "extra_list_text"
				}
			}
			icon = {
				size = { 15 15 }
				block "extra_list_icon" {
					visible = no
					texture = "gfx/interface/icons/flat_icons/happy.dds"
					texture_density = 2
				}
			}
		}
	}
}

template character_portrait_bg {
	background = {
		margin = {-5 -5}
		visible = "[Character.IsAlive]"
		texture = "[Character.GetPortraitBg]"
		texture_density = 2
	}
	background = {
		margin = {-5 -5}
		visible = "[Not(Character.IsAlive)]"
		texture = "gfx/interface/component_decoration/character_frames/character_grey.dds"
		blend_mode = multiply
	    alpha = 1
	}
}

		