namespace = flavor_cas

flavor_cas.1 = { # Columbus triggered from flavor_por.1
	type = country_event
	title = flavor_cas.1.title
	desc = flavor_cas.1.desc
	historical_info = flavor_cas.1.historical_info
	image = "gfx/interface/illustrations/institutions/new_world.dds"
	fire_only_once = yes

	immediate = {
		clear_saved_scope = target_country
		ordered_known_country = {
			limit = {
				has_advance = quest_for_the_new_world
				dominant_religion = religion:catholic
				capital.sub_continent = sub_continent:western_europe
				nor = {
					this = root
					has_variable = turned_down_columbus 
				}
			}
			order_by = modifier:great_power_score
			max = 1
			save_scope_as = target_country
		}
	}

	option = {
		name = flavor_cas.1.a
		historical_option = yes
		change_gold_effect = { scale = -2 }
		scope:columbus_scope = { move_country = root }
	}

	option = {
		name = flavor_cas.1.b
		set_variable = { name = turned_down_columbus value = 1 }
		add_prestige = prestige_weak_penalty
		if = {
			limit = {
				exists = scope:target_country
			}
			scope:target_country = {
				trigger_event_silently = { id = flavor_cas.1 }
			}
		}
		else = {
			hidden_effect = { kill_character_silently = scope:columbus_scope }
		}
	}
}

flavor_cas.2 = { #Grammar of the Castilian Language
	type = country_event
	title = flavor_cas.2.title
	desc = flavor_cas.2.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1480.1.1
		to = 1520.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ruler = {
			save_scope_as = target_character
		}

		create_character = {
			first_name = name_anthony
			last_name = de_Nebrija
			culture = culture:castilian
			religion = religion:catholic
			estate = estate_type:clergy_estate
			birth_date = 1444.1.1
			female = no
			birth_location = location:sanlucar
			artist = writer
			artist_skill = 0.86
			adm = 82
			dip = 75
			mil = 33
			save_scope_as = target_artist
		}
	}

	trigger = {
		num_of_non_rural >= 30
		culture = culture:castilian
		court_language = language:spanish_language
	}

	option = {
		name = flavor_cas.2.a
		historical_option = yes

		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 87
				type = work_of_art_type:chronicle
				key = gramatica_de_la_lengua_castellana
			}
		}
		add_prestige = prestige_weak_bonus
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
			add_cultural_influence = cultural_influence_mild_bonus
		}

		culture:aragonese = {
			change_cultural_view = {
				target = root.culture
				change = -1
			}
		}
		culture:catalan = {
			change_cultural_view = {
				target = root.culture
				change = -1
			}
		}
		culture:andalusi = {
			change_cultural_view = {
				target = root.culture
				change = -1
			}
		}
		culture:galician = {
			change_cultural_view = {
				target = root.culture
				change = -1
			}
		}
	}

	option = {
		name = flavor_cas.2.b

		culture = {
			add_cultural_influence = cultural_influence_severe_penalty
		}
		culture:aragonese = {
			change_cultural_view = {
				target = root.culture
				change = 1
			}
		}
		culture:catalan = {
			change_cultural_view = {
				target = root.culture
				change = 1
			}
		}
		culture:andalusi = {
			change_cultural_view = {
				target = root.culture
				change = 1
			}
		}
	}
}

flavor_cas.3 = { #Moving the Capital to Madrid
	hide_portraits = yes
	type = country_event
	title = flavor_cas.3.title
	desc = flavor_cas.3.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1520.1.1
		to = 1580.1.1
		monthly_chance = 5
	}

	immediate = {
		location:madrid = {
			save_scope_as = target_location
		}
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_ruler = yes
		owns = location:madrid
		location:madrid = {
			is_capital = no
			integration_level = core
			OR = {
				location_rank = location_rank:rural_settlement
				location_rank = location_rank:town
			}
		}
		government_type = government_type:monarchy
	}

	option = {
		name = flavor_cas.3.a
		historical_option = yes
		set_capital = location:madrid
		location:madrid = {
			if = {
				limit = {
					location_rank = location_rank:rural_settlement
				}
				change_location_rank = location_rank:town
			}
			else = {
				location:madrid = {
					change_development = development_mild_bonus
					change_prosperity = prosperity_severe_bonus
				}
			}
		}
	}

	option = {
		name = flavor_cas.3.b
		add_stability = stability_weak_bonus
		capital = {
			change_development = development_mild_bonus
			change_prosperity = prosperity_severe_bonus
		}
	}
}

flavor_cas.4 = { #New Testament translated to Spanish
	type = country_event
	title = flavor_cas.4.title
	desc = flavor_cas.4.desc
	historical_info = flavor_cas.4.historical_info
	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_books.dds"

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1540.1.1
		to = 1570.1.1
		monthly_chance = 2
	}

	immediate = {
		ruler = {
			save_scope_as = target_character
		}
		location:wittenberg.owner = {
			save_scope_as = enzinas_location_owner
		}
		scope:enzinas_location_owner = {
			create_character = {
				first_name = name_francis
				last_name = de_Enzinas
				religion = religion:lutheran
				culture = culture:castilian
				estate = estate_type:burghers_estate
				birth_date = 1518.11.1
				female = no
				birth_location = location:burgos
				adm = 55
				dip = 76
				mil = 43
				artist_skill = 0.81
				artist = writer
				save_scope_as = target_artist
			}
		}
	}

	trigger = {
		religion = religion:catholic
		religion:lutheran = { is_religion_enabled = yes }
		has_ruler = yes
	}

	option = {
		name = flavor_cas.4.a
		historical_option = yes

		add_religious_influence = religious_influence_mild_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		every_known_country = {
			limit = {
				religion = religion:lutheran
				capital ?= {
					continent = continent:europe
				}
			}
			add_opinion = { target = root modifier = denied_bible_translation }
		}
	}

	option = {
		name = flavor_cas.4.b

		custom_tooltip = flavor_cas.4.tt1
		hidden_effect = {
			ordered_owned_location = {
				order_by = population
				limit = {
					dominant_religion = root.religion
				}
				max = {
					value = 1
					add = {
						value = num_provinces
						multiply = 0.2
					}
				}
				check_range_bounds = no
				every_pop = {
					limit = {
						owner = root
						religion = root.religion
						pop_type = pop_type:peasants
					}
					split_pop = {
						fraction = 0.10
						religion = religion:lutheran
					}
				}
			}
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		scope:target_artist = {
			move_country = root
		}
	}
}

flavor_cas.5 = { #Baltasar de Zúñiga
	type = country_event
	title = flavor_cas.5.title
	desc = flavor_cas.5.desc
	image = "gfx/interface/illustrations/government/diplomacy_illustration.dds"

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1585.1.1
		to = 1600.1.1
		monthly_chance = 5
	}

	immediate = {
		create_character = {
			first_name = name_balthazar
			last_name = de_Zuniga
			religion = religion:catholic
			estate = estate_type:nobles_estate
			birth_date = 1561.1.1 #unknown
			female = no
			birth_location = location:salamanca
			adm = 67
			dip = 79
			mil = 63
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.5.a
		historical_option = yes

		change_gold_effect = { scale = -1 }
		add_legitimacy = legitimacy_weak_bonus
		scope:target_character = { move_country = root }
	}

	option = {
		name = flavor_cas.5.b

		scope:target_character = { banish_character = yes }
	}
}

flavor_cas.6 = { #Gaspar de Guzmán, Count-Duke of Olivares
	type = country_event
	title = flavor_cas.6.title
	desc = flavor_cas.6.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1617.1.1
		to = 1643.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		#event_illustration_estate_background_effect = { background = estate_type:crown_estate }

		if = {
			limit = {
				NOT = {
					dynasty_exists = guzman_olivares_dynasty
				}
			}
			location:sevilla = { create_dynasty_from_location = guzman_olivares_dynasty }
		}

		create_character = {
			first_name = name_casper
			religion = religion:catholic
			estate = estate_type:nobles_estate
			birth_date = 1587.7.22
			female = no
			birth_location = location:rome
			culture = culture:castilian
			dynasty = dynasty:guzman_olivares_dynasty
			adm = 78
			dip = 65
			mil = 75
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.6.a
		historical_option = yes

		add_legitimacy = legitimacy_weak_bonus
		scope:target_character = { move_country = root }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_weak_bonus }
	}

	option = {
		name = flavor_cas.6.b

		scope:target_character = { banish_character = yes }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_weak_penalty }
	}
}

flavor_cas.7 = { #Giulio Alberoni
	type = country_event
	title = flavor_cas.7.title
	desc = flavor_cas.7.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1694.1.1
		to = 1752.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_julius
			last_name = Alberoni
			religion = religion:catholic
			estate = estate_type:clergy_estate
			birth_date = 1664.5.21
			female = no
			birth_location = location:piacenza
			culture = culture:emilian
			adm = 69
			dip = 81
			mil = 32
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.7.a
		historical_option = yes

		add_legitimacy = legitimacy_weak_bonus
		scope:target_character = { move_country = root }
	}

	option = {
		name = flavor_cas.7.b
		scope:target_character = { banish_character = yes }
	}
}

flavor_cas.8 = { #José Moñino #PRISON
	type = country_event
	fire_only_once = yes
	title = flavor_cas.8.title
	desc = flavor_cas.8.desc


	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1758.1.1
		to = 1808.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {

		create_character = {
			first_name = name_joseph
			last_name = Monino
			religion = religion:catholic
			estate = estate_type:burghers_estate
			birth_date = 1728.10.21
			female = no
			birth_location = location:murcia
			culture = culture:castilian
			adm = 83
			dip = 71
			mil = 28
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			save_scope_as = target_character
			create_in_limbo = yes
		}
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_cas.8.a
		historical_option = yes

		add_legitimacy = legitimacy_weak_bonus
		scope:target_character = { move_country = root }
		add_country_modifier = { modifier = reform_of_law years = 5 mode = add_and_extend }
	}

	option = {
		name = flavor_cas.8.b
		scope:target_character = { banish_character = yes }
	}
}

flavor_cas.9 = { #Constitution of 1812
	type = country_event
	title = flavor_cas.9.title
	desc = flavor_cas.9.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1780.1.1
		to = 1837.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_government_estate_effect = yes
	}
	
	trigger = {
		government_type = government_type:monarchy
		legitimacy <= 60
		has_ruler = yes
		has_law = distribution_of_power_law
		NOT = {
			parliament_type = parliament_type:constitutional_parliament
		}
		modifier:has_a_parliamentary_system = yes
	}

	option = {
		name = flavor_cas.9.a

		set_parliament_type = parliament_type:constitutional_parliament
		add_legitimacy = legitimacy_severe_bonus
	}

	option = {
		name = flavor_cas.9.b

		add_stability = stability_extreme_penalty
	}
}

flavor_cas.10 = { #Miguel de Cervantes
	type = country_event
	title = flavor_cas.10.title
	desc = flavor_cas.10.desc
	
	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1575.1.1
		to = 1616.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }

		create_character = {
			first_name = name_michael
			last_name = de_Cervantes
			religion = religion:catholic
			estate = estate_type:peasants_estate
			birth_date = 1547.9.29
			female = no
			birth_location = location:alcala_de_henares
			adm = 83
			dip = 72
			mil = 75
			artist = writer
			artist_skill = 1.00
			save_scope_as = target_artist
			script = spa_miguel_de_cervantes
		}
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		owns = location:alcala_de_henares
		has_ruler = yes
	}

	option = {
		name = flavor_cas.10.a

		add_prestige = prestige_weak_bonus
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 100
				type = work_of_art_type:novel
				key = don_quixote
			}
		}
	}
}

flavor_cas.11 = { #Tomás Luis de Victoria
	type = country_event
	title = flavor_cas.11.title
	desc = flavor_cas.11.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1580.1.1
		to = 1611.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		create_character = {
			first_name = name_thomas.name_louis
			last_name = de_Victoria
			religion = religion:catholic
			estate = estate_type:clergy_estate
			birth_date = 1548.1.1 #unknown
			female = no
			birth_location = location:avila
			adm = 65
			dip = 82
			mil = 43
			artist = composer
			artist_skill = 0.81
			save_scope_as = target_artist
			create_in_limbo = yes
		}
	}

	trigger = {
		religion = religion:catholic
	}

	option = {
		name = flavor_cas.11.a

		change_gold_effect = { scale = -1 }
		add_prestige = prestige_weak_bonus
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 85
				type = work_of_art_type:motet
				key = officium_hebdomadae_sanctae
			}
		}
		scope:target_artist = { move_country = root }
	}

	option = {
		name = flavor_cas.11.b
		scope:target_artist = { banish_character = yes }
	}
}

flavor_cas.12 = { #El Greco moves to Spain
	type = country_event
	title = flavor_cas.12.title
	desc = flavor_cas.12.desc
	
	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1577.1.1
		to = 1614.1.1
		monthly_chance = 2
	}

	immediate = {
		location:toledo = {
			save_scope_as = target_location
		}

		create_character = {
			first_name = name_dominic
			last_name = theotokopoulos
			adm = 65
			dip = 45
			mil = 34
			artist = painter
			birth_date = 1541.10.1
			artist_skill = 0.87
			culture = culture:greek_culture
			birth_location = location:candia
			script = byz_el_greco
			save_scope_as = target_artist
			estate = estate_type:burghers_estate
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		NOT = {
			has_global_variable = el_greco_hired
		}
		has_ruler = yes
		owns = location:toledo
	}

	option = {
		name = flavor_cas.12.a

		add_prestige = prestige_mild_bonus
		change_gold_effect = { scale = -1 }
		location:toledo = {
			create_art = {
				artist = scope:target_artist
				quality = 87
				type = work_of_art_type:painting
				key = el_entierro_del_senor_de_orgaz
			}
		}
		scope:target_artist = { move_country = root }
	}

	option = {
		name = flavor_cas.12.b

		scope:target_artist = { banish_character = yes }
	}
}

flavor_cas.13 = { #Female Order of the Band
	type = country_event
	title = flavor_cas.13.title
	desc = flavor_cas.13.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1337.1.1
		to = 1390.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = castilian_civil_war_over
	}

	option = {
		name = flavor_cas.13.a
		historical_option = yes

		unlock_law_effect = { type = order_of_chivalry_law }
		unlock_policy_effect = { type = order_of_the_band_policy }
		add_policy = policy:order_of_the_band_policy
		set_variable = allowed_women_in_band_order
		custom_tooltip = flavor_cas.13.a.tt
	}

	option = {
		name = flavor_cas.13.b

		unlock_law_effect = { type = order_of_chivalry_law }
		unlock_policy_effect = { type = order_of_the_band_policy }
		add_policy = policy:order_of_the_band_policy
	}
}

flavor_cas.14 = { #Prince of Asturias
	hide_portraits = yes
	type = country_event
	title = flavor_cas.14.title
	desc = flavor_cas.14.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1370.1.1
		to = 1390.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
		heir = {
			save_scope_as = target_heir
		}

	}

	trigger = {
		has_ruler = yes
		has_heir = yes
		own_entire_province = province_definition:east_asturias_province
		own_entire_province = province_definition:west_asturias_province
	}

	option = {
		name = flavor_cas.14.a
		historical_option = yes

		province_definition:east_asturias_province = {
			every_location_in_province_definition = {
				limit = {
					owner = root
				}
				change_control = control_mild_bonus
			}
		}
		province_definition:west_asturias_province = {
			every_location_in_province_definition = {
				limit = {
					owner = root
				}
				change_control = control_mild_bonus
			}
		}
		scope:target_heir = {
			add_adm = 15
			add_mil = 10
		}
	}

	option = {
		name = flavor_cas.14.b

		add_prestige = prestige_mild_penalty
		change_societal_value = { type = aristocracy_vs_plutocracy value = societal_value_move_to_right }
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
	}
}

flavor_cas.15 = { #Chronicle of Alfonso XI
	type = country_event
	title = flavor_cas.15.title
	desc = flavor_cas.15.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1337.1.1
		to = 1360.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:nobles background = pop_type:soldiers }
		#event_illustration_estate_background_effect = { background = estate_type:crown_estate }

		create_character = {
			first_name = name_ferdinand.Sanchez #name_ferdinand should be name_ferdinand.diminutive: "Fernán"
			last_name = de_valladolid
			adm = 62
			dip = 34
			mil = 21
			artist = writer
			birth_date = 1300.1.1 #birthdate unknown
			artist_skill = 0.78
			birth_location = location:valladolid
			save_scope_as = target_artist
			estate = estate_type:burghers_estate
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		character:cas_alfonso_xi_burgundy = {
			is_alive = yes
			is_ruler = yes
		}
		c:MOR = {
			NOT = {
				has_presence_in = region:iberia_region
			}
		}
		religion = religion:catholic
	}

	option = {
		name = flavor_cas.15.a
		historical_option = yes

		add_prestige = prestige_mild_bonus
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 81
				type = work_of_art_type:chronicle
				key =  chronicle_of_alfonso_xi
			}
		}
		scope:target_artist = { move_country = root }
	}

	option = {
		name = flavor_cas.15.b
		scope:target_artist = { banish_character = yes }
	}
}

flavor_cas.16 = { #The Book of Good Love
	hide_portraits = yes
	type = country_event
	title = flavor_cas.16.title
	desc = flavor_cas.16.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1337.1.1
		to = 1350.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		create_character = {
			first_name = name_john
			last_name = Ruiz
			adm = 62
			dip = 34
			mil = 21
			artist = writer
			birth_date = 1283.1.1 #birthdate unknown
			artist_skill = 0.79
			birth_location = location:alcala_de_henares
			save_scope_as = target_artist
			estate = estate_type:clergy_estate
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		religion = religion:catholic
		has_ruler = yes
	}

	option = {
		name = flavor_cas.16.a
		historical_option = yes

		change_gold_effect = { scale = -1 }
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 79
				type = work_of_art_type:poem
				key =  book_of_good_love
			}
		}
		scope:target_artist = { move_country = root }
		add_country_modifier = { modifier = read_the_book_of_good_love years = 5 mode = add_and_extend }
	}

	option = {
		name = flavor_cas.16.b
		scope:target_artist = { banish_character = yes }
	}
}

flavor_cas.17 = { #The Book of Hunting
	type = country_event
	title = flavor_cas.17.title
	desc = flavor_cas.17.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1338.1.1
		to = 1360.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:peasants_estate }

		ruler = {
			save_scope_as = target_artist
		}
	}

	trigger = {
		character:cas_alfonso_xi_burgundy = {
			is_alive = yes
			is_ruler = yes
		}
	}

	option = {
		name = flavor_cas.17.a
		historical_option = yes

		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 73
				type = work_of_art_type:chronicle
				key =  book_of_hunting
			}
		}
		add_country_modifier = { modifier = the_book_of_hunting years = 20 mode = add_and_extend }
	}
}

flavor_cas.18 = { #The Succession of Pedro I
	type = country_event
	title = flavor_cas.18.title
	desc = flavor_cas.18.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1337.1.1
		to = 1400.1.1
		monthly_chance = 100
	}

	trigger = {
		government_type = government_type:monarchy
		ruler ?= {
			this = character:cas_pedro_i_burgundy
		}
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		#event_illustration_estate_background_effect = { background = estate_type:crown_estate }
		save_scope_as = target_country
		character:cas_alfonso_xi_burgundy = { save_scope_as = ruler_father }
		ruler ?= { save_scope_as = target_ruler }
	}

	option = {
		name = flavor_cas.18.a
		scope:target_ruler = { set_character_erratic_behavior = yes }
		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_cas.19 = { #The Portuguese Interregnum
	hide_portraits = no
	type = country_event
	title = flavor_cas.19.title
	desc = flavor_cas.19.desc
	image = "gfx/interface/illustrations/disaster/succession_crisis.dds" 
	historical_info = flavor_cas.19.historical_info

	fire_only_once = yes

	immediate = {
		ruler ?= { save_scope_as = target_ruler }
		c:POR = {
			ruler ?= { save_scope_as = portuguese_ruler }
		}
	}

	option = {
		name = flavor_cas.19.a
		historical_option = yes
		add_casus_belli = { target = c:POR type = casus_belli:cb_claim_throne }
		add_opinion_mutual_effect = {
			modifier = CAS_claimed_portuguese_throne
			target = c:POR
		}
		set_variable = cas_claimed_the_portuguese_throne
	}

	option = {
		name = flavor_cas.19.b
		add_opinion_mutual_effect = {
			modifier = CAS_respected_portuguese_claims
			target = c:POR
		}
	}
}

flavor_cas.20 = { #Castile Defeated - Battle of Aljubarrota
	hide_portraits = yes
	type = country_event
	title = flavor_cas.20.title
	desc = flavor_cas.20.desc
	image = "gfx/interface/illustrations/disaster/placeholder.dds"

	fire_only_once = yes

	historical_info = flavor_cas.20.historical_info

	immediate = {
		ruler ?= { save_scope_as = target_ruler }
		c:POR = {
			ruler ?= { save_scope_as = portuguese_ruler }
		}
	}

	option = {
		name = flavor_cas.20.a
		historical_option = yes
		add_legitimacy = legitimacy_mild_penalty
		add_army_tradition = army_tradition_mild_penalty
	}
}

flavor_cas.21 = { #Castile Victorious
	hide_portraits = no
	type = country_event
	title = flavor_cas.21.title
	desc = flavor_cas.21.desc

	fire_only_once = yes

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:nobles background = pop_type:soldiers }
		ruler ?= { save_scope_as = target_ruler }
		c:POR = {
			ruler ?= { save_scope_as = portuguese_ruler }
		}
	}

	option = {
		name = flavor_cas.21.a
		add_legitimacy = legitimacy_mild_bonus
		add_army_tradition = army_tradition_mild_bonus
	}

	option = {
		name = flavor_cas.21.b
		location:guadalupe = {
			change_building_level_in_location = { building = building_type:monastery value = 1 }
		}
	}
}

flavor_cas.22 = { #The Catholic Kings
	hide_portraits = no
	type = country_event
	title = flavor_cas.22.title
	desc = flavor_cas.22.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1480.1.1
		to = 1550.1.1
		monthly_chance = 10
	}


	trigger = {
		government_type = government_type:monarchy
		religion = religion:catholic
		has_ruler = yes
		has_regent = no
		ruler ?= {
			is_adult = yes
		}
		c:PAP = {
			has_ruler = yes
			has_regent = no
			ruler ?= {
				is_adult = yes
			}
		}
		OR = {
			religious_influence >= 50
			has_mutual_scripted_relation = {
				type = relation_type:alliance
				target = c:PAP
			}
		}
		NOR = {
			is_rival_of = c:PAP
			is_enemy_of = c:PAP
		}
		NOT = {	is_at_war_with = c:PAP }
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		c:PAP = {
			ruler ?= { save_scope_as = pope }
		}
		ruler ?= { save_scope_as = target_ruler }
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate	background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_cas.22.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_bonus
		custom_tooltip = flavor_cas.22.a.tt
		set_variable = {
			name = spa_catholic_kings_title
			value = current_date #store the date so we know when this rule was applied
		}
	}

	option = {
		name = flavor_cas.22.b
		add_legitimacy = legitimacy_severe_penalty
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
	}
}

flavor_cas.23 = { #Fuero Viejo de Castilla
	type = country_event
	title = flavor_cas.23.title
	desc = flavor_cas.23.desc

	fire_only_once = yes

	historical_info = flavor_cas.23.historical_info

	dynamic_historical_event = {
		tag = CAS
		from = 1337.1.1
		to = 1400.1.1
		monthly_chance = 1
	}

	trigger = {
		government_type = government_type:monarchy
		"estate_power(estate_type:nobles_estate)" > 0.5
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_cas.23.a
		historical_option = yes
		unlock_estate_privilege_effect = { type = cas_fuero_viejo }
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_large_move_to_right }
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
	}

	option = {
		name = flavor_cas.23.b
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_large_move_to_left }
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
	}
}

flavor_cas.24 = { #Ordenamiento de Alcalá
	type = country_event
	title = flavor_cas.24.title
	desc = flavor_cas.24.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"

	fire_only_once = yes

	historical_info = flavor_cas.24.historical_info

	dynamic_historical_event = {
		tag = CAS
		from = 1337.1.1
		to = 1400.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:alcala_de_henares
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		unlock_policy_effect = {
			type = ordenamiento_de_alcala_policy
		}
	}

	option = {
		name = flavor_cas.24.a
		historical_option = yes

		add_policy = policy:ordenamiento_de_alcala_policy

		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_cas.24.b
		add_stability = stability_mild_bonus
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_right
		}
	}
}

flavor_cas.25 = { #The Inventory of the Behetrías
	type = country_event
	title = flavor_cas.25.title
	desc = flavor_cas.25.desc

	fire_only_once = yes

	historical_info = flavor_cas.25.historical_info

	dynamic_historical_event = {
		tag = CAS
		from = 1350.1.1
		to = 1400.1.1
		monthly_chance = 1
	}

	trigger = {
		"estate_power(estate_type:nobles_estate)" > 0.5
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_cas.25.a
		historical_option = yes
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_mild_penalty
		}
		add_country_modifier = {
			modifier = cas_converted_behetrias
			years = 10
			mode = add_and_extend
		}
	}

	option = {
		name = flavor_cas.25.b
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_mild_bonus
		}
		add_country_modifier = {
			modifier = cas_rights_of_behetrias
			years = 10
			mode = add_and_extend
		}
	}
}

flavor_cas.26 = { #Pero López de Ayala
	type = country_event
	title = flavor_cas.26.title
	desc = flavor_cas.26.desc

	fire_only_once = yes

	historical_info = flavor_cas.26.historical_info

	dynamic_historical_event = {
		tag = CAS
		from = 1370.1.1
		to = 1390.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		create_character = {
			first_name = name_peter
			dynasty = dynasty:lopez_de_ayala
			birth_date = 1332.1.1
			birth_location = location:vitoria
			culture = culture:castilian
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.85
			artist = writer
			estate = estate_type:nobles_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_lopez_de_ayala
		}
	}

	trigger = {
		owns = location:vitoria
	}

	option = {
		name = flavor_cas.26.a
		scope:target_character = {
			move_country = root
		}
		change_gold_effect = { scale = -2 }
		add_prestige = prestige_weak_bonus
	}

	option = {
		name = flavor_cas.26.b
		add_legitimacy = legitimacy_weak_penalty
		scope:target_character = { banish_character = yes }
	}
}

flavor_cas.27 = { #Chronicles of Castile
	type = country_event
	title = flavor_cas.27.title
	desc = flavor_cas.27.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		from = 1370.1.1
		to = 1405.1.1
		monthly_chance = 10
	}

	historical_info = flavor_cas.27.historical_info

	immediate = {
		character:cas_lopez_de_ayala ?= { save_scope_as = target_character }
	}

	trigger = {
		character:cas_lopez_de_ayala ?= { is_alive = yes }
	}

	option = {
		name = flavor_cas.27.a
		change_gold_effect = { scale = -5 }
		capital = {
			create_art = {
				quality = 80
				artist = scope:target_character
				type = work_of_art_type:chronicle
				key = chronicles_of_castile
			}
		}
		scope:target_character = {
			add_trait = trait:prominent
		}
		culture = {
			add_cultural_tradition = cultural_tradition_weak_bonus
			add_cultural_influence = cultural_influence_weak_bonus
		}
	}

	option = {
		name = flavor_cas.27.b
		culture = {
			add_cultural_tradition = cultural_tradition_weak_penalty
			add_cultural_influence = cultural_influence_weak_penalty
		}
	}
}

flavor_cas.28 = { #The Magellan Expedition
	type = country_event
	title = flavor_cas.28.title
	desc = flavor_cas.28.desc
	image = "gfx/interface/illustrations/institutions/global_trade.dds"

	fire_only_once = yes

	historical_info = flavor_cas.28.historical_info


	option = {
		name = flavor_cas.28.a
		historical_option = yes
		add_gold = -250
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_trait = trait:navigator
		}
		add_country_modifier = {
			modifier = cas_magellan_expedition
			years = 10
			mode = add_and_extend
		}
		if = {
			limit = {
				NOR = {
					current_age = age_1_traditions
					current_age = age_2_renaissance
				}
			}
			change_societal_value = {
				type = outward_vs_inward
				value = societal_value_move_to_left
			}
		}
		else = {
			add_prestige = prestige_weak_bonus
		}
		hidden_effect = {
			random_list = {
				1 = { set_variable = cas_magellan_dies }
				1 = { }
			}
		}
	}

	option = {
		name = flavor_cas.28.b
		add_prestige = prestige_mild_penalty
		if = {
			limit = {
				NOR = {
					current_age = age_1_traditions
					current_age = age_2_renaissance
				}
			}
			change_societal_value = {
				type = outward_vs_inward
				value = societal_value_move_to_right
			}
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.29 = { #Magellan Killed #GRAVEYARD
	type = country_event
	title = flavor_cas.29.title
	desc = flavor_cas.29.desc
	image = "gfx/interface/illustrations/institutions/new_world.dds"

	historical_info = flavor_cas.29.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1519.1.1
		to = 1540.1.1
		monthly_chance = 10
	}

	trigger = {
		has_variable = cas_magellan_dies
		exists = character:por_magellan
		character:por_magellan = { is_alive = yes }
		any_exploration_from_country = {
			leader = character:por_magellan
			area = area:indonesia_coasts_area
		}
	}

	immediate = {
		character:por_magellan ?= { save_scope_as = target_character }
		create_character = {
			estate = estate_type:burghers_estate
			first_name = name_john.name_sebastian
			last_name = Elcano
			adm = 72
			dip = 70
			mil = 83
			birth_date = 1486.1.1
			birth_location = location:tolosa
			female = no
			save_scope_as = target_elcano
			create_in_limbo = yes
			script = cas_elcano
			culture = culture:basque
		}
	}

	option = {
		name = flavor_cas.29.a
		historical_option = yes
		random_exploration_from_country = {
			change_exploration_progress = {
				value = exploration_monthly_progress
				multiply = -0.5
			}
		}
		kill_character = scope:target_character
		custom_tooltip = {
			text = flavor_cas.29.a.tt
			scope:target_elcano = {
				move_country = root
			}
			change_explorer = { area = area:indonesia_coasts_area character = scope:target_elcano }
		}
	}

	after = {
		remove_variable = cas_magellan_dies
	}
}

flavor_cas.30 = { #Rivalry on the High Seas
	type = country_event
	title = flavor_cas.30.title
	desc = flavor_cas.30.desc
	image = "gfx/interface/illustrations/institutions/new_world.dds"

	fire_only_once = yes

	immediate = {
		character:por_magellan = {
			save_scope_as = magellan_scope
		}
		create_character = {
			estate = estate_type:burghers_estate
			first_name = name_john.name_sebastian
			last_name = Elcano
			adm = 72
			dip = 70
			mil = 83
			birth_date = 1486.1.1
			birth_location = location:tolosa
			female = no
			save_scope_as = target_character
			create_in_limbo = yes
			script = cas_elcano
			culture = culture:basque
		}
	}
	option = {
		name = flavor_cas.30.a
		change_gold_effect = { scale = -4 }
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_trait = trait:navigator
		}
	}

	option = {
		name = flavor_cas.30.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.31 = { #Cardenal Mendoza
	type = country_event
	title = flavor_cas.31.title
	desc = flavor_cas.31.desc
	illustration_tags = {
		10 = happy
		10 = interior
		}
	
	fire_only_once = yes

	historical_info = flavor_cas.31.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1470.1.1
		to = 1480.1.1
		monthly_chance = 1
	}

	trigger = {
		religion = religion:catholic
		num_cardinals >= 1
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_peter
			last_name = gonzalez_de_mendoza
			adm = { 50 80 }
			dip = { 50 80 }
			mil = { 20 50 }
			birth_date = 1428.5.3
			birth_location = location:guadalajara
			culture = culture:castilian
			estate = estate_type:clergy_estate
			script = cas_cardinal_mendoza
			save_scope_as = target_character
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.31.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_religious_influence = religious_influence_mild_bonus
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.31.b
		add_religious_influence = religious_influence_mild_penalty
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.32 = { #Alonso Fonseca
	type = country_event
	title = flavor_cas.32.title
	desc = flavor_cas.32.desc

	fire_only_once = yes

	historical_info = flavor_cas.32.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1480.1.1
		to = 1490.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	trigger = {
		religion = religion:catholic
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_alphonse
			last_name = de_Fonseca
			adm = { 70 80 }
			dip = { 70 80 }
			mil = { 20 30 }
			birth_date = 1436.1.1
			birth_location = location:santiago_compostela
			culture = culture:galician
			estate = estate_type:clergy_estate
			script = cas_fonseca
			save_scope_as = target_character
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.32.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.32.b
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.33 = { #Founding the Complutensis Universitas
	type = country_event
	title = flavor_cas.33.title
	desc = flavor_cas.33.desc

	fire_only_once = yes

	historical_info = flavor_cas.33.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1490.1.1
		to = 1510.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	trigger = {
		religion = religion:catholic
		owns = 	location:alcala_de_henares
		character:cas_cardinal_cisneros ?= {
			is_alive = yes
		}
		location:alcala_de_henares = {
			has_building = building_type:university
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		character:cas_cardinal_cisneros = {
			save_scope_as = target_character
		}#Show the portrait of cas_cardinal_cisneros.
	}

	option = {
		name = flavor_cas.33.a
		historical_option = yes
		location:alcala_de_henares = {
			change_prosperity = prosperity_severe_bonus
			change_development  = development_mild_bonus
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_cas.33.b
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}
}

flavor_cas.34 = { #Gonzalo Fernández de Córdoba
	type = country_event
	title = flavor_cas.34.title
	desc = flavor_cas.34.desc

	fire_only_once = yes

	historical_info = flavor_cas.34.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1495.1.1
		to = 1510.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	trigger = {
		owns = location:cordoba
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }

		create_character = {
			first_name = name_gonzalo
			nickname = el_gran_capitan
			dynasty = dynasty:cordoba_cabra
			adm = { 70 80 }
			dip = { 70 80 }
			mil = { 85 95 }
			birth_date = 1453.9.1
			birth_location = location:cordoba
			culture = culture:castilian
			estate = estate_type:nobles_estate
			script = cas_gonzalo_de_cordoba
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.34.a
		historical_option = yes
		add_army_tradition = army_tradition_mild_bonus
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = general
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add_and_extend
			}
		}
	}

	option = {
		name = flavor_cas.34.b
		add_army_tradition = army_tradition_mild_penalty
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_right }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.35 = { #Francisco Pizarro
	type = country_event
	title = flavor_cas.35.title
	desc = flavor_cas.35.desc
	image = "gfx/interface/illustrations/institutions/new_world.dds"
	fire_only_once = yes

	historical_info = flavor_cas.35.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1525.1.1
		to = 1530.1.1
		monthly_chance = 1
	}

	trigger = {
		has_presence_in = region:andes_region
	}

	immediate = {

		create_character = {
			first_name = name_francis
			last_name = Pizarro
			adm = { 50 70 }
			dip = { 50 70 }
			mil = { 85 95 }
			birth_date = 1478.3.16
			birth_location = location:trujillo
			culture = culture:castilian
			estate = estate_type:peasants_estate
			script = cas_pizarro
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.35.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = general
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add_and_extend
			}
		}
		add_casus_belli =  { type = casus_belli:cb_conquer_province target = location:chucuito.owner province = location:chucuito.province }
		change_gold_effect = { scale = -4 }
	}

	option = {
		name = flavor_cas.35.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.36 = { #Hernán Cortés
	type = country_event
	title = flavor_cas.36.title
	desc = flavor_cas.36.desc
	image = "gfx/interface/illustrations/institutions/new_world.dds"
	fire_only_once = yes

	historical_info = flavor_cas.36.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1519.1.1
		to = 1530.1.1
		monthly_chance = 1
	}

	trigger = {
		has_presence_in = region:mesoamerica_region
	}

	immediate = {
		
		create_character = {
			first_name = Hernan
			dynasty = dynasty:cortes_dynasty
			adm = { 50 70 }
			dip = { 50 70 }
			mil = 100
			birth_date = 1485.12.1
			birth_location = location:medellin
			culture = culture:castilian
			estate = estate_type:nobles_estate
			script = cas_cortes
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.36.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = general
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add_and_extend
			}
		}
		add_casus_belli =  { type = casus_belli:cb_conquer_province target = location:tenochtitlan.owner province = location:tenochtitlan.province }
		change_gold_effect = { scale = -4 }
	}

	option = {
		name = flavor_cas.36.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.37 = { #Juan de la Cosa
	type = country_event
	title = flavor_cas.37.title
	desc = flavor_cas.37.desc
	image = "gfx/interface/illustrations/institutions/global_trade.dds"
	fire_only_once = yes

	historical_info = flavor_cas.37.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1490.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		has_presence_in = region:caribbean_region
		any_character = {
			is_explorer = yes
		}
	}

	immediate = {
		create_character = {
			first_name = name_john
			last_name = de_la_Cosa
			adm = { 50 70 }
			dip = { 50 70 }
			mil = { 50 70 }
			birth_date = 1450.1.1
			birth_location = location:santander
			culture = culture:castilian
			estate = estate_type:peasants_estate
			script = cas_de_la_cosa
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.37.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = explorer
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add_and_extend
			}
		}
		change_gold_effect = { scale = -4 }
		set_variable = cas_de_la_cosa_map
	}

	option = {
		name = flavor_cas.37.b
		add_navy_tradition = navy_tradition_mild_penalty
		kill_character_silently = scope:target_character
	}
}

flavor_cas.38 = { #Juan de la Cosa's Map of the New World
	type = country_event
	title = flavor_cas.38.title
	desc = flavor_cas.38.desc
	image = "gfx/interface/illustrations/institutions/new_world.dds"

	fire_only_once = yes

	historical_info = flavor_cas.38.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1490.1.1
		to = 1510.1.1
		monthly_chance = 1
	}

	trigger = {
		has_variable = cas_de_la_cosa_map
		character:cas_de_la_cosa = {
			is_alive = yes
		}
	}

	immediate = {
		character:cas_de_la_cosa = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_cas.38.a
		historical_option = yes
		add_navy_tradition = navy_tradition_mild_bonus
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_right
		}
		capital = {
			create_art = {
				artist = scope:target_character
				key = de_la_cosa_map
				quality = 75
				type = work_of_art_type:treatise
			}
		}
	}

	after = {
		remove_variable = cas_de_la_cosa_map
	}
}

flavor_cas.39 = { #Padron Real
	type = country_event
	title = flavor_cas.39.title
	desc = flavor_cas.39.desc
	fire_only_once = yes

	historical_info = flavor_cas.39.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1507.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	trigger = {
		has_reform = government_reform:casa_de_contratacion
		has_global_variable = new_world_discovered
		has_presence_in = continent:america
		owns = location:sevilla
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_cas.39.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		add_navy_tradition = navy_tradition_severe_bonus
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_right
		}
		location:sevilla = {
			create_art = {
				key = padron_real
				quality = 90
				type = work_of_art_type:treatise
			}
		}
	}

	option = {
		name = flavor_cas.39.b
		add_navy_tradition = navy_tradition_severe_penalty
	}
}

flavor_cas.40 = { #Garcilaso de la Vega
	type = country_event
	title = flavor_cas.40.title
	desc = flavor_cas.40.desc
	image = "gfx/interface/illustrations/institutions/renaissance.dds"
	
	historical_info = flavor_cas.40.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1525.1.1
		to = 1530.1.1
		monthly_chance = 1
	}
	
	immediate = {
		create_character = {
			first_name = name_garcilaso
			last_name = de_la_vega
			birth_date = 1498.2.15
			birth_location = location:toledo
			culture = culture:castilian
			adm = 86
			dip = 94
			mil = 45
			estate = estate_type:peasants_estate
			artist_skill = 0.95
			artist = writer
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_de_la_vega
		}
	}

	trigger = {
		has_embraced_institution = institution:renaissance
	}

	option = {
		name = flavor_cas.40.a
		change_gold_effect = { scale = -4 }
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
		}
	}

	option = {
		name = flavor_cas.40.b
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.41 = { #Herrera's Agricultural Innovation
	type = country_event
	title = flavor_cas.41.title
	desc = flavor_cas.41.desc

	fire_only_once = yes

	historical_info = flavor_cas.41.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1513.1.1
		to = 1520.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	trigger = {
		character:cas_cardinal_cisneros ?= {
			is_alive = yes
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		character:cas_cardinal_cisneros = {
			save_scope_as = cardinal_cisneros
		}
		create_character = {
			first_name = name_gabriel.name_alphonse
			last_name = de_Herrera
			birth_date = 1470.1.1
			birth_location = location:talavera_de_la_reina
			culture = culture:castilian
			adm = 81
			dip = 87
			mil = 23
			estate = estate_type:peasants_estate
			artist_skill = 0.85
			artist = scientist
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_alonso_de_herrera
		}
	}

	option = {
		name = flavor_cas.41.a
		change_gold_effect = { scale = -4 }
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_research_progress = research_progress_mild_bonus
		add_country_modifier = { modifier = cas_herreras_innovation years = 20 mode = add_and_extend }
	}

	option = {
		name = flavor_cas.41.b
		add_research_progress = research_progress_mild_penalty
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.42 = { #Miguel Servet
	type = country_event
	title = flavor_cas.42.title
	desc = flavor_cas.42.desc

	fire_only_once = yes

	historical_info = flavor_cas.42.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1540.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	trigger = {
		owns = location:huesca
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_michael
			last_name = Servet
			birth_date = 1509.1.1
			birth_location = location:huesca
			culture = culture:aragonese
			adm = { 70 90 }
			dip = { 70 90 }
			mil = { 20 70 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_servet
		}
	}

	option = {
		name = flavor_cas.42.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.42.b
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.43 = { #Pedro Berruguete
	type = country_event
	title = flavor_cas.43.title
	desc = flavor_cas.43.desc
	image = "gfx/interface/illustrations/institutions/renaissance.dds"
	fire_only_once = yes

	historical_info = flavor_cas.43.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1480.1.1
		to = 1490.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_peter
			last_name = Berruguete
			birth_date = 1450.1.1
			birth_location = location:toledo
			culture = culture:castilian
			adm = 86
			dip = 94
			mil = 45
			estate = estate_type:burghers_estate
			artist_skill = 0.85
			artist = painter
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_berruguete
		}
	}

	trigger = {
		has_embraced_institution = institution:renaissance
	}

	option = {
		name = flavor_cas.43.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		scope:target_character = {
			move_country = root
		}
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
		}
	}

	option = {
		name = flavor_cas.43.b
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.44 = { #An Archive of the Realm
	type = country_event
	title = flavor_cas.44.title
	desc = flavor_cas.44.desc
	
	fire_only_once = yes

	historical_info = flavor_cas.44.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1540.1.1
		to = 1570.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = 	location:valladolid
	}

	immediate = {
		location:valladolid = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.44.a
		historical_option = yes
		add_government_power = government_power_severe_bonus
		location:valladolid = {
			construct_building = {
				building_type = building_type:general_archive_of_simancas
			}
		}
	}

	option = {
		name = flavor_cas.44.b
		add_government_power = government_power_severe_penalty
	}
}

flavor_cas.45 = { #Seeking an Architect of Grand Vision
	type = country_event
	title = flavor_cas.45.title
	desc = flavor_cas.45.desc

	fire_only_once = yes

	historical_info = flavor_cas.45.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1570.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}
	
	immediate = {
		create_character = {
			first_name = name_john
			last_name = de_Herrera
			birth_date = 1530.1.1
			birth_location = location:san_vicente_barquera
			culture = culture:leonese
			adm = { 80 95 }
			dip = { 20 90 }
			mil = { 20 40 }
			estate = estate_type:burghers_estate
			artist_skill = 0.9
			artist = architect
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_de_herrera
		}
		ruler = {
			save_scope_as = target_ruler
		}
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:nobles_estate }
	}

	trigger = {
		has_ruler = yes
	}

	option = {
		name = flavor_cas.45.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_cas.45.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.46 = { #El Escorial
	type = country_event
	title = flavor_cas.46.title
	desc = flavor_cas.46.desc
	
	fire_only_once = yes

	historical_info = flavor_cas.46.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1580.1.1
		monthly_chance = 10
	}

	immediate = {
		location:el_escorial = {
			save_scope_as = target_location
		}
		character:cas_de_herrera = {
			save_scope_as = target_character
		}
	}

	trigger = {
		government_type = government_type:monarchy
		character:cas_de_herrera ?= {
			is_alive = yes
		}
		has_ruler = yes
		owns = location:el_escorial
	}

	option = {
		name = flavor_cas.46.a
		historical_option = yes
		add_prestige = prestige_severe_bonus
		location:el_escorial = {
			construct_building = {
				building_type = building_type:el_escorial_palace
			}
		}
		location:el_escorial = {
			change_prosperity = prosperity_very_weak_bonus
			change_development = development_mild_bonus
		}
	}

	option = {
		name = flavor_cas.46.b
		add_prestige = prestige_severe_penalty
	}
}

flavor_cas.47 = { #The School of Salamanca
	type = country_event
	title = flavor_cas.47.title
	desc = flavor_cas.47.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	fire_only_once = yes

	historical_info = flavor_cas.47.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1530.1.1
		to = 1580.1.1
		monthly_chance = 10
	}

	trigger = {
		location:salamanca = {
			has_building = building_type:university
		}
		owns = location:salamanca
	}

	option = {
		name = flavor_cas.47.a
		historical_option = yes
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
			add_cultural_influence = cultural_influence_mild_bonus
		}
		location:salamanca = {
			construct_building = {
				building_type = building_type:school_of_salamanca
			}
		}
		custom_tooltip = {
			text = flavor_cas.47.tt.a
			set_variable = cas_unlock_salamanca_events
		}
	}

	option = {
		name = flavor_cas.47.b
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
			add_cultural_influence = cultural_influence_mild_penalty
		}
	}
}

flavor_cas.48 = { #Leyes de Toro
	type = country_event
	title = flavor_cas.48.title
	desc = flavor_cas.48.desc
	historical_info = flavor_cas.48.historical_info
	image = "gfx/interface/illustrations/institutions/legalism.dds"

	dynamic_historical_event = {
		tag = SPA
		from = 1505.1.1
		to = 1600.1.1
		monthly_chance = 3
	}

	fire_only_once = yes

	trigger = {
		location:toro = {
			owner ?= root
			location_rank = location_rank:city
		}
	}

	immediate = {
		location:toro = {
			save_scope_as = target_location
		}

		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		unlock_policy_effect = {
			type = leyes_de_toro_policy
		}
	}

	option = {
		name = flavor_cas.48.a

		add_policy = policy:leyes_de_toro_policy

		scope:target_location = {
			change_prosperity = prosperity_mild_bonus
		}
	}

	option = {
		name = flavor_cas.48.b

		add_stability = stability_mild_bonus
	}
}

flavor_cas.49 = { #Nueva Recopilación
	type = country_event
	title = flavor_cas.49.title
	desc = flavor_cas.49.desc
	historical_info = flavor_cas.49.historical_info

	dynamic_historical_event = {
		tag = SPA
		from = 1560.1.1
		to = 1650.1.1
		monthly_chance = 4
	}

	fire_only_once = yes

	illustration_tags = {
		10 = regular
		10 = interior
	}

	trigger = {
		ruler_or_regent ?= {
			OR = {
				has_trait = lawgiver
				adm >= 65
			}
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:clergy_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		unlock_policy_effect = {
			type = nueva_recopilacion_policy
		}
	}

	option = {
		name = flavor_cas.49.a

		add_policy = policy:nueva_recopilacion_policy

		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_cas.49.b

		add_stability = stability_mild_bonus
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_right
		}
	}
}

flavor_cas.50 = { #Novísima Recopilación
	type = country_event
	title = flavor_cas.50.title
	desc = flavor_cas.50.desc
	historical_info = flavor_cas.50.historical_info

	dynamic_historical_event = {
		tag = SPA
		from = 1700.1.1
		to = 1821.1.1
		monthly_chance = 3
	}

	fire_only_once = yes

	illustration_tags = {
		10 = regular
		10 = interior
	}

	trigger = {
		has_policy = nueva_recopilacion_policy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_cas.50.a

		custom_tooltip = {
			text = spa_alter_nueva_recopilacion_policy_tt
			set_variable = spa_altered_nueva_recopilacion
		}
	}

	option = {
		name = flavor_cas.50.b

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_extreme_bonus
		}

		add_stability = stability_mild_bonus
	}
}

flavor_cas.51 = { #Martín de Azpilicueta and the Theory of Economics
	type = country_event
	title = flavor_cas.51.title
	desc = flavor_cas.51.desc
	image = "gfx/interface/illustrations/institutions/banking.dds"
	
	historical_info = flavor_cas.51.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1540.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_martin
			last_name = de_Azpilicueta
			birth_date = 1491.12.13
			birth_location = location:pamplona
			nickname = doctor_navarrus
			culture = culture:basque
			adm = { 75 90 }
			dip = { 40 70 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_azpilicueta
		}
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:pamplona
	}

	option = {
		name = flavor_cas.51.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_country_modifier = { modifier = cas_azpilicuetas_theory years = 20 mode = add_and_extend }
	}
}

flavor_cas.52 = { #Domingo de Soto and the Principles of Justice
	type = country_event
	title = flavor_cas.52.title
	desc = flavor_cas.52.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	
	historical_info = flavor_cas.52.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1540.1.1
		to = 1560.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_dominic
			last_name = de_Soto
			birth_date = 1494.1.1
			birth_location = location:segovia
			culture = culture:castilian
			adm = { 70 90 }
			dip = { 40 70 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_de_soto
		}
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:segovia
	}

	option = {
		name = flavor_cas.52.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_societal_value = { type = individualism_vs_communalism value = societal_value_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_right }
	}
}

flavor_cas.53 = { #Francisco de Vitoria
	type = country_event
	title = flavor_cas.53.title
	desc = flavor_cas.53.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"

	historical_info = flavor_cas.53.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1530.1.1
		to = 1546.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_francis
			last_name = de_Vitoria
			birth_date = 1483.1.1
			birth_location = location:burgos
			culture = culture:castilian
			adm = { 70 90 }
			dip = { 40 70 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_de_vitoria
		}
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:burgos
		has_global_variable = new_world_discovered
		has_presence_in = continent:america
	}

	option = {
		name = flavor_cas.53.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.53.b
		kill_character_silently = {
			target = scope:target_character
		}
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_left }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_left }
	}
}

flavor_cas.54 = { #The Ideas of Molinism
	type = country_event
	title = flavor_cas.54.title
	desc = flavor_cas.54.desc
	
	historical_info = flavor_cas.54.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1565.1.1
		to = 1580.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		create_character = {
			first_name = name_louis
			last_name = de_Molina
			birth_date = 1535.9.23
			birth_location = location:cuenca
			culture = culture:castilian
			adm = { 40 70 }
			dip = { 40 90 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_molina
		}
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:cuenca
	}

	option = {
		name = flavor_cas.54.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		culture = {
			add_cultural_influence = cultural_influence_mild_bonus
		}
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_right }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}

	option = {
		name = flavor_cas.54.b
		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character
			}
		}
		add_religious_influence = religious_influence_mild_bonus
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_left }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_cas.55 = { #Francisco Suarez
	type = country_event
	title = flavor_cas.55.title
	desc = flavor_cas.55.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	
	historical_info = flavor_cas.55.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1580.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_francis
			last_name = Suarez
			birth_date = 1548.1.5
			birth_location = location:granada
			culture = culture:castilian
			adm = { 40 70 }
			dip = { 70 90 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_suarez
		}
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:granada
	}

	option = {
		name = flavor_cas.55.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_legitimacy = legitimacy_mild_penalty
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_right }
	}

	option = {
		name = flavor_cas.55.b
		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character
			}
		}
		add_legitimacy = legitimacy_mild_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_left }
	}
}

flavor_cas.56 = { #Gabriel Vásquez
	type = country_event
	title = flavor_cas.56.title
	desc = flavor_cas.56.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	
	historical_info = flavor_cas.56.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1580.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_gabriel
			last_name = Vasquez
			birth_date = 1549.1.1
			birth_location = location:cuenca
			culture = culture:castilian
			adm = { 80 90 }
			dip = { 80 90 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_vasquez
		}
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:cuenca
	}

	option = {
		name = flavor_cas.56.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_research_progress = research_progress_mild_bonus
	}

	option = {
		name = flavor_cas.56.b
		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character
			}
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_left }
	}
}

flavor_cas.57 = { #Melchor Cano
	type = country_event
	title = flavor_cas.57.title
	desc = flavor_cas.57.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	
	historical_info = flavor_cas.57.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1570.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_melchior
			last_name = Cano
			birth_date = 1523.1.1
			birth_location = location:cuenca
			culture = culture:castilian
			adm = { 40 70 }
			dip = { 40 70 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_cano
		}
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:cuenca
	}

	option = {
		name = flavor_cas.57.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_left }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_cas.57.b
		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character
			}
		}
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_right }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}
}

flavor_cas.58 = { #Diego de Covarrubias
	type = country_event
	title = flavor_cas.58.title
	desc = flavor_cas.58.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	
	historical_info = flavor_cas.58.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1550.1.1
		to = 1560.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_diego
			last_name = de_Covarrubias
			birth_date = 1512.7.25
			birth_location = location:toledo
			culture = culture:castilian
			adm = { 40 70 }
			dip = { 40 70 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_covarrubias
		}
		#event_illustration_estate_background_effect = { background = estate_type:crown_estate }
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:toledo
	}

	option = {
		name = flavor_cas.58.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
		add_stability = stability_mild_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.58.b
		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character
			}
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
	}
}

flavor_cas.59 = { #Bartolome de Medina
	type = country_event
	title = flavor_cas.59.title
	desc = flavor_cas.59.desc
	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"
	
	historical_info = flavor_cas.59.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1570.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_bartholomew
			last_name = de_Medina
			birth_date = 1527.7.25
			birth_location = location:medina_de_rioseco
			culture = culture:castilian
			adm = { 40 70 }
			dip = { 40 70 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_de_medina
		}
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:toledo
	}

	option = {
		name = flavor_cas.59.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
		add_research_progress = research_progress_mild_bonus
	}

	option = {
		name = flavor_cas.59.b
		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character
			}
		}
		add_research_progress = research_progress_mild_penalty
	}
}

flavor_cas.60 = { #Congregatio de Auxiliis
	type = country_event
	title = flavor_cas.60.title
	desc = flavor_cas.60.desc
	image = "gfx/interface/illustrations/government/throne_rooms/papal_authority.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.60.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1580.1.1
		monthly_chance = 5
	}

	immediate = {
		character:cas_molina = {
			save_scope_as = target_character
		}
	}

	trigger = {
		religion = religion:catholic
		character:cas_molina ?= { 
			is_alive = yes
		}
	}

	option = {
		name = flavor_cas.60.a
		historical_option = yes
		add_religious_influence = religious_influence_severe_bonus
		add_research_progress = research_progress_severe_penalty
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_left }
		set_variable = cas_banez_event
	}

	option = {
		name = flavor_cas.60.b
		add_religious_influence = religious_influence_severe_penalty
		add_research_progress = research_progress_severe_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_right }
	}
}

flavor_cas.61 = { #Domingo Báñez
	type = country_event
	title = flavor_cas.61.title
	desc = flavor_cas.61.desc

	historical_info = flavor_cas.61.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1580.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_dominic
			last_name = Banez
			birth_date = 1528.2.29
			birth_location = location:valladolid
			culture = culture:castilian
			adm = { 40 70 }
			dip = { 40 70 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_banez
		}
	}

	trigger = {
		has_variable = cas_banez_event
		has_variable = cas_unlock_salamanca_events
		owns = location:valladolid
	}

	option = {
		name = flavor_cas.61.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_religious_influence = religious_influence_weak_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}

	after = {
		remove_variable = cas_banez_event
	}
}

flavor_cas.62 = { #Luis de León
	type = country_event
	title = flavor_cas.62.title
	desc = flavor_cas.62.desc

	historical_info = flavor_cas.62.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1580.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_louis
			last_name = De_Leon
			birth_date = 1527.1.1
			birth_location = location:belmonte
			culture = culture:castilian
			adm = { 40 70 }
			dip = { 40 70 }
			mil = { 20 40 }
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
			script = cas_de_leon
		}
	}

	trigger = {
		has_variable = cas_unlock_salamanca_events
		owns = location:belmonte
	}

	option = {
		name = flavor_cas.62.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_right }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}

	option = {
		name = flavor_cas.62.b
		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character
			}
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_left }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_cas.63 = { #Artillery Academy of Segovia
	type = country_event
	title = flavor_cas.63.title
	desc = flavor_cas.63.desc
	image = "gfx/interface/illustrations/institutions/artillery_institution.dds"

	fire_only_once = yes

	historical_info = flavor_cas.63.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1764.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:segovia
		has_advance = artillery_institution_advance
		has_embraced_institution = institution:artillery_institution
	}

	option = {
		name = flavor_cas.63.a
		historical_option = yes
		add_army_tradition = army_tradition_severe_bonus
		location:segovia = {
			construct_building = {
				building_type = building_type:segovia_artillery_academy
			}
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.63.b
		add_army_tradition = army_tradition_severe_penalty
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
	}
}

flavor_cas.64 = { #The Royal Botanical Expedition to New Granada
	type = country_event
	title = flavor_cas.64.title
	desc = flavor_cas.64.desc
	image = "gfx/interface/illustrations/institutions/new_world.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.64.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1783.1.1
		to = 1816.1.1
		monthly_chance = 1
	}

	trigger = {
		has_presence_in = region:colombia_region
	}

	option = {
		name = flavor_cas.64.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		add_research_progress = research_progress_severe_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.64.b
		add_research_progress = research_progress_severe_penalty
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
	}
}

flavor_cas.65 = { #The Regimiento
	type = country_event
	title = flavor_cas.65.title
	desc = flavor_cas.65.desc
	image = "gfx/interface/illustrations/units/army_cavalry.dds"

	fire_only_once = yes

	historical_info = flavor_cas.65.historical_info

	dynamic_historical_event = {
		tag = CAS
		from = 1340.1.1
		to = 1350.1.1
		monthly_chance = 1
	}

	trigger = {
		at_war = no
		has_ruler = yes
		has_estate_privilege = estate_privilege:cas_caballeros_villanos
	}

	immediate = {
		ruler = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_cas.65.a
		historical_option = yes
		revoke_estate_privilege = estate_privilege:cas_caballeros_villanos
		grant_estate_privilege = estate_privilege:cas_regimiento
		add_stability = stability_mild_penalty
	}

	option = {
		name = flavor_cas.65.b
		add_stability = stability_mild_bonus
	}
}

flavor_cas.66 = { #The Spanish Dollar
	hide_portraits = no
	type = country_event
	title = flavor_cas.66.title
	desc = flavor_cas.66.desc
	image = "gfx/interface/illustrations/institutions/banking.dds"

	fire_only_once = yes

	historical_info = flavor_cas.66.historical_info

	dynamic_historical_event = {
		tag = CAS
		from = 1450.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	trigger = {
		at_war = no
		has_ruler = yes
		ruler.adm >= 80
	}

	immediate = {
		ruler = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_cas.66.a
		historical_option = yes
		add_country_modifier = { modifier = cas_spanish_dollar years = 10 mode = add_and_extend }
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_tiny_move_to_left }
	}

	option = {
		name = flavor_cas.66.b
		add_inflation = inflation_mild_penalty
		add_stability = stability_mild_bonus
		add_country_modifier = { modifier = cas_spanish_dollar_not_adopted years = 10 mode = add_and_extend }
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_tiny_move_to_right }
	}
}

flavor_cas.67 = { #José Antonio Gaztañeta and the Rebirth of the Navy
	type = country_event
	title = flavor_cas.67.title
	desc = flavor_cas.67.desc
	image = "gfx/interface/illustrations/units/navy_heavy_ship_6.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.67.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1690.1.1
		to = 1710.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ports = yes
	}

	immediate = {
		create_character = {
			first_name = name_joseph.name_anthony
			last_name = Gaztaneta
			birth_date = 1656.8.11
			birth_location = location:san_sebastian
			estate = estate_type:peasants_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 60 90 }
			culture = culture:basque
			save_scope_as = target_character
			create_in_limbo = yes
		}
		random_port_in_country = {
			save_scope_as = target_location
		}
		set_variable = {
			name = total_gained_ships_variable
			value = {
				add = 3
				add = {
					value = {
						add = expected_navy_size
						multiply = 0.05
					}
				}
				add = {
					value = {
						add = navy_tradition
						multiply = 0.1
					}
				}
				add = {
					value = {
						add = num_of_non_rural_ports
						multiply = 0.1
					}
				}
				max = {
					value = expected_navy_size
					multiply = 0.1
				}
				ceiling = yes
			}
		}
	}

	option = {
		name = flavor_cas.67.a
		historical_option = yes
		change_gold_effect = { scale = -6
		}
		add_navy_tradition = navy_tradition_severe_bonus
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_large_move_to_right
		}
		custom_tooltip = {
			text = flavor_cas.67.a.tt
			while = {
				limit = {
					var:total_gained_ships_variable > 0
				}
				change_variable = {
					name = total_gained_ships_variable
					subtract = 1
				}
				scope:target_location = {
					create_sub_unit_of_category = sub_unit_category:navy_heavy_ship
				}
			}
		}
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = admiral
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add
			}
		}
	}

	option = {
		name = flavor_cas.67.b
		add_navy_tradition = navy_tradition_severe_penalty
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_large_move_to_left
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}

	after = {
		remove_variable = total_gained_ships_variable
	}
}

flavor_cas.68 = { #Naval Reforms of Jorge Juan y Santacilia
	type = country_event
	title = flavor_cas.68.title
	desc = flavor_cas.68.desc
	image = "gfx/interface/illustrations/units/navy_light_ship_6.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.68.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1745.1.1
		to = 1760.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ports = yes
	}

	immediate = {

		create_character = {
			first_name = name_george
			dynasty = dynasty:juan_y_santacilia_dynasty
			birth_date = 1713.1.5
			birth_location = location:elche
			estate = estate_type:nobles_estate
			adm = { 30 80 }
			dip = { 30 80 }
			mil = { 60 90 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.68.a
		historical_option = yes
		change_gold_effect = { scale = -4
		}
		add_navy_tradition = navy_tradition_mild_bonus
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_right
		}
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = admiral
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add
			}
		}
	}

	option = {
		name = flavor_cas.68.b
		add_navy_tradition = navy_tradition_mild_penalty
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_left
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.69 = { #Claudio Coello
	type = country_event
	title = flavor_cas.69.title
	desc = flavor_cas.69.desc
	image = "gfx/interface/illustrations/institutions/enlightenment.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.68.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1680.1.1
		to = 1693.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:el_escorial
		location:el_escorial = {
			has_building = building_type:el_escorial_palace
		}
	}

	immediate = {
		create_character = {
			first_name = name_claude
			last_name = Coello
			birth_date = 1642.3.2
			birth_location = location:madrid
			culture = culture:portuguese
			estate = estate_type:burghers_estate
			artist_skill = { 0.65 0.85 }
			artist = painter
			create_in_limbo = yes
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_cas.69.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		scope:target_character = {
			move_country = root
		}
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
		}
	}

	option = {
		name = flavor_cas.69.b
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.70 = { #Bartolomé Esteban Murillo
	type = country_event
	title = flavor_cas.70.title
	desc = flavor_cas.70.desc
	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	fire_only_once = yes

	historical_info = flavor_cas.70.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1660.1.1
		to = 1670.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:sevilla
	}

	immediate = {
		create_character = {
			first_name = name_bartholomew.name_stephen
			last_name = Murillo
			birth_date = 1617.12.25
			birth_location = location:sevilla
			estate = estate_type:burghers_estate
			artist_skill = { 0.65 0.85 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
			artist = painter
		}
	}

	option = {
		name = flavor_cas.70.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_move_to_left
		}
		scope:target_character = {
			move_country = root
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
	}

	option = {
		name = flavor_cas.70.b
		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_move_to_right
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.71 = { #Blas de Lezo y Olavarrieta
	type = country_event
	title = flavor_cas.71.title
	desc = flavor_cas.71.desc
	image = "gfx/interface/illustrations/units/navy_heavy_ship_5.dds" 
	
	fire_only_once = yes

	historical_info = flavor_cas.71.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1735.1.1
		to = 1741.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:san_sebastian
	}

	immediate = {
		create_character = {
			first_name = name_blaise
			last_name = de_Lezo_y_Olavarrieta
			birth_date = 1689.2.3
			birth_location = location:san_sebastian
			estate = estate_type:burghers_estate
			adm = 45
			dip = 30
			mil = 90
			culture = culture:basque
			save_scope_as = target_character
			script = spa_blas_de_lezo
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.71.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = admiral
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add
			}
		}
	}

	option = {
		name = flavor_cas.71.b
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			remove_character_modifier = refuses_to_serve_in_cabinet
		}
	}
}

flavor_cas.72 = { #The Ethics of Commerce
	type = country_event
	title = flavor_cas.72.title
	desc = flavor_cas.72.desc
	image = "gfx/interface/illustrations/situation/columbian_exchange.dds" 
	
	fire_only_once = yes

	historical_info = flavor_cas.72.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1575.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:sevilla
	}

	immediate = {
		create_character = {
			first_name = name_thomas
			last_name = de_Mercado
			birth_date = 1525.1.1
			birth_location = location:sevilla
			estate = estate_type:clergy_estate
			adm = { 60 80 }
			dip = { 60 80 }
			mil = { 20 40 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.72.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_societal_value = {
			type = mercantilism_vs_free_trade
			value = societal_value_move_to_right
		}
		change_societal_value = {
			type = serfdom_vs_free_subjects
			value = societal_value_move_to_right
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_severe_penalty
		}
	}

	option = {
		name = flavor_cas.72.b
		change_societal_value = {
			type = mercantilism_vs_free_trade
			value = societal_value_move_to_left
		}
		change_societal_value = {
			type = serfdom_vs_free_subjects
			value = societal_value_move_to_left
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_severe_penalty
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.73 = { #Leonardus Lessius
	type = country_event
	title = flavor_cas.73.title
	desc = flavor_cas.73.desc

	fire_only_once = yes
	historical_info = flavor_cas.73.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1580.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		create_character = {
			first_name = name_leonard
			last_name = Lessius
			birth_date = 1554.10.1
			birth_location = location:antwerp
			estate = estate_type:clergy_estate
			adm = { 50 70 }
			dip = { 50 70 }
			mil = { 20 30 }
			culture = culture:low_franconian
			save_scope_as = target_character
			create_in_limbo = yes
		}
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_cas.73.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_societal_value = {
			type = mercantilism_vs_free_trade
			value = societal_value_move_to_right
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_severe_penalty
		}
	}

	option = {
		name = flavor_cas.73.b
		change_societal_value = {
			type = mercantilism_vs_free_trade
			value = societal_value_move_to_left
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.74 = { #Alejandro Malaspina
	type = country_event
	title = flavor_cas.74.title
	desc = flavor_cas.74.desc

	fire_only_once = yes
	image = "gfx/interface/illustrations/institutions/enlightenment.dds"
	historical_info = flavor_cas.74.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1790.1.1
		to = 1810.1.1
		monthly_chance = 1
	}

	trigger = {
		has_presence_in = continent:america
		has_presence_in = continent:asia
		has_embraced_institution = institution:enlightenment
	}

	immediate = {

		create_character = {
			first_name = name_alexander
			dynasty = dynasty:malaspina_dynasty
			birth_date = 1754.11.5
			birth_location = location:massa
			estate = estate_type:nobles_estate
			adm = { 50 80 }
			dip = { 50 80 }
			mil = { 20 40 }
			culture = culture:tuscan
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.74.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = explorer
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add
			}
		}
		change_societal_value = {
			type = outward_vs_inward
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_cas.74.b
		add_prestige = prestige_mild_penalty
		change_societal_value = {
			type = outward_vs_inward
			value = societal_value_move_to_right
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.75 = { #Bernardo de Gálvez
	type = country_event
	title = flavor_cas.75.title
	desc = flavor_cas.75.desc

	fire_only_once = yes

	historical_info = flavor_cas.75.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1780.1.1
		to = 1786.1.1
		monthly_chance = 10
	}
	illustration_tags = {
 		10 = regular
 		10 = interior
	}
	
	trigger = {
		has_presence_in = continent:america
		any_rival = {
			has_presence_in = continent:america
		}
	}

	immediate = {
		create_character = {
			first_name = name_bernard
			dynasty = dynasty:de_galvez_dynasty
			birth_date = 1746.7.23
			birth_location = location:velez_malaga
			estate = estate_type:nobles_estate
			adm = { 50 70 }
			dip = { 50 70 }
			mil = { 70 90 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
		random_rival = {
			limit = {
				has_presence_in = continent:america
			}
			save_scope_as = target_rival
		}
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	option = {
		name = flavor_cas.75.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		scope:target_character = {
			move_country = root
		}
		add_army_tradition = army_tradition_mild_bonus
		scope:target_character = {
			add_random_trait_from_category = general
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add
			}
		}
		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_cas.75.b
		add_army_tradition = army_tradition_mild_penalty
		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_move_to_right
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.76 = { #The Heroism of Cosme Damián Churruca #GRAVEYARD
	type = country_event
	title = flavor_cas.76.title
	desc = flavor_cas.76.desc
	image = "gfx/interface/illustrations/situation/golden_age_of_piracy.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.76.historical_info

	trigger = {
		current_year > 1790
		current_year < 1805
		scope:lost_navy_units > 0
		scope:actor = {
			OR = {
				owner = { tag = CAS }
				owner = { tag = SPA }
			}
		}
	}

	immediate = {
		location:san_sebastian = { create_dynasty_from_location = Churruca }
		create_character = {
			first_name = name_cosmas.name_damian
			last_name = Churruca
			birth_date = 1761.9.27
			birth_location = location:san_sebastian
			estate = estate_type:nobles_estate
			adm = { 50 70 }
			dip = { 50 70 }
			mil = { 70 90 }
			culture = culture:basque
			save_scope_as = target_character
			create_in_limbo = yes
		}
		kill_character = {
			target = scope:target_character
			reason = self_defence
		}
		scope:actor.unit_location = { save_scope_as = target_location }
	}

	option = {
		name = flavor_cas.76.a
		historical_option = yes
		add_navy_tradition = navy_tradition_severe_bonus
		add_country_modifier = { modifier = spa_inspiring_heroism years = 10 mode = add }
	}
}

flavor_cas.77 = { #The Breakthrough of the Elhuyar Brothers
	type = country_event
	title = flavor_cas.77.title
	desc = flavor_cas.77.desc
	image = "gfx/interface/illustrations/institutions/enlightenment.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.77.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1780.1.1
		to = 1795.1.1
		monthly_chance = 1
	}

	trigger = {
		has_embraced_institution = institution:enlightenment
	}

	immediate = {
		create_character = {
			first_name = name_faustus
			last_name = de_elhuyar
			birth_date = 1755.11.11
			birth_location = location:logrono
			estate = estate_type:burghers_estate
			artist_skill = { 0.7 0.85 }
			artist = scientist
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
		create_character = {
			first_name = name_john.name_joseph
			last_name = de_elhuyar
			birth_date = 1754.6.15
			birth_location = location:logrono
			estate = estate_type:burghers_estate
			artist_skill = { 0.7 0.85 }
			artist = scientist
			culture = culture:castilian
			save_scope_as = target_character2
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.77.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		add_research_progress = research_progress_severe_bonus
		scope:target_character = {
			move_country = root
		}
		scope:target_character2 = {
			move_country = root
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_large_move_to_right
		}
	}

	option = {
		name = flavor_cas.77.b
		add_prestige = prestige_severe_penalty
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_large_move_to_left
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
			kill_character_silently = scope:target_character2
		}
	}
}

flavor_cas.78 = { #The Balmis Expedition
	type = country_event
	title = flavor_cas.78.title
	desc = flavor_cas.78.desc
	image = "gfx/interface/illustrations/institutions/enlightenment.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.78.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1800.1.1
		to = 1819.1.1
		monthly_chance = 1
	}

	trigger = {
		has_embraced_institution = institution:enlightenment
		has_presence_in = continent:america
		has_presence_in = continent:asia
	}

	immediate = {
		create_character = {
			first_name = name_francis.name_xavier
			last_name = de_balmis
			birth_date = 1755.11.11
			birth_location = location:alicante
			estate = estate_type:burghers_estate
			artist_skill = { 0.8 0.9 }
			artist = scientist
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.78.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		add_research_progress = research_progress_mild_bonus
		scope:target_character = {
			move_country = root
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
	}

	option = {
		name = flavor_cas.78.b
		change_gold_effect = { scale = -1 }
		add_research_progress = research_progress_weak_bonus
		scope:target_character = {
			move_country = root
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_minor_move_to_right
		}
	}

	option = {
		name = flavor_cas.78.c
		add_prestige = prestige_mild_penalty
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.79 = { #Industrial Reforms of Pedro Rodriguez
	type = country_event
	title = flavor_cas.79.title
	desc = flavor_cas.79.desc
	image = "gfx/interface/illustrations/institutions/industrialization.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.79.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1760.1.1
		to = 1780.1.1
		monthly_chance = 1
	}

	trigger = {
		has_embraced_institution = institution:enlightenment
		has_embraced_institution = institution:industrialization
	}

	immediate = {
		location:tineo = { create_dynasty_from_location = Rodriguez }
		create_character = {
			first_name = name_peter
			dynasty = dynasty:Rodriguez
			birth_date = 1723.7.1
			birth_location = location:tineo
			estate = estate_type:nobles_estate
			adm = { 50 80 }
			dip = { 50 80 }
			mil = { 20 40 }
			culture = culture:leonese
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.79.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		scope:target_character = {
			move_country = root
		}
		add_research_progress = research_progress_mild_bonus
		change_societal_value = {
			type = mercantilism_vs_free_trade
			value = societal_value_move_to_left
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
	}

	option = {
		name = flavor_cas.79.b
		change_societal_value = {
			type = mercantilism_vs_free_trade
			value = societal_value_move_to_right
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.80 = { #Gaspar Melchor de Jovellanos
	type = country_event
	title = flavor_cas.80.title
	desc = flavor_cas.80.desc
	image = "gfx/interface/illustrations/institutions/enlightenment.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.80.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1780.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	trigger = {
		has_embraced_institution = institution:enlightenment
	}

	immediate = {
		create_character = {
			first_name = name_casper.name_melchior
			last_name = de_Jovellanos
			birth_date = 1744.1.5
			birth_location = location:oviedo
			estate = estate_type:burghers_estate
			adm = { 75 90 }
			dip = { 75 90 }
			mil = { 20 40 }
			culture = culture:leonese
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.80.a
		historical_option = yes
		add_stability = stability_mild_bonus
		change_societal_value = {
			type = mercantilism_vs_free_trade
			value = societal_value_move_to_right
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}

	option = {
		name = flavor_cas.80.b
		add_stability = stability_mild_penalty
		scope:target_character = {
			move_country = root
		}
		change_societal_value = {
			type = mercantilism_vs_free_trade
			value = societal_value_move_to_left
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
	}
}

flavor_cas.81 = { #Alonso de Santa Cruz
	type = country_event
	title = flavor_cas.81.title
	desc = flavor_cas.81.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.81.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1540.1.1
		to = 1560.1.1
		monthly_chance = 1
	}

	trigger = {
		has_presence_in = continent:america
		has_reform = government_reform:casa_de_contratacion
	}

	immediate = {
		create_character = {
			first_name = name_alphonse
			last_name = de_santa_cruz
			birth_date = 1505.1.1
			birth_location = location:sevilla
			estate = estate_type:burghers_estate
			artist_skill = { 0.75 0.9 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes

			artist = scientist
		}
	}

	option = {
		name = flavor_cas.81.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_gold_effect = { scale = -4 }
		add_country_modifier = { modifier = spa_improved_cartography years = 20 mode = add }
		change_societal_value = {
			type = outward_vs_inward
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_cas.81.b
		change_societal_value = {
			type = outward_vs_inward
			value = societal_value_move_to_right
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.82 = { #Álvaro de Bazán
	type = country_event
	title = flavor_cas.82.title
	desc = flavor_cas.82.desc

	fire_only_once = yes

	historical_info = flavor_cas.82.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1570.1.1
		monthly_chance = 1
	}

	illustration_tags = {
 		10 = regular
 		10 = interior
	}

	trigger = {
		owns = location:granada
	}

	immediate = {
		create_character = {
			first_name = name_alvar
			birth_date = 1526.12.12
			birth_location = location:granada
			estate = estate_type:nobles_estate
			adm = { 50 85 }
			dip = { 50 85 }
			mil = 100
			religion = religion:catholic
			dynasty = dynasty:de_bazan_dynasty
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	option = {
		name = flavor_cas.82.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = admiral
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add
			}
		}
	}

	option = {
		name = flavor_cas.82.b
		add_navy_tradition = navy_tradition_severe_bonus
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_large_move_to_right
		}
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
		}
	}
}

flavor_cas.83 = { #Canonization of Fernando III	#GRAVEYARD
	type = country_event
	title = flavor_cas.83.title
	desc = flavor_cas.83.desc
	fire_only_once = yes

	historical_info = flavor_cas.83.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1650.1.1
		to = 1750.1.1
		monthly_chance = 1
	}

	illustration_tags = {
 		10 = regular
 		10 = interior
	}

	trigger = {
		religion = religion:catholic
		character:cas_fernando_iii_burgundy ?= { is_saint = no }
	}
	
	immediate = {
		character:cas_fernando_iii_burgundy ?= { save_scope_as = target_ruler }
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_cas.83.a
		historical_option = yes
		scope:target_ruler = {
			make_saint = root
		}
		add_religious_influence = religious_influence_severe_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.83.b
		add_prestige = prestige_severe_bonus
		add_religious_influence = religious_influence_severe_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
	}
}

flavor_cas.84 = { #Spain and the Imperial Crown
	type = country_event
	title = flavor_cas.84.title
	desc = flavor_cas.84.desc
	image = "gfx/interface/illustrations/international_organization_types/hre.dds"
		
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1343.1.1
		to = 1836.1.1
		monthly_chance = 100
	}

	fire_only_once = yes

	historical_info = flavor_cas.84.historical_info

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		exists = international_organization:hre
		is_leader_of_international_organization = international_organization:hre
		has_ruler = yes
	}

	option = {
		name = flavor_cas.84.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_bonus
		add_prestige = prestige_severe_bonus
	}
}

flavor_cas.85 = { #The Iberian Union
	type = country_event
	title = flavor_cas.85.title
	desc = flavor_cas.85.desc

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1343.1.1
		to = 1836.1.1
		monthly_chance = 10
	}

	fire_only_once = yes

	historical_info = flavor_cas.85.historical_info

	illustration_tags = {
 		10 = happy
 		10 = interior
	}

	trigger = {
		has_ruler = yes
		religion.group = religion_group:christian
		region:iberia_region = {
			any_location_in_region = {
				count = all
				OR = {
					is_ownable = no
					owner ?= {
						OR = {
							this = root
							AND = {
								religion.group = religion_group:christian
								any_overlord_or_above = { this = root }
							}
						}
					}
				}
			}
		}
	}

	immediate = {
		event_illustration_government_estate_effect = yes
	}

	option = {
		name = flavor_cas.85.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_bonus
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_large_move_to_right
		}
	}

	option = {
		name = flavor_cas.85.b
		add_prestige = prestige_severe_bonus
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_large_move_to_left
		}
	}
}

flavor_cas.86 = { #Bernardino de Sahagún's Mission
	type = country_event
	title = flavor_cas.86.title
	desc = flavor_cas.86.desc
	image = "gfx/interface/illustrations/situation/columbian_exchange.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.86.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1529.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	trigger = {
		has_presence_in = region:mesoamerica_region
		religion.group = religion_group:christian
	}

	immediate = {
		create_character = {
			first_name = name_bernard
			last_name = de_sahagun
			birth_date = 1499.1.1
			birth_location = location:sahagun
			estate = estate_type:clergy_estate
			artist_skill = { 0.65 0.85 }
			culture = culture:leonese
			save_scope_as = target_character
			create_in_limbo = yes
			script = cas_sahagun
			artist = writer
		}
	}

	option = {
		name = flavor_cas.86.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.86.b
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_right }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.87 = { #La Historia General de las Cosas de Nueva España
	type = country_event
	title = flavor_cas.87.title
	desc = flavor_cas.87.desc
	image = "gfx/interface/illustrations/institutions/renaissance.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.87.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1565.1.1
		to = 1590.1.1
		monthly_chance = 10
	}

	immediate = {
		character:cas_sahagun ?= { save_scope_as = target_character }
	}

	trigger = {
		character:cas_sahagun ?= { is_alive = yes }
		has_presence_in = region:mesoamerica_region
	}

	option = {
		name = flavor_cas.87.a
		historical_option = yes
		capital = {
			create_art = {
				quality = 80
				artist = scope:target_character
				type = work_of_art_type:chronicle
				key = florentine_codex
			}
		}
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_left }
		culture:nahua_culture = {
			change_cultural_view = {
				target = root.culture
				change = 1
			}
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
	}

	option = {
		name = flavor_cas.87.b
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_right }
		culture:nahua_culture = {
			change_cultural_view = {
				target = root.culture
				change = -1
			}
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_cas.88 = { #Andrés de Urdaneta
	type = country_event
	title = flavor_cas.88.title
	desc = flavor_cas.88.desc
	image = "gfx/interface/illustrations/institutions/new_world.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.88.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1550.1.1
		to = 1560.1.1
		monthly_chance = 1
	}

	trigger = {
		has_presence_in = region:indonesia_region
		has_presence_in = region:mesoamerica_region
		any_character = {
			is_explorer = yes
		}
	}

	immediate = {
		create_character = {
			first_name = name_andrew
			last_name = de_urdaneta
			adm = { 50 70 }
			dip = { 50 70 }
			mil = { 30 40 }
			birth_date = 1508.1.1
			birth_location = location:san_sebastian
			culture = culture:basque
			estate = estate_type:clergy_estate
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.88.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = explorer
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add
			}
		}
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.88.b
		add_prestige = prestige_mild_penalty
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_right }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.89 = { #Fernando de Herrera
	type = country_event
	title = flavor_cas.89.title
	desc = flavor_cas.89.desc

	fire_only_once = yes

	historical_info = flavor_cas.89.historical_info

	illustration_tags = {
		10 = happy
		10 = exterior
	}
	
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1580.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:sevilla
	}

	immediate = {
		create_character = {
			first_name = name_ferdinand
			last_name = de_Herrera
			birth_date = 1534.1.1
			birth_location = location:sevilla
			estate = estate_type:burghers_estate
			artist_skill = { 0.75 0.9 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
			artist = writer
			script = cas_fernando_de_herrera
		}
		event_illustration_government_estate_effect = yes
	}

	option = {
		name = flavor_cas.89.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		scope:target_character = {
			move_country = root
		}
		culture = {
			add_cultural_tradition = cultural_tradition_weak_bonus
			add_cultural_influence = cultural_influence_weak_bonus
		}
	}

	option = {
		name = flavor_cas.89.b
		culture = {
			add_cultural_tradition = cultural_tradition_weak_penalty
			add_cultural_influence = cultural_influence_weak_penalty
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.90 = { #Ortographical Reform of de Herrera
	type = country_event
	title = flavor_cas.90.title
	desc = flavor_cas.90.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.90.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1575.1.1
		to = 1590.1.1
		monthly_chance = 1
	}

	immediate = {
		character:cas_fernando_de_herrera ?= { save_scope_as = target_character }
	}

	trigger = {
		character:cas_fernando_de_herrera ?= { is_alive = yes }
	}

	option = {
		name = flavor_cas.90.a
		historical_option = yes
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_right }
	}

	option = {
		name = flavor_cas.90.b
		change_gold_effect = { scale = -8 }
		add_stability = stability_severe_penalty
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_large_move_to_right }
		culture = {
			add_cultural_tradition = cultural_tradition_severe_bonus
			add_cultural_influence = cultural_influence_severe_bonus
		}
	}

	option = {
		name = flavor_cas.90.c
		scope:target_character = { banish_character = yes }
		add_stability = stability_severe_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_large_move_to_left }
		culture = {
			add_cultural_tradition = cultural_tradition_severe_penalty
			add_cultural_influence = cultural_influence_severe_penalty
		}
	}
}

flavor_cas.91 = { #Francisco de Quevedo
	type = country_event
	title = flavor_cas.91.title
	desc = flavor_cas.91.desc
	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_books.dds" 
	
	fire_only_once = yes

	historical_info = flavor_cas.91.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:madrid
	}

	immediate = {

		create_character = {
			first_name = name_francis
			dynasty = dynasty:de_quevedo_dynasty
			birth_date = 1534.1.1
			birth_location = location:madrid
			estate = estate_type:nobles_estate
			artist_skill = { 0.65 0.8 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
			artist = writer
			script = spa_quevedo
		}
	}

	option = {
		name = flavor_cas.91.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_prestige = prestige_mild_bonus
		add_stability = stability_mild_penalty
	}

	option = {
		name = flavor_cas.91.b
		add_prestige = prestige_mild_penalty
		add_stability = stability_mild_bonus
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.92 = { #Pedro Calderón de la Barca
	type = country_event
	title = flavor_cas.92.title
	desc = flavor_cas.92.desc
	
	fire_only_once = yes

	historical_info = flavor_cas.92.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1645.1.1
		to = 1665.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:madrid
		capital = {
			has_building = building_type:theater
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_peter
			dynasty = dynasty:calderon_barca_dynasty
			birth_date = 1600.1.17
			birth_location = location:madrid
			estate = estate_type:nobles_estate
			artist_skill = { 0.9 1 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
			artist = composer
		}
	}

	option = {
		name = flavor_cas.92.a
		historical_option = yes
		change_gold_effect = { scale = -5 }
		scope:target_character = {
			move_country = root
			add_trait = trait:prominent
		}
		add_prestige = prestige_severe_bonus
	}

	option = {
		name = flavor_cas.92.b
		add_prestige = prestige_severe_penalty
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.93 = { #Lope de Vega
	type = country_event
	title = flavor_cas.93.title
	desc = flavor_cas.93.desc

	fire_only_once = yes

	historical_info = flavor_cas.93.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1595.1.1
		to = 1620.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:madrid
		capital = {
			has_building = building_type:theater
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		create_character = {
			first_name = name_lupus
			last_name = de_Vega
			birth_date = 1562.11.25
			birth_location = location:madrid
			estate = estate_type:burghers_estate
			artist_skill = { 0.8 0.95 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
			artist = composer
		}
	}

	option = {
		name = flavor_cas.93.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_cas.93.b
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_penalty }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_penalty }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.94 = { #A Clash of Culteranismo and Conceptismo
	type = country_event
	title = flavor_cas.94.title
	desc = flavor_cas.94.desc
	
	fire_only_once = yes

	historical_info = flavor_cas.94.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1585.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	trigger = {
		character:spa_quevedo ?= { is_alive = yes }
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		character:spa_quevedo ?= { save_scope_as = target_character2 }
		create_character = {
			first_name = name_louis
			last_name = de_Gongora
			birth_date = 1561.7.11
			birth_location = location:cordoba
			estate = estate_type:clergy_estate
			artist_skill = { 0.65 0.8 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
			artist = composer
		}
	}

	option = {
		name = flavor_cas.94.a
		historical_option = yes
		scope:target_character2 = { banish_character = yes }
		scope:target_character = {
			move_country = root
		}
		add_prestige = prestige_mild_penalty
		add_stability = stability_mild_bonus
	}

	option = {
		name = flavor_cas.94.b
		scope:target_character = { banish_character = yes }
		add_prestige = prestige_mild_bonus
		add_stability = stability_mild_penalty
	}
}

flavor_cas.95 = { #Juan de Mariana
	type = country_event
	title = flavor_cas.95.title
	desc = flavor_cas.95.desc

	fire_only_once = yes

	historical_info = flavor_cas.95.historical_info

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1580.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:talavera_de_la_reina
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_john
			last_name = de_mariana
			birth_date = 1536.4.2
			birth_location = location:talavera_de_la_reina
			estate = estate_type:clergy_estate
			artist_skill = { 0.6 0.8 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
			artist = writer
		}
	}

	option = {
		name = flavor_cas.95.a
		historical_option = yes
		scope:target_character = { banish_character = yes }
		add_legitimacy = legitimacy_severe_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_left }
	}

	option = {
		name = flavor_cas.95.b
		scope:target_character = {
			move_country = root
		}
		add_legitimacy = legitimacy_severe_penalty
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_large_move_to_right }
	}
}

flavor_cas.96 = { #Teresa of Ávila 
	type = country_event
	title = flavor_cas.96.title
	desc = flavor_cas.96.desc

	fire_only_once = yes

	historical_info = flavor_cas.96.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1550.1.1
		to = 1560.1.1
		monthly_chance = 1
	}
	illustration_tags = {
		10 = happy
		10 = interior
	}

	trigger = {
		religion = religion:catholic
	}
	
	immediate = { #GRAVEYARD
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_theresa
			last_name = de_avila
			birth_date = 1515.3.28
			birth_location = location:avila
			estate = estate_type:clergy_estate
			adm = { 40 60 }
			dip = { 70 90 }
			mil = { 10 20 }
			culture = culture:castilian
			female = yes
			save_scope_as = target_character
			create_in_limbo = yes
			script = spa_teresa_of_avila
		}
	}

	option = {
		name = flavor_cas.96.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_religious_influence = religious_influence_mild_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
		set_variable = spa_can_canonize_teresa
	}

	option = {
		name = flavor_cas.96.b
		add_religious_influence = religious_influence_mild_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.97 = { #Canonization of Teresa of Ávila 
	type = country_event
	title = flavor_cas.97.title
	desc = flavor_cas.97.desc

	fire_only_once = yes

	historical_info = flavor_cas.97.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1620.1.1
		to = 1700.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	trigger = {
		religion = religion:catholic
		character:spa_teresa_of_avila ?= {
			is_alive = no
			is_saint = no
		}
		has_variable = spa_can_canonize_teresa
	}


	immediate = { #GRAVEYARD
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		character:spa_teresa_of_avila ?= { save_scope_as = target_character }
	}

	option = {
		name = flavor_cas.97.a
		historical_option = yes
		scope:target_character = {
			make_saint = root
		}
		add_religious_influence = religious_influence_severe_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.97.b
		add_prestige = prestige_severe_bonus
		add_religious_influence = religious_influence_severe_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
	}

	after = {
		hidden_effect = {
			remove_variable = spa_can_canonize_teresa
		}
	}
}

flavor_cas.98 = { #Canonization of Ignatius de Loyola 
	type = country_event
	title = flavor_cas.98.title
	desc = flavor_cas.98.desc

	fire_only_once = yes

	historical_info = flavor_cas.98.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1620.1.1
		to = 1700.1.1
		monthly_chance = 1
	}
	illustration_tags = {
		10 = angry
		10 = interior
	}
	trigger = { #GRAVEYARD
		religion = religion:catholic
		character:spa_ignatius_of_loyola ?= {
			is_alive = no
			is_saint = no
		}
		has_variable = spa_can_canonize_ignatius
	}


	immediate = { #GRAVEYARD
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		character:spa_ignatius_of_loyola ?= { save_scope_as = target_character }
	}

	option = {
		name = flavor_cas.98.a
		historical_option = yes
		scope:target_character = {
			make_saint = root
		}
		add_religious_influence = religious_influence_severe_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.98.b
		add_prestige = prestige_severe_bonus
		add_religious_influence = religious_influence_severe_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
	}

	after = {
		hidden_effect = {
			remove_variable = spa_can_canonize_ignatius
		}
	}
}

flavor_cas.99 = { #Juan de Yepes y Álvarez 
	type = country_event
	title = flavor_cas.99.title
	desc = flavor_cas.99.desc
	image = "gfx/interface/illustrations/society/religion.dds" #GRAVEYARD

	fire_only_once = yes

	historical_info = flavor_cas.99.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1565.1.1
		to = 1590.1.1
		monthly_chance = 10
	}

	trigger = {
		religion = religion:catholic
		character:spa_teresa_of_avila ?= { is_alive = yes }
	}

	immediate = {  #GRAVEYARD
		character:spa_teresa_of_avila ?= { save_scope_as = target_character2 }
		create_character = {
			first_name = name_john
			last_name = de_yepes_y_alvarez
			birth_date = 1542.6.24
			birth_location = location:avila
			estate = estate_type:clergy_estate
			adm = { 40 60 }
			dip = { 70 90 }
			mil = { 10 20 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
			script = spa_john_of_the_cross
		}
	}

	option = {
		name = flavor_cas.99.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
		set_variable = spa_can_canonize_john
	}

	option = {
		name = flavor_cas.99.b
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.100 = { #Canonization of Juan de Yepes y Álvarez - Saint John of the Cross
	type = country_event
	title = flavor_cas.100.title
	desc = flavor_cas.100.desc

	fire_only_once = yes

	historical_info = flavor_cas.100.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1650.1.1
		to = 1750.1.1
		monthly_chance = 1
	}

	illustration_tags = {
 		10 = angry
 		10 = exterior
	}

	trigger = {
		religion = religion:catholic
		character:spa_john_of_the_cross ?= {
			is_alive = no
			is_saint = no
		}
		has_variable = spa_can_canonize_john
	}


	immediate = { #GRAVEYARD
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		character:spa_john_of_the_cross ?= { save_scope_as = target_character }
	}

	option = {
		name = flavor_cas.100.a
		historical_option = yes
		scope:target_character = {
			make_saint = root
		}
		add_religious_influence = religious_influence_severe_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.100.b
		add_prestige = prestige_severe_bonus
		add_religious_influence = religious_influence_severe_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
	}

	after = {
		hidden_effect = {
			remove_variable = spa_can_canonize_john
		}
	}
}

flavor_cas.101 = { #Royal Council of Castile
	fire_only_once = yes
	title = flavor_cas.101.title
	desc = flavor_cas.101.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 5
	}

	historical_info = flavor_cas.101.historical_info

	immediate = {
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_ruler = yes
		government_type = government_type:monarchy
	}

	option = {
		name = flavor_cas.101.a
		historical_option = yes
		unlock_government_reform_effect = { type = royal_council_of_castile }
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_large_move_to_left }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_penalty }
	}

	option = {
		name = flavor_cas.101.b
		add_stability = stability_mild_bonus
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_cas.102 = { #The Nueva Planta Decrees
	hide_portraits = yes
	fire_only_once = yes
	title = flavor_cas.102.title
	desc = flavor_cas.102.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	historical_info = flavor_cas.102.historical_info

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:nobles_estate }
		#event_illustration_estate_background_effect = { background = type:crown_estate }
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		government_type = government_type:monarchy
		has_ruler = yes
	}

	option = {
		name = flavor_cas.102.a
		historical_option = yes
		add_stability = stability_severe_penalty
		unlock_government_reform_effect = { type = nueva_planta }
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_large_move_to_left }
		change_societal_value = { type = absolutism_vs_liberalism value = societal_value_large_move_to_left }
		custom_tooltip = {
			text = flavor_cas.102.a.tt
			area:aragon_area = {
				every_location_in_area = {
					limit = {
						owner ?= root
					}
					add_location_modifier = { modifier = spa_implemented_nueva_planta years = 20 mode = add }
				}
			}
			area:catalonia_area = {
				every_location_in_area = {
					limit = {
						owner ?= root
					}
					add_location_modifier = { modifier = spa_implemented_nueva_planta years = 20 mode = add }
				}
			}
			area:valencia_area = {
				every_location_in_area = {
					limit = {
						owner ?= root
					}
					add_location_modifier = { modifier = spa_implemented_nueva_planta years = 20 mode = add }
				}
			}
		}
	}

	option = {
		name = flavor_cas.102.b
		add_stability = stability_mild_bonus
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
		change_societal_value = { type = absolutism_vs_liberalism value = societal_value_move_to_right }
	}
}

flavor_cas.103 = { #Francisco de Zurbarán
	type = country_event
	title = flavor_cas.103.title
	desc = flavor_cas.103.desc

	fire_only_once = yes
	
	illustration_tags = {
		10 = happy
		10 = interior
	}

	historical_info = flavor_cas.103.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1640.1.1
		to = 1664.1.1
		monthly_chance = 1
	}

	trigger = {
		religion = religion:catholic
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_francis
			last_name = Zurbaran_SPA
			birth_date = 1598.11.7
			birth_location = location:badajoz
			estate = estate_type:clergy_estate
			artist_skill = { 0.65 0.85 }
			artist = painter
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.103.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.103.b
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.104 = { #Jerónimo de Ayanz y Beaumont
	type = country_event
	title = flavor_cas.104.title
	desc = flavor_cas.104.desc
	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.104.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1590.1.1
		to = 1610.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:estella
	}

	immediate = {

		create_character = {
			first_name = name_hieronymus
			dynasty = dynasty:de_ayanz_y_beaumont_dynasty
			birth_date = 1553.1.1
			birth_location = location:estella
			estate = estate_type:nobles_estate
			adm = { 50 65 }
			dip = { 50 75 }
			mil = { 50 75 }
			culture = culture:basque
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.104.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		scope:target_character = {
			move_country = root
		}
		add_research_progress = research_progress_mild_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.104.b
		add_research_progress = research_progress_mild_penalty
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.105 = { #Smallpox Spreads in the New World
	type = country_event
	fire_only_once = yes
	title = flavor_cas.105.title
	desc = flavor_cas.105.desc
	image = "gfx/interface/illustrations/situation/great_pestilence.dds"

	historical_info = flavor_cas.105.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1450.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		region:mesoamerica_region = {
			any_location_in_region = {
				OR = {
					owner ?= root
					owner ?= { is_subject_of = root }
				}
				disease_presence = {
					disease = disease:smallpox
					value >= 0.1
				}
			}
		}
	}

	option = {
		name = flavor_cas.105.a
		historical_option = yes
		custom_tooltip = {
			text = flavor_cas.105.a.tt
			region:mesoamerica_region = {
				every_location_in_region = {
					limit = {
						OR = {
							owner ?= root
							owner ?= { is_subject_of = root }
						}
					}
					add_location_modifier = { modifier = spa_severe_smallpox_outbreak years = 20 mode = add }
				}
			}
		}
	}
	option = {
		name = flavor_cas.105.b
		change_gold_effect = { scale = -8 }
		custom_tooltip = {
			text = flavor_cas.105.b.tt
			region:mesoamerica_region = {
				every_location_in_region = {
					limit = {
						OR = {
							owner ?= root
							owner ?= { is_subject_of = root }
						}
					}
					add_location_modifier = { modifier = spa_mild_smallpox_outbreak years = 20 mode = add }
				}
			}
		}
	}

}

flavor_cas.106 = { #The Conquest of Tenochtitlan
	type = country_event
	title = flavor_cas.106.title
	desc = flavor_cas.106.desc

	fire_only_once = yes

	historical_info = flavor_cas.106.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1450.1.1
		to = 1836.1.1
		monthly_chance = 100
	}

	trigger = {
		OR = {
			owns = location:tenochtitlan
			location:tenochtitlan = {
				owner ?= {
					is_subject_of = root
				}
			}
		}
	}

	immediate = {
		location:tenochtitlan = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.106.a
		add_army_tradition = army_tradition_severe_bonus
		location:tenochtitlan = {
			change_prosperity = prosperity_severe_penalty
		}
		set_variable = spa_can_found_mexico_city
	}
}

flavor_cas.107 = { #The Conquest of Cusco
	type = country_event
	title = flavor_cas.107.title
	desc = flavor_cas.107.desc

	fire_only_once = yes

	historical_info = flavor_cas.107.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1450.1.1
		to = 1836.1.1
		monthly_chance = 100
	}

	trigger = {
		OR = {
			owns = location:qusqu
			location:qusqu = {
				owner ?= {
					is_subject_of = root
				}
			}
		}
	}

	immediate = {
		location:qusqu = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.107.a
		change_gold_effect = { scale = 4 }
		location:qusqu = {
			change_prosperity = prosperity_severe_penalty
		}
	}
}

flavor_cas.108 = { #The Founding of the Mexico City
	type = country_event
	title = flavor_cas.108.title
	desc = flavor_cas.108.desc

	fire_only_once = yes

	historical_info = flavor_cas.108.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1450.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		OR = {
			owns = location:tenochtitlan
			location:tenochtitlan = {
				owner ?= {
					is_subject_of = root
					religion.group = religion_group:christian
				}
			}
		}
		has_variable = spa_can_found_mexico_city
		religion.group = religion_group:christian
	}

	immediate = {
		location:tenochtitlan = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.108.a
		historical_option = yes
		change_gold_effect = { scale = -8 }
		location:tenochtitlan = {
			rename_location = mexico_city
			change_prosperity = prosperity_mild_bonus
			change_development = development_severe_bonus
			if = {
				limit = {
					NOT = { location_rank = location_rank:city }
				}
				change_location_rank = location_rank:city
			}
		}
		add_migration = {
			owner = this
			from = root.capital.province_definition
			to = scope:target_location.province_definition
			culture = root.culture
			amount = 0.05
			months = 100
		}
	}

	option = {
		name = flavor_cas.108.b
		add_prestige = prestige_mild_penalty
	}

	after = {
		hidden_effect = {
			remove_variable = spa_can_found_mexico_city
		}
	}
}

flavor_cas.109 = { #The Founding of Lima
	type = country_event
	title = flavor_cas.109.title
	desc = flavor_cas.109.desc

	fire_only_once = yes

	historical_info = flavor_cas.109.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1450.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		OR = {
			owns = location:rimaq
			location:rimaq = {
				owner ?= {
					is_subject_of = root
				}
			}
		}
		religion.group = religion_group:christian
	}

	immediate = {
		location:rimaq = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.109.a
		historical_option = yes
		change_gold_effect = { scale = -8 }
		location:rimaq = {
			rename_location = ciudad_de_los_reyes
			change_prosperity = prosperity_mild_bonus
			change_development = development_severe_bonus
			if = {
				limit = {
					NOT = { location_rank = location_rank:city }
				}
				change_location_rank = location_rank:city
			}
		}
		add_migration = {
			owner = this
			from = root.capital.province_definition
			to = scope:target_location.province_definition
			culture = root.culture
			amount = 0.05
			months = 100
		}
	}

	option = {
		name = flavor_cas.109.b
		add_prestige = prestige_mild_penalty
	}
}

flavor_cas.110 = { #The Potosí Silver
	type = country_event
	title = flavor_cas.110.title
	desc = flavor_cas.110.desc
	historical_info = flavor_cas.110.historical_info
	fire_only_once = yes
	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_silver.dds"

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1540.1.1
		to = 1600.3.14
		monthly_chance = 5
	}

	trigger = {
		region:andes_region = {
			any_location_in_region = {
				OR = {
					owner ?= root
					owner ?= { is_subject_of = root }
				}
				raw_material = goods:silver
			}
		}
	}

	option = {
		name = flavor_cas.110.a
		historical_option = yes
		set_variable = spa_diego_event
		change_gold_effect = { scale = -5
		}
		custom_tooltip = {
			text = flavor_cas.110.a.tt
			region:andes_region = {
				every_location_in_region = {
					limit = {
						OR = {
							owner ?= root
							owner ?= { is_subject_of = root }
						}
						raw_material = goods:silver
					}
					add_location_modifier = { modifier = spa_potosi_silver years = 20 mode = add }
				}
			}
		}
		change_societal_value = {
			type = capital_economy_vs_traditional_economy
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_cas.110.b
		custom_tooltip = {
			text = flavor_cas.110.b.tt
			region:andes_region = {
				every_location_in_region = {
					limit = {
						OR = {
							owner ?= root
							owner ?= { is_subject_of = root }
						}
						raw_material = goods:silver
					}
					change_prosperity = prosperity_severe_bonus
				}
			}
		}
	}
}

flavor_cas.111 = { #The Rise of Potosí
	type = country_event
	title = flavor_cas.111.title
	desc = flavor_cas.111.desc

	fire_only_once = yes

	historical_info = flavor_cas.111.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1580.1.1
		to = 1650.1.1
		monthly_chance = 1
	}

	trigger = {
		location:ccantumarcani = {
			raw_material = goods:silver
			owner ?= {
				OR = {
					this = root
					this = { is_subject_of = root }
				}
			}
		}
	}

	immediate = {
		location:ccantumarcani = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.111.a
		location:ccantumarcani = {
			change_development = development_severe_bonus
			change_max_raw_material_workers = 3
		}
		add_migration = {
			owner = this
			from = root.capital.province_definition
			to = scope:target_location.province_definition
			culture = root.culture
			amount = 0.05
			months = 100
		}
	}
}

flavor_cas.112 = { #Adopting the Mita System
	type = country_event
	title = flavor_cas.112.title
	desc = flavor_cas.112.desc

	fire_only_once = yes

	historical_info = flavor_cas.112.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1580.1.1
		to = 1650.1.1
		monthly_chance = 1
	}

	trigger = {
		region:andes_region = {
			any_location_in_region = {
				OR = {
					owner ?= root
					owner ?= {
						is_subject_of = root
					}
				}
				raw_material = goods:silver
			}
		}
	}

	illustration_tags = {
		10 = exterior
		10 = angry
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
	}

	option = {
		name = flavor_cas.112.a
		historical_option = yes
		add_stability = stability_severe_penalty
		unlock_estate_privilege_effect = { type = cas_mita_system }
		grant_estate_privilege = estate_privilege:cas_mita_system
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_severe_penalty }
	}

	option = {
		name = flavor_cas.112.b
		add_stability = stability_mild_bonus
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_cas.113 = { #The Forgotten Discoverer
	type = country_event
	title = flavor_cas.113.title
	desc = flavor_cas.113.desc
	image = "gfx/interface/illustrations/institutions/new_world.dds"
	fire_only_once = yes

	historical_info = flavor_cas.113.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1560.1.1
		to = 1580.1.1
		monthly_chance = 1
	}

	trigger = {
		has_variable = spa_diego_event
	}

	immediate = {
		create_character = {
			first_name = name_diego
			last_name = de_hualpa
			birth_date = 1525.1.1
			birth_location = location:charka
			estate = estate_type:peasants_estate
			adm = { 20 55 }
			dip = { 20 55 }
			mil = { 30 55 }
			culture = culture:charka_culture
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.113.a
		historical_option = yes
		add_prestige = prestige_mild_bonus
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_left }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}

	option = {
		name = flavor_cas.113.b
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_right }
	}

	after = {
		hidden_effect = {
			remove_variable = spa_diego_event
		}
	}
}

flavor_cas.114 = { #Royal Factories
	type = country_event
	title = flavor_cas.114.title
	desc = flavor_cas.114.desc

	fire_only_once = yes

	historical_info = flavor_cas.114.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1650.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	trigger = {
		has_embraced_institution = institution:manufactories
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_cas.114.a
		historical_option = yes
		unlock_government_reform_effect = { type = royal_factories_reform }
		add_reform = government_reform:royal_factories_reform
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.114.b
		unlock_estate_privilege_effect = { type = royal_factories_privilege }
		grant_estate_privilege = estate_privilege:royal_factories_privilege
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_move_to_left }
		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_severe_bonus
		}
	}

	option = {
		name = flavor_cas.114.c
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_move_to_right }
	}
}

flavor_cas.115 = { #The Arbitristas
	type = country_event
	title = flavor_cas.115.title
	desc = flavor_cas.115.desc

	fire_only_once = yes

	historical_info = flavor_cas.115.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1575.1.1
		to = 1700.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_cas.115.a
		historical_option = yes
		add_research_progress = research_progress_mild_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_large_move_to_right }
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_large_move_to_left }
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
	}

	option = {
		name = flavor_cas.115.b
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_move_to_right }
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

flavor_cas.116 = { #The Casticismo
	type = country_event
	title = flavor_cas.116.title
	desc = flavor_cas.116.desc

	fire_only_once = yes

	historical_info = flavor_cas.116.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1650.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	trigger = {
		has_embraced_institution = institution:enlightenment
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_cas.116.a
		historical_option = yes
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
		}
		add_research_progress = research_progress_mild_bonus
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_left }
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.116.b
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
		}
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_right }
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
	}
}

flavor_cas.117 = { #Library of the Monastery of San Lorenzo
	type = country_event
	title = flavor_cas.117.title
	desc = flavor_cas.117.desc

	fire_only_once = yes

	historical_info = flavor_cas.117.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1565.1.1
		to = 1700.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:el_escorial
		location:el_escorial = {
			has_building = building_type:el_escorial_palace
		}
		has_ruler = yes
	}

	immediate = {
		location:el_escorial = {
			save_scope_as = target_location
		}
		ruler ?= { save_scope_as = target_ruler }
	}

	option = {
		name = flavor_cas.117.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
		}
		location:el_escorial = {
			change_prosperity = prosperity_mild_bonus
			change_development = development_mild_bonus
		}
		location:el_escorial = {
			if = {
				limit = {
					NOT = {
						has_building = building_type:library
					}
				}
				construct_building = {
					building_type = building_type:library
				}
			}
			else = {
				owner = {
					add_research_progress = research_progress_mild_bonus
				}
			}
		}
	}

	option = {
		name = flavor_cas.117.b
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
		}
	}
}

flavor_cas.118 = { #Sevilla Bullfighting School
	type = country_event
	title = flavor_cas.118.title
	desc = flavor_cas.118.desc
	fire_only_once = yes

	historical_info = flavor_cas.118.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1800.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:sevilla
		location:sevilla = {
			NOT = { has_building = building_type:sevilla_bullfighting_school }
		}
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		location:sevilla = {
			save_scope_as = target_location
		}
	}
	
	option = {
		name = flavor_cas.118.a
		historical_option = yes
		location:sevilla = {
			construct_building = {
				building_type = building_type:sevilla_bullfighting_school
				cost_multiplier = 0.25
				cost_multiplier_reason = "burghers_expensive_sponsorship"
			}
		}
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
		}
		"estate(estate_type:burghers_estate)" = {
			estate_add_gold = {
				value = {
					add = root.monthly_income_total
					multiply = -4
				}
			}
		}
		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_severe_penalty
		}
	}

	option = {
		name = flavor_cas.118.b
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

flavor_cas.119 = { #Opposition to the Sevilla Bullfighting School
	type = country_event
	title = flavor_cas.119.title
	desc = flavor_cas.119.desc
	fire_only_once = yes

	historical_info = flavor_cas.119.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1800.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		location:sevilla = {
			owner ?= root
			has_building = building_type:sevilla_bullfighting_school
		}
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_cas.119.a
		historical_option = yes
		location:sevilla = {
			destroy_building = "building(building_type:sevilla_bullfighting_school|owner)"
		}
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}
	}

	option = {
		name = flavor_cas.119.b
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_severe_penalty
		}
	}
}

flavor_cas.120 = { #The Chronicler of the Andes
	type = country_event
	title = flavor_cas.120.title
	desc = flavor_cas.120.desc
	
	fire_only_once = yes

	historical_info = flavor_cas.120.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1540.1.1
		to = 1554.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	trigger = {
		has_presence_in = region:andes_region
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = {
			first_name = name_peter
			last_name = cieza_de_leon
			adm = { 50 70 }
			dip = { 50 70 }
			mil = { 50 70 }
			birth_date = 1518.1.1
			birth_location = location:badajoz
			culture = culture:castilian
			estate = estate_type:peasants_estate
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.120.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
		capital = {
			create_art = {
				artist = scope:target_character
				quality = {
					value = 65
				}
				type = work_of_art_type:chronicle
				key = chronicle_of_peru
			}
		}
	}

	option = {
		name = flavor_cas.120.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.121 = { #Elegies of Illustrious Men of the Indies
	type = country_event
	title = flavor_cas.121.title
	desc = flavor_cas.121.desc
	image = "gfx/interface/illustrations/institutions/new_world.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.121.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1565.1.1
		to = 1580.1.1
		monthly_chance = 1
	}

	trigger = {
		has_presence_in = continent:america
	}

	immediate = {
		create_character = {
			first_name = name_john
			last_name = de_Castellanos
			adm = { 40 70 }
			dip = { 40 70 }
			mil = { 60 70 }
			birth_date = 1522.3.9
			birth_location = location:sevilla
			culture = culture:castilian
			estate = estate_type:clergy_estate
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.121.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
		capital = {
			create_art = {
				artist = scope:target_character
				quality = {
					value = 70
				}
				type = work_of_art_type:chronicle
				key = elegies_of_illustrious_men
			}
		}
	}

	option = {
		name = flavor_cas.121.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.122 = { #The Royal Tobacco Factory
	type = country_event
	title = flavor_cas.122.title
	desc = flavor_cas.122.desc

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_tobacco.dds"

	fire_only_once = yes

	historical_info = flavor_cas.122.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1565.1.1
		to = 1580.1.1
		monthly_chance = 1
	}

	trigger = {
		OR = {
			any_subject = {
				is_subject_type = colonial_nation
				produced_in_country:tobacco > 0
			}
			produced_in_country:tobacco > 0
		}
		owns = location:sevilla
	}

	option = {
		name = flavor_cas.122.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		location:sevilla = {
			change_development = development_severe_bonus
		}
		add_country_modifier = {
			modifier = spa_royal_tobacco_factory
			years = 20
			mode = add
		}
		custom_tooltip = {
			text = flavor_cas.122.a.tt
			every_subject = {
				limit = {
					is_subject_type = colonial_nation
					produced_in_country:tobacco > 0
				}
				add_country_modifier = {
					modifier = spa_royal_tobacco_factory
					years = 20
					mode = add
				}
			}
		}
		change_societal_value = { type = mercantilism_vs_free_trade value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.122.b
		change_societal_value = { type = mercantilism_vs_free_trade value = societal_value_move_to_right }
	}
}

flavor_cas.125 = { #Pirates of the Caribbean
	type = country_event
	title = flavor_cas.125.title
	desc = flavor_cas.125.desc
	image = "gfx/interface/illustrations/situation/golden_age_of_piracy.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.125.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1550.1.1
		to = 1836.1.1
		monthly_chance = 5
	}
		
	immediate = {
		region:caribbean_region = {
			random_location_in_region = {
				limit = {
					owner ?= {
						has_reform = government_reform:pirate_brethren_reform
					}
				}
				owner = {
					save_scope_as = pirate_country
				}
			}
		}
		region:caribbean_region = {
			random_location_in_region = {
				limit = {
					OR = {
						owner ?= root
						owner ?= {
							is_subject_of = root
						}
					}
				}
				save_scope_as = target_location
			}
		}
	}

	trigger = {
		has_presence_in = region:caribbean_region
		region:caribbean_region = {
			any_location_in_region = {
				owner ?= {
					has_reform = government_reform:pirate_brethren_reform
				}
			}
		}
		region:caribbean_region = {
			any_location_in_region = {
				count > 1
				OR = {
					owner ?= root
					owner ?= {
						is_subject_of = root
					}
				}
			}
		}
	}

	option = {
		name = flavor_cas.125.a
		historical_option = yes
		if = {
			limit = {
				scope:target_location = {
					NOR = {
						has_building = building_type:castle
						has_building = building_type:bastion
					}
				}
			}
			scope:target_location = {
				construct_building = {
					building_type = building_type:castle
				}
			}
		}
		else_if = {
			limit = {
				scope:target_location = {
					has_building_with_at_least_one_level = castle
				}
			}
			scope:target_location = {
				destroy_building = "building(building_type:castle|owner)"
				construct_building = {
					building_type = building_type:bastion
				}
			}
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_cas.125.b
		add_navy_tradition = navy_tradition_mild_penalty
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_penalty }
	}
}

flavor_cas.126 = { #A Cuisine Reborn
	type = country_event
	title = flavor_cas.126.title
	desc = flavor_cas.126.desc
	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_potato.dds"

	fire_only_once = yes

	historical_info = flavor_cas.126.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		OR = {
			produced_in_country:potato > 1
			any_subject = {
				is_subject_type = colonial_nation
				produced_in_country:potato > 1
			}
		}
		OR = {
			produced_in_country:rice > 1
			any_subject = {
				is_subject_type = colonial_nation
				produced_in_country:rice > 1
			}
		}
		OR = {
			produced_in_country:maize > 1
			any_subject = {
				is_subject_type = colonial_nation
				produced_in_country:maize > 1
			}
		}
	}

	option = {
		name = flavor_cas.126.a
		historical_option = yes
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
		}
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_left }
	}
}

flavor_cas.127 = { #Josefa Amar y Borbón
	type = country_event
	title = flavor_cas.127.title
	desc = flavor_cas.127.desc
	image = "gfx/interface/illustrations/institutions/enlightenment.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.127.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1780.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:zaragoza
		has_embraced_institution = institution:enlightenment
	}

	immediate = {
		create_character = {
			first_name = name_josephine
			last_name = amar_y_borbon
			birth_date = 1749.2.4
			birth_location = location:zaragoza
			estate = estate_type:burghers_estate
			female = yes
			artist_skill = { 0.65 0.8 }
			artist = writer
			culture = culture:aragonese
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.127.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.127.b
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.128 = { #María de Zayas y Sotomayor
	type = country_event
	title = flavor_cas.128.title
	desc = flavor_cas.128.desc
	image = "gfx/interface/illustrations/institutions/printing_press.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.128.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1625.1.1
		to = 1645.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:madrid
	}

	immediate = {
		create_character = {
			first_name = name_mary
			last_name = de_zayas_y_sotomayor
			birth_date = 1590.9.12
			birth_location = location:madrid
			estate = estate_type:burghers_estate
			female = yes
			artist_skill = { 0.65 0.8 }
			artist = writer
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.128.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_research_progress = research_progress_mild_bonus
		add_stability = stability_mild_penalty
	}

	option = {
		name = flavor_cas.128.b
		add_research_progress = research_progress_mild_penalty
		add_stability = stability_mild_bonus
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.129 = { #Francisca de Pedraza
	type = country_event
	title = flavor_cas.129.title
	desc = flavor_cas.129.desc
	fire_only_once = yes

	historical_info = flavor_cas.129.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1620.1.1
		to = 1640.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = 	location:alcala_de_henares
		location:alcala_de_henares = {
			has_building = building_type:university
		}
	}

	immediate = {
		create_character = {
			first_name = name_frances
			last_name = de_pedraza
			min_age = 25
			birth_location = location:madrid
			estate = estate_type:peasants_estate
			female = yes
			adm = { 20 45 }
			dip = { 20 45 }
			mil = { 20 40 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
		location:alcala_de_henares = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.129.a
		historical_option = yes
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}

	option = {
		name = flavor_cas.129.b
		scope:target_character = {
			move_country = root
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_severe_penalty
		}
	}
}

flavor_cas.130 = { #Luisa de Medrano
	type = country_event
	title = flavor_cas.130.title
	desc = flavor_cas.130.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.130.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1510.1.1
		to = 1527.1.1
		monthly_chance = 1
	}

	trigger = {
		location:salamanca = {
			has_building = building_type:university
		}
		owns = location:salamanca
	}

	immediate = { 

		create_character = {
			first_name = name_louise
			dynasty = dynasty:medrano_dynasty
			birth_date = 1484.8.9
			birth_location = location:guadalajara
			estate = estate_type:nobles_estate
			female = yes
			artist_skill = { 0.65 0.8 }
			artist = scientist
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_cas.130.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_research_progress = research_progress_mild_bonus
		add_stability = stability_mild_penalty
	}

	option = {
		name = flavor_cas.130.b
		add_research_progress = research_progress_mild_penalty
		add_stability = stability_mild_bonus
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.131 = { #The Catastro of Ensenada
	type = country_event
	title = flavor_cas.131.title
	desc = flavor_cas.131.desc
	image = "gfx/interface/illustrations/institutions/banking.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.131.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1750.1.1
		to = 1790.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {

		create_character = {
			first_name = name_zenon
			dynasty = dynasty:de_somodevilla_y_bengoechea_dynasty
			birth_date = 1702.4.20
			birth_location = location:logrono
			estate = estate_type:nobles_estate
			adm = { 70 85 }
			dip = { 50 85 }
			mil = { 20 40 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_cas.131.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_country_modifier = {
			modifier = spa_castrato_of_ensenada
			years = 10
			mode = add
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_severe_penalty
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
	}

	option = {
		name = flavor_cas.131.b
		add_legitimacy = legitimacy_severe_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.132 = { # The Rise of the Alhóndigas
	type = country_event
	title = flavor_cas.132.title
	desc = flavor_cas.132.desc

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_wheat.dds"

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1550.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		region:iberia_region = {
			any_location_in_region = {
				count >= 5
				owner ?= root
				has_building = building_type:granary
				raw_material = goods:wheat
			}
		}
	}

	option = {
		name = flavor_cas.132.a
		historical_option = yes
		change_gold_effect = { scale = -5 }
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_mild_bonus
		}
		custom_tooltip = {
			text = flavor_cas.132.a.tt
			region:iberia_region = {
				every_location_in_region = {
					limit = {
						owner ?= root
						raw_material = goods:wheat
					}
					change_prosperity = prosperity_severe_bonus
					add_location_modifier = {
						modifier = spa_efficient_market_system
						years = 10
						mode = add
					}
				}
			}
		}
	}

	option = {
		name = flavor_cas.132.b
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_severe_penalty
		}
	}
}

flavor_cas.133 = { # The Esquilache Riots
	type = country_event
	title = flavor_cas.133.title
	desc = flavor_cas.133.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1766.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_cas.133.a
		historical_option = yes
		change_societal_value = {
			type = outward_vs_inward
			value = societal_value_move_to_left
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_severe_penalty
		}
	}

	option = {
		name = flavor_cas.133.b
		change_societal_value = {
			type = outward_vs_inward
			value = societal_value_move_to_right
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

flavor_cas.134 = { # Siglo de Oro
	type = country_event
	title = flavor_cas.134.title
	desc = flavor_cas.134.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1500.1.1
		to = 1836.1.1
		monthly_chance = 10
	}

	trigger = {
		has_advance = spa_siglo_de_oro
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_cas.134.a
		historical_option = yes
		add_research_progress = research_progress_mild_bonus
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
	}
}

flavor_cas.135 = { # The Trial of the Alumbrados
	type = country_event
	title = flavor_cas.135.title
	desc = flavor_cas.135.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	trigger = {
		has_policy = spa_inquisition_policy
	}

	option = {
		name = flavor_cas.135.a
		historical_option = yes
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_move_to_left
		}
		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_cas.135.b
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_move_to_right
		}
		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_move_to_right
		}
	}
}

flavor_cas.136 = { # The Great Fire of Valladolid #DEVASTATION
	type = country_event
	title = flavor_cas.136.title
	desc = flavor_cas.136.desc
	
	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1550.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	immediate = {
		location:valladolid = {
			save_scope_as = target_location
		}
	}

	trigger = {
		location:valladolid = {
			owner ?= root
			is_capital = no
		}
	}

	option = {
		name = flavor_cas.136.a
		historical_option = yes
		change_gold_effect = { scale = -10 }
		location:valladolid = {
			change_development = development_extreme_bonus
			change_prosperity = prosperity_extreme_bonus
		}
	}

	option = {
		name = flavor_cas.136.b
		change_gold_effect = { scale = -3 }
		location:valladolid = {
			change_development = development_mild_penalty
			change_prosperity = prosperity_mild_penalty
			ordered_buildings_in_location = {
				limit = { owner = root }
				order_by = building_level
				max = {
					value = 1

					add = {
						value = num_buildings
						divide = 6
					}
				}

				location = { minor_destroy_building_levels_in_location = yes }
			}
		}
	}

	option = {
		name = flavor_cas.136.c
		location:valladolid = {
			change_development = development_extreme_penalty
			change_prosperity = prosperity_extreme_penalty
			ordered_buildings_in_location = {
				limit = { owner = root }
				order_by = building_level
				max = {
					value = 3

					add = {
						value = num_buildings
						divide = 6
					}
				}

				location = { major_destroy_building_levels_in_location = yes }
			}
		}
	}
}

flavor_cas.137 = { #Royal Audience and Chancery of Valladolid
	type = country_event
	title = flavor_cas.137.title
	desc = flavor_cas.137.desc
	fire_only_once = yes

	historical_info = flavor_cas.137.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1370.1.1
		to = 1400.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:valladolid
		location:valladolid = {
			NOT = {
				has_building = building_type:royal_audience_and_chancery
			}
		}
		government_type = government_type:monarchy
	}

	immediate = {
		location:valladolid = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.137.a
		historical_option = yes
		add_government_power = government_power_mild_bonus
		add_stability = stability_mild_bonus
		location:valladolid = {
			change_prosperity = prosperity_severe_bonus
			construct_building = {
				building_type = building_type:royal_audience_and_chancery
			}
		}
	}

	option = {
		name = flavor_cas.137.b
		add_government_power = government_power_mild_penalty
		add_stability = stability_mild_penalty
	}
}

flavor_cas.138 = { #Royal Audience and Chancery of Ciudad Real
	type = country_event
	title = flavor_cas.138.title
	desc = flavor_cas.138.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"
	
	fire_only_once = yes

	historical_info = flavor_cas.138.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1494.1.1
		to = 1520.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:valladolid
		location:valladolid = {
			has_building = building_type:royal_audience_and_chancery
		}
		owns = location:ciudad_real
		location:ciudad_real = {
			NOT = {
				has_building = building_type:royal_audience_and_chancery
			}
		}
		government_type = government_type:monarchy
	}

	immediate = {
		location:ciudad_real = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.138.a
		historical_option = yes
		add_government_power = government_power_mild_bonus
		add_stability = stability_mild_bonus
		location:ciudad_real = {
			if = {
				limit = {
					location_rank = location_rank:rural_settlement
				}
				change_location_rank = location_rank:town
			}
			else_if = {
				limit = {
					location_rank = location_rank:town
				}
				change_location_rank = location_rank:city
			}
			else = {
				change_development = development_mild_bonus
			}
			construct_building = {
				building_type = building_type:royal_audience_and_chancery
			}
		}
	}

	option = {
		name = flavor_cas.138.b
		add_government_power = government_power_mild_penalty
		add_stability = stability_mild_penalty
	}
}

flavor_cas.139 = { #Juan de Mena
	type = country_event
	title = flavor_cas.139.title
	desc = flavor_cas.139.desc

	fire_only_once = yes

	historical_info = flavor_cas.139.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1440.1.1
		to = 1456.1.1
		monthly_chance = 1
	}

	trigger = {
		government_type = government_type:monarchy
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		create_character = {
			first_name = name_john
			last_name = de_mena
			artist_skill = { 0.7 0.85 }
			artist = writer
			birth_date = 1411.1.1
			birth_location = location:cordoba
			culture = culture:castilian
			estate = estate_type:burghers_estate
			save_scope_as = target_character
			create_in_limbo = yes
		}
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_cas.139.a
		historical_option = yes
		add_legitimacy = legitimacy_mild_bonus
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
		capital = {
			create_art = {
				artist = scope:target_character
				quality = {
					value = 70
				}
				type = work_of_art_type:poem
				key = laberinto_de_fortuna
			}
		}
	}

	option = {
		name = flavor_cas.139.b
		add_legitimacy = legitimacy_mild_penalty
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.140 = { #Jorge Manrique #GRAVEYARD
	type = country_event
	title = flavor_cas.140.title
	desc = flavor_cas.140.desc

	fire_only_once = yes

	historical_info = flavor_cas.140.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1470.1.1
		to = 1479.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		create_character = {
			first_name = name_george
			last_name = Manrique
			artist_skill = { 0.7 0.85 }
			artist = writer
			birth_date = 1440.1.1
			birth_location = location:palencia
			culture = culture:castilian
			estate = estate_type:burghers_estate
			save_scope_as = target_character
			create_in_limbo = yes
		}
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	option = {
		name = flavor_cas.140.a
		historical_option = yes
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
		capital = {
			create_art = {
				artist = scope:target_character
				quality = {
					value = 75
				}
				type = work_of_art_type:poem
				key = coplas_por_la_muerte_de_su_padre
			}
		}
	}

	option = {
		name = flavor_cas.140.b
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_left }
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

flavor_cas.141 = { #Royal Cathedral of Toledo
	hide_portraits = yes
	type = country_event
	title = flavor_cas.141.title
	desc = flavor_cas.141.desc

	fire_only_once = yes

	historical_info = flavor_cas.141.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1475.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	trigger = {
		government_type = government_type:monarchy
		owns = location:toledo
		has_ruler = yes
		ruler = { has_dynasty = yes }
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
		ruler.dynasty = {
			save_scope_as = target_dynasty
		}
		location:toledo = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_cas.141.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_bonus
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_severe_bonus
		}
		change_gold_effect = { scale = -6 }
		location:toledo = {
			create_art = {
				quality = {
					value = 85
				}
				type = work_of_art_type:monument
				key = capilla_de_los_reyes_nuevos
			}
		}
	}

	option = {
		name = flavor_cas.141.b
		add_legitimacy = legitimacy_severe_penalty
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_severe_penalty
		}
	}
}

flavor_cas.1000 = { #Tomás de Torquemada and the Spanish Inquisition
	fire_only_once = yes
	title = flavor_cas.1000.title
	desc = flavor_cas.1000.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1450.1.1
		to = 1485.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_thomas
			last_name = Torquemada
			religion = religion:catholic
			estate = estate_type:clergy_estate
			birth_date = 1420.10.14
			female = no
			birth_location = location:valladolid
			adm = 66
			dip = 47
			mil = 84
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			save_scope_as = inquisitor_torquemada
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_ruler = yes
		religion = religion:catholic
		government_type = government_type:monarchy
		has_advance = inquisition_advance
	}

	option = {
		name = flavor_cas.1000.a
		historical_option = yes

		set_variable = spa_holy_inquisition
		scope:inquisitor_torquemada = { move_country = root }
		unlock_policy_effect = { type = spa_inquisition_policy }
		add_policy = policy:spa_inquisition_policy
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_cas.1000.b
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
		set_variable = spa_holy_inquisition_declined
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_extreme_penalty }
		
		scope:inquisitor_torquemada = { banish_character = yes }
	}
}

flavor_cas.1001 = { #Alhambra Decree
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1001.title
	desc = flavor_cas.1001.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1440.1.1
		to = 1520.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		if = {
			limit = {
				location:constantinople = {
					owner = {
						religion = religion:sunni
					}
				}
			}
			location:constantinople = {
				save_scope_as = escape_target1
			}
		}
		else = {
			region:maghreb_region = {
				random_location_in_region = {
					limit = {
						has_owner = yes
						owner != root
						dominant_religion ?= religion:sunni
						is_coastal = yes
						is_discovered_by = root
					}
					save_scope_as = escape_target1
				}
			}
		}
		if = {
			limit = {
				location:thessaloniki = {
					owner = {
						religion = religion:sunni
					}
				}
			}
			location:thessaloniki = {
				save_scope_as = escape_target2
			}
		}
		else = {
			region:maghreb_region = {
				random_location_in_region = {
					limit = {
						has_owner = yes
						owner != root
						dominant_religion ?= religion:sunni
						is_coastal = yes
						is_discovered_by = root
					}
					save_scope_as = escape_target2
				}
			}
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target3
			}
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target4
			}
		}
		if = {
			limit = {
				location:smyrna = {
					owner = {
						religion = religion:sunni
					}
				}
			}
			location:smyrna = {
				save_scope_as = escape_target5
			}
		}
		else = {
			region:maghreb_region = {
				random_location_in_region = {
					limit = {
						has_owner = yes
						owner != root
						dominant_religion ?= religion:sunni
						is_coastal = yes
						is_discovered_by = root
					}
					save_scope_as = escape_target5
				}
			}
		}
	}

	trigger = {
		has_ruler = yes
		religion = religion:catholic
		has_variable = spa_holy_inquisition
		own_entire_area = area:granada_area
		own_entire_area = area:andalusia_area
	}

	option = {
		name = flavor_cas.1001.a
		historical_option = yes

		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		culture:sephardi = {
			change_cultural_view = {
				target = root.culture
				change = -1
			}
		}
		custom_tooltip = flavor_cas.1001.tt1
		hidden_effect = {
			every_owned_location = {
				every_pop = {
					limit = {
						religion = religion:judaism
					}
					split_pop = {
						fraction = 0.1
						religion = religion:catholic
					}
				}
			}
			every_province = {
				limit = {
					culture_percentage = {
						culture = culture:sephardi
						value > 0
					}
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target1.province_definition
					culture = culture:sephardi
					amount = 0.400
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target2.province_definition
					culture = culture:sephardi
					amount = 0.400
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target3.province_definition
					culture = culture:sephardi
					amount = 0.400
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target4.province_definition
					culture = culture:sephardi
					amount = 0.400
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target5.province_definition
					culture = culture:sephardi
					amount = 0.400
					months = 60
				}
			}
		}
	}

	option = {
		name = flavor_cas.1001.b

		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
		add_stability = stability_severe_penalty
		custom_tooltip = flavor_cas.1001.tt2
		hidden_effect = {
			every_owned_location = {
				every_pop = {
					limit = {
						owner = root
						culture = culture:sephardi
					}
					add_pop_satisfaction = pop_satisfaction_severe_bonus
				}
			}
		}
	}
}

flavor_cas.1002 = { #Conversion of the Moriscos
	hide_portraits = yes
	fire_only_once = yes
	title = flavor_cas.1002.title
	desc = flavor_cas.1002.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1440.1.1
		to = 1540.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_peasants_foreign_religion_pop_type_effect = yes

		ruler = {
			save_scope_as = target_character
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target1
			}
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target2
			}
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target3
			}
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target4
			}
		}
	}

	trigger = {
		has_ruler = yes
		religion = religion:catholic
		has_variable = spa_holy_inquisition
		own_entire_area = area:granada_area
		own_entire_area = area:andalusia_area
	}

	option = {
		name = flavor_cas.1002.a
		historical_option = yes

		custom_tooltip = flavor_cas.1002.tt1
		hidden_effect = {
			every_owned_location = {
				every_pop = {
					limit = {
						owner = root
						religion = religion:sunni
					}
					split_pop = {
						fraction = 0.75
						religion = religion:catholic
					}
				}
			}
			every_province = {
				limit = {
					religion_percentage = {
						religion = religion:sunni
						value > 0
					}
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target1.province_definition
					religion = religion:sunni
					amount = 0.200
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target2.province_definition
					religion = religion:sunni
					amount = 0.200
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target3.province_definition
					religion = religion:sunni
					amount = 0.200
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target4.province_definition
					religion = religion:sunni
					amount = 0.200
					months = 60
				}
			}
		}
		set_variable = converted_moriscos
		trigger_event_silently = {
			id = flavor_cas.1003
			years = { 2 10 }
		}
	}

	option = {
		name = flavor_cas.1002.b

		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
		add_stability = stability_severe_penalty
	}
}

flavor_cas.1003 = { #First Rebellion of the Alpujarras
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1003.title
	desc = flavor_cas.1003.desc

	fire_only_once = yes

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_peasants_foreign_religion_pop_type_effect = yes
		create_rebel = {
			category = nationalist
			name = alpujarras_rebels
			save_scope_as = alpujarras_rebels
			culture = culture:andalusi
		}
	}

	trigger = {
		religion = religion:catholic
		own_entire_area = area:granada_area
		own_entire_area = area:andalusia_area
	}

	option = {
		name = flavor_cas.1003.a

		add_stability = stability_extreme_penalty
		custom_tooltip = {
			text = alpujarras_rebels_joining
			every_owned_location = {
				limit = {
					OR = {
						area = area:granada_area
						area = area:andalusia_area
					}
				}
				every_pop = {
					limit = {
						owner = root
						culture = culture:andalusi
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:alpujarras_rebels
				}
			}
		}
	}
}

flavor_cas.1004 = { #War of the Alpujarras
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1004.title
	desc = flavor_cas.1004.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1550.1.1
		to = 1640.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
	event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		if = {
			limit = {
				NOT = {
					any_rebel = {
						rebel_name_key = alpujarras_rebels
					}
				}
			}
			create_rebel = {
				category = nationalist
				name = alpujarras_rebels
				save_scope_as = alpujarras_rebels
				culture = culture:andalusi
			}
		}
		else = {
			scope:alpujarras_rebels = {
			add_rebel_progress = 0.5
			}
		}
	}

	trigger = {
		religion = religion:catholic
		own_entire_area = area:granada_area
		own_entire_area = area:andalusia_area
		has_variable = converted_moriscos
	}

	option = {
		name = flavor_cas.1004.a

		add_stability = stability_extreme_penalty
		custom_tooltip = {
			text = alpujarras_rebels_joining
			every_owned_location = {
				limit = {
					OR = {
						area = area:granada_area
						area = area:andalusia_area
					}
				}
				every_pop = {
					limit = {
						owner = root
						culture = culture:andalusi
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:alpujarras_rebels
				}
			}
		}
		trigger_event_silently = {
			id = flavor_cas.1005
			years = { 10 20 }
		}
	}
}

flavor_cas.1005 = { #Expulsion of the Moriscos
	hide_portraits = yes
	fire_only_once = yes
	title = flavor_cas.1005.title
	desc = flavor_cas.1005.desc

	fire_only_once = yes

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:peasants_estate }
		save_scope_as = target_country
		ruler = {
			save_scope_as = target_character
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target1
			}
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target2
			}
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target3
			}
		}
		region:maghreb_region = {
			random_location_in_region = {
				limit = {
					has_owner = yes
					owner != root
					dominant_religion ?= religion:sunni
					is_coastal = yes
					is_discovered_by = root
				}
				save_scope_as = escape_target4
			}
		}
	}

	trigger = {
		has_ruler = yes
		religion = religion:catholic
		has_variable = spa_holy_inquisition
		own_entire_area = area:granada_area
		own_entire_area = area:andalusia_area
	}

	option = {
		name = flavor_cas.1005.a
		historical_option = yes

		custom_tooltip = flavor_cas.1005.tt1
		hidden_effect = {
			every_province = {
				limit = {
					culture_percentage = {
						culture = culture:andalusi
						value > 0
					}
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target1.province_definition
					culture = culture:andalusi
					amount = 0.400
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target2.province_definition
					culture = culture:andalusi
					amount = 0.400
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target3.province_definition
					culture = culture:andalusi
					amount = 0.400
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target4.province_definition
					culture = culture:andalusi
					amount = 0.400
					months = 60
				}
			}
		}

		if = {
			limit = {
				country_exists = c:MOR
				c:MOR = {
					is_subject = no
				}
			}
			c:MOR = { trigger_event_non_silently = flavor_mor.2 }
		}
	}

	option = {
		name = flavor_cas.1005.b

		remove_variable = spa_holy_inquisition
		lock_policy_effect = { type = spa_inquisition_policy }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_extreme_penalty }
		add_stability = stability_ultimate_penalty
	}
}

flavor_cas.1006 = { #Spanish Tolerance alternative reward
	hide_portraits = yes
	fire_only_once = yes
	title = flavor_cas.1006.title
	desc = flavor_cas.1006.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1485.1.1
		to = 1505.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_peasants_foreign_religion_pop_type_effect = yes

		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_ruler = yes
		religion = religion:catholic
		has_variable = spa_holy_inquisition_declined
	}

	option = {
		name = flavor_cas.1006.a

		unlock_government_reform_effect = { type = spanish_tolerance }
	}
}

flavor_cas.1007 = { #Granada won Alpujarras War
	hide_portraits = yes
	fire_only_once = yes
	title = flavor_cas.1007.title
	desc = flavor_cas.1007.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = GRA
		from = 1550.1.1
		to = 1640.1.1
		monthly_chance = 100
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:clergy background = pop_type:soldiers }

		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_ruler = yes
		at_war = no
		religion = religion:catholic
	}

	option = {
		name = flavor_cas.1007.a
		historical_option = yes

		custom_tooltip = flavor_cas.1007.tt1
		change_religion = religion:sunni
		change_religion_for_ruler_and_family = { country = ROOT religion = religion:sunni }
		hidden_effect = {
			every_owned_location = {
				every_pop = {
					limit = {
						owner = root
						religion = religion:catholic
					}
					split_pop = {
						fraction = 0.9
						religion = religion:sunni
					}
				}
			}
		}
	}
}

flavor_cas.1100 = { #Ignatius of Loyola
	type = country_event
	title = flavor_cas.1100.title
	desc = flavor_cas.1100.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1535.1.1
		to = 1560.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = { #GRAVEYARD
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		ruler = {
			save_scope_as = target_ruler
		}
		create_character = {
			first_name = name_ignatius
			last_name = de_Loyola
			religion = religion:catholic
			culture = culture:basque
			estate = estate_type:clergy_estate
			birth_date = 1491.10.23
			female = no
			birth_location = location:san_sebastian
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			adm = 72
			dip = 65
			mil = 81
			save_scope_as = target_character
			script = spa_ignatius_of_loyola
		}
		random_neighbor_country = {
			save_scope_as = exile_destination
		}
	}

	trigger = {
		religion = religion:catholic
		has_policy = jesuits_allowed
		has_ruler = yes
	}

	option = {
		name = flavor_cas.1100.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_religious_influence = religious_influence_mild_bonus
		set_variable = spa_can_canonize_ignatius
	}

	option = {
		name = flavor_cas.1100.b

		scope:target_character = {
			move_country = scope:exile_destination
		}
	}
}

flavor_cas.1101 = { #Expulsion of the Jesuits
	type = country_event
	title = flavor_cas.1101.title
	desc = flavor_cas.1101.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1700.1.1
		to = 1837.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	trigger = {
		has_policy = jesuits_allowed
		government_type = government_type:monarchy
		any_subject = {
			capital.continent = continent:america
		}
	}

	option = {
		name = flavor_cas.1101.a
		historical_option = yes
		add_gold = { value = root.estate_tax_base:clergy_estate multiply = 4 }
		add_gold_to_estate = {
			estate_type = estate_type:clergy_estate
			value = { value = root.estate_tax_base:clergy_estate multiply = -4 }
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty	}
		add_policy = policy:jesuits_not_allowed
	}
	option = {
		name = flavor_cas.1101.b
		add_religious_influence = religious_influence_mild_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_cas.1200 = { #Confirmation of the Mesta Privileges
	type = country_event
	title = flavor_cas.1200.title
	desc = flavor_cas.1200.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		from = 1337.1.1
		to = 1365.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants background = pop_type:peasants }
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_policy = quadrillas_organization
		has_ruler = yes
	}

	option = {
		name = flavor_cas.1200.a
		historical_option = yes

	custom_tooltip = flavor_cas.1200.a.tt
	hidden_effect = {
		every_owned_location = {
			limit = {
				raw_material = goods:wool
				region = region:iberia_region
			}
			add_location_modifier = {
				modifier = merino_wool
				months = -1
				mode = add_and_extend
			}
		}
	}
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		set_variable = mesta_confirmed
	}

	option = {
		name = flavor_cas.1200.b

		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_extreme_penalty }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_extreme_penalty }
		custom_tooltip = flavor_cas.1200.b.tt
		hidden_effect = {
			every_owned_location = {
				limit = {
					raw_material = goods:wool
					region = region:iberia_region
				}
				add_location_modifier = {
					modifier = refused_merino_wool
					years = 100
					mode = add_and_extend
				}
			}
		}
	}
}

flavor_cas.1201 = { #Right of Posesion
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1201.title
	desc = flavor_cas.1201.desc
	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_wool.dds"
	
	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		from = 1480.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	immediate = {
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_variable = mesta_confirmed
		has_ruler = yes
	}

	option = {
		name = flavor_cas.1201.a
		historical_option = yes

		unlock_policy_effect = { type = right_of_possesion }
		add_policy = policy:right_of_possesion
		set_variable = mesta_expanded
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_penalty }
	}

	option = {
		name = flavor_cas.1201.b
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_weak_bonus }
		change_gold_effect = { scale = 2 }
	}

	option = {
		name = flavor_cas.1201.c

		custom_tooltip = flavor_cas.1201.c.tt
		hidden_effect = {
			every_owned_location = {
				limit = {
					has_location_modifier = merino_wool
				}
				remove_location_modifier = merino_wool
			}
		}
		set_variable = { name = abolish_mesta value = 1 }
	}
}

flavor_cas.1202 = { #Reputation of Merino Wool
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1202.title
	desc = flavor_cas.1202.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants background = pop_type:peasants }
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_variable = mesta_expanded
		has_ruler = yes
	}

	option = {
		name = flavor_cas.1202.a

		historical_option = yes
		custom_tooltip = flavor_cas.1202.a.tt
		hidden_effect = {
			every_owned_location = {
				limit = {
					raw_material = goods:wool
					region = region:iberia_region
				}
				add_location_modifier = {
					modifier = quality_merino_wool
					years = 50
					mode = add_and_extend
				}
			}
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_cas.1202.b

		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
		custom_tooltip = flavor_cas.1202.b.tt
		set_variable = { name = spanish_cloth_industry value = 1 }
	}
}

flavor_cas.1203 = { #Abolish the Mesta
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1203.title
	desc = flavor_cas.1203.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		from = 1737.1.1
		to = 1837.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:burghers background = pop_type:burghers }
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_variable = mesta_confirmed
		has_embraced_institution = institution:enlightenment
		has_embraced_institution = institution:industrialization
		has_ruler = yes
	}

	option = {
		name = flavor_cas.1203.a

		custom_tooltip = flavor_cas.1203.a.tt
		hidden_effect = {
			every_owned_location = {
				limit = {
					has_location_modifier = merino_wool
				}
				remove_location_modifier = merino_wool
			}
		}
		set_variable = { name = abolish_mesta value = 1 }
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_cas.1203.b

		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_penalty }
	}
}

flavor_cas.1300 = { #Law of Burgos
	type = country_event
	title = flavor_cas.1300.title
	desc = flavor_cas.1300.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		from = 1500.1.1
		to = 1540.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:slaves   background = pop_type:slaves }

		set_variable = { name = laws_of_burgos_happened value = 1 }
	}

	trigger = {
		any_subject = {
			capital.continent = continent:america
		}
		has_policy = civil_law_policy
	}

	option = {
		name = flavor_cas.1300.a
		custom_tooltip = flavor_cas.1300.a.tt
		historical_option = yes

		unlock_policy_effect = { type = encomienda_system_policy }
		add_policy = policy:encomienda_system_policy
		unlock_policy_effect = { type = laws_of_burgos }
		add_policy = policy:laws_of_burgos
		hidden_effect = {
			every_subject = {
				limit = {
					is_subject_type = colonial_nation
				}
				hidden_effect = { unlock_policy_effect = { type = laws_of_burgos } }
				add_policy = policy:laws_of_burgos
			}
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}
	option = {
		name = flavor_cas.1300.b

		add_prestige = prestige_weak_bonus
		unlock_policy_effect = { type = encomienda_system_policy }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}
}

flavor_cas.1301 = { #New Laws of the Indies
	type = country_event
	title = flavor_cas.1301.title
	desc = flavor_cas.1301.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		from = 1530.1.1
		to = 1550.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants background = pop_type:clergy }

		set_variable = { name = had_new_laws value = 1 }
	}

	trigger = {
		any_subject = {
			capital.continent = continent:america
		}
		has_variable = laws_of_burgos_happened
		has_policy = laws_of_burgos
	}

	option = {
		name = flavor_cas.1301.a
		historical_option = yes

		lock_policy_effect = { type = laws_of_burgos }
		unlock_policy_effect = { type = new_laws_indies }
		add_policy = policy:new_laws_indies
		custom_tooltip = flavor_cas.1301.a.tt
		hidden_effect = {
			every_subject = {
				limit = {
					is_subject_type = colonial_nation
				}
				add_policy = policy:new_laws_indies
				lock_policy_effect = { type = laws_of_burgos }
			}
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}
	option = {
		name = flavor_cas.1301.b

		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		add_stability = stability_mild_penalty
	}
}

flavor_cas.1302 = { # The Valladolid Debate
	type = country_event
	title = flavor_cas.1302.title
	desc = flavor_cas.1302.desc
	historical_info = flavor_cas.1302.historical_info
	image = "gfx/interface/illustrations/society/religion.dds"
	

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1540.1.1
		to = 1565.1.1
		monthly_chance = 5
	}

	immediate = {

		create_character = {
			first_name = name_bartholomew
			last_name = de_las_Casas
			religion = religion:catholic
			estate = estate_type:clergy_estate
			birth_date = 1484.11.11
			female = no
			birth_location = location:sevilla
			adm = 58
			dip = 77
			mil = 42
			save_scope_as = target_character_casas
		}

		create_character = {
			first_name = name_john.name_genesius
			last_name = de_sepulveda
			religion = religion:catholic
			estate = estate_type:clergy_estate
			birth_date = 1490.1.1
			female = no
			birth_location = location:pedroche
			adm = 76
			dip = 53
			mil = 47
			save_scope_as = target_character_sepulveda
		}
	}

	trigger = {
		religion = religion:catholic
		owns = location:valladolid
		has_variable = had_new_laws
		any_subject = {
			capital.continent = continent:america
		}
		has_policy = encomienda_system_policy
	}

	option = {
		name = flavor_cas.1302.a
		historical_option = yes

		add_prestige = prestige_mild_bonus
	}

	option = {
		name = flavor_cas.1302.b

		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
		unlock_policy_effect = { type = valladolid_sepulveda }
		lock_policy_effect = { type = encomienda_system_policy }
		add_policy = policy:valladolid_sepulveda
		hidden_effect = { kill_character_silently = scope:target_character_casas }
	}

	option = {
		name = flavor_cas.1302.c

		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
		unlock_policy_effect = { type = valladolid_las_casas }
		lock_policy_effect = { type = encomienda_system_policy }
		add_policy = policy:valladolid_las_casas
		hidden_effect = { kill_character_silently = scope:target_character_sepulveda }
	}
}

flavor_cas.1400 = { #Conflict in Italy with Rival
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1400.title
	desc = flavor_cas.1400.desc
	historical_info = flavor_cas.1400.historical_info
	
	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1465.1.1
		to = 1590.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	trigger = {
		is_situation_active = situation:italian_wars
		is_leader_of_international_organization = international_organization:foreign_league_iberia
		region:italy_region = {
			any_location_in_region = {
				owner ?= {
					OR = {
						is_rival_of = root
						is_enemy_of = root
						AND = {
							is_leader_of_international_organization = international_organization:foreign_league_france
							NOT = {
								has_mutual_scripted_relation = {
									type = relation_type:alliance
									target = root
								}
							}
						}
					}
				}
			}
		}
		has_presence_in = region:italy_region
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:clergy background = pop_type:soldiers }

		random_enemy = {
			limit = {
				any_owned_location = { region = region:italy_region }
			}
			save_scope_as = italian_rival
		}
		random_rival = {
			limit = {
				any_owned_location = { region = region:italy_region }
			}
			save_scope_as = italian_rival
		}
		if = {
			limit = {
				international_organization:foreign_league_france.leader_country ?= {
					has_presence_in = region:italy_region
					NOT = {
						has_mutual_scripted_relation = {
							type = relation_type:alliance
							target = root
						}
					}
				}
			}
			international_organization:foreign_league_france.leader_country ?= { save_scope_as = italian_rival }
		}
	}

	option = {
		name = flavor_cas.1400.a
		historical_option = yes

		save_scope_as = from
		scope:italian_rival = {
			add_opinion = {
				target = root
				modifier = claimed_italy
			}
			every_province = {
				limit = {
					capital.region = region:italy_region
				}
				root = {
					add_casus_belli = {
						type = casus_belli:cb_conquer_province
						province = prev
						target = scope:italian_rival
					}
				}
			}
			trigger_event_silently = { id = flavor_cas.1401 }
		}
	}
	option = {
		name = flavor_cas.1400.b

		add_prestige = prestige_extreme_penalty
	}
}

flavor_cas.1401 = { #Rival claims our locations
	type = country_event
	title = flavor_cas.1401.title
	desc = flavor_cas.1401.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	option = {
		name = flavor_cas.1401.a

		scope:from = {
			add_opinion = {
				target = root
				modifier = claimed_italy
			}
			every_province = {
				limit = {
					capital.region = region:italy_region
				}
				root = {
					add_casus_belli = {
						type = casus_belli:cb_conquer_province
						province = prev
						target = scope:from
					}
				}
			}
			trigger_event_silently = { id = flavor_cas.1402 }
		}
	}

	option = {
		name = flavor_cas.1401.b

		add_prestige = prestige_extreme_penalty
	}
}

flavor_cas.1402 = { #Reaction to rival claims
	type = country_event
	title = flavor_cas.1402.title
	desc = flavor_cas.1402.desc
	image = "gfx/interface/illustrations/situation/italian_wars.dds"

	option = {
		name = flavor_cas.1402.a

		add_opinion = {
			target = scope:italian_rival
			modifier = claimed_italy
		}
	}
}

flavor_cas.1500 = { #Casa de Contratación
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1500.title
	desc = flavor_cas.1500.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1490.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		ruler = {
			save_scope_as = target_character
		}
		capital = {
			save_scope_as = target_location
		}
	}

	trigger = {
		has_global_variable = new_world_discovered
		has_presence_in = continent:america
		has_ruler = yes
		owns = location:sevilla
	}

	option = {
		name = flavor_cas.1500.a
		historical_option = yes

		unlock_government_reform_effect = { type = casa_de_contratacion }
		add_reform = government_reform:casa_de_contratacion
		set_variable = {
			name = future_trade_center
			value = location:sevilla
		}
	}

	option = {
		name = flavor_cas.1500.b

		trigger = {
			owns = location:cadiz
		}
		unlock_government_reform_effect = { type = casa_de_contratacion }
		add_reform = government_reform:casa_de_contratacion
		set_variable = {
			name = future_trade_center
			value = location:cadiz
		}
	}

	option = {
		name = flavor_cas.1500.c

		trigger = {
			owns = location:lisbon
		}
		unlock_government_reform_effect = { type = casa_de_contratacion }
		add_reform = government_reform:casa_de_contratacion
		set_variable = {
			name = future_trade_center
			value = location:lisbon
		}
	}

	option = {
		name = flavor_cas.1500.d

		trigger = {
			capital = {
				is_coastal = yes
			}
			location:sevilla = {
				is_capital = no
			}
			location:lisbon = {
				is_capital = no
			}
			location:cadiz = {
				is_capital = no
			}
		}
		unlock_government_reform_effect = { type = casa_de_contratacion }
		add_reform = government_reform:casa_de_contratacion
		set_variable = {
			name = future_trade_center
			value = root.capital
		}
	}

	option = {
		name = flavor_cas.1500.e

		add_legitimacy = legitimacy_mild_bonus
	}
}

flavor_cas.1501 = { #Port of Sevilla after Casa de Contratacion is established
	type = country_event
	title = flavor_cas.1501.title
	desc = flavor_cas.1501.desc
	image = "gfx/interface/illustrations/institutions/global_trade.dds"

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1550.1.1
		to = 1620.1.1
		monthly_chance = 10
	}

	immediate = {
		var:future_trade_center = { save_scope_as = trade_center_location }
	}

	trigger = {
		has_presence_in = continent:america
		has_reform = government_reform:casa_de_contratacion
		has_variable = future_trade_center
		owns = var:future_trade_center
	}

	option = {
		name = flavor_cas.1501.a

		scope:trade_center_location = {
			change_development = development_extreme_bonus
			if = {
				limit = {
					location_rank = location_rank:rural_settlement
				}
				change_location_rank = location_rank:town
			}
			else_if = {
				limit = {
					location_rank = location_rank:town
				}
				change_location_rank = location_rank:city
			}
		}
		set_variable = world_port_established
	}
}

flavor_cas.1502 = { #The Sun never sets on the spanish empire
	type = country_event
	title = flavor_cas.1502.title
	desc = flavor_cas.1502.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1400.1.1
		to = 1837.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_government_estate_effect = yes
		var:future_trade_center = { save_scope_as = trade_center_location }
	}

	trigger = {
		capital.continent = continent:europe
		has_presence_in = continent:america
		has_presence_in = continent:africa
		has_presence_in = continent:asia
		has_ruler = yes
		has_variable = world_port_established
	}

	option = {
		name = flavor_cas.1502.a

		add_prestige = prestige_extreme_bonus
		add_legitimacy = legitimacy_extreme_bonus
		add_stability = stability_extreme_bonus
	}
}

flavor_cas.1503 = { #Archives of the Indies Building
	type = country_event
	title = flavor_cas.1503.title
	desc = flavor_cas.1503.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1765.1.1
		to = 1837.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:burghers_estate }
		var:future_trade_center = { save_scope_as = trade_center_location }

		create_character = {
			first_name = name_john
			last_name = bautista_munoz
			religion = religion:catholic
			estate = estate_type:clergy_estate
			birth_date = 1745.6.12
			female = no
			birth_location = location:valencia
			culture = culture:castilian
			adm = 82
			dip = 67
			mil = 36
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			save_scope_as = target_character
		}
		random_neighbor_country = {
			save_scope_as = exile_destination
		}
	}

	trigger = {
		has_ruler = yes
		has_reform = government_reform:casa_de_contratacion
		owns = var:future_trade_center
	}

	option = {
		name = flavor_cas.1503.a
		historical_option = yes

		scope:trade_center_location = {
			construct_building = {
				building_type = building_type:archive_of_the_indies
			}
		}
		remove_reform = government_reform:casa_de_contratacion
		lock_government_reform_effect = { type = casa_de_contratacion }
	}
	option = {
		name = flavor_cas.1503.b
		add_stability = stability_mild_bonus
		add_prestige = prestige_mild_penalty
		scope:target_character = {
			move_country = scope:exile_destination
		}
	}
}

flavor_cas.1600 = {
	type = country_event
	title = flavor_cas.1600.title
	desc = flavor_cas.1600.desc
	historical_info = flavor_cas.1600.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1490.1.1
		to = 1520.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		create_character = {
			first_name = name_francis
			last_name = de_Cisneros
			religion = religion:catholic
			estate = estate_type:clergy_estate
			birth_date = 1436.11.8
			female = no
			birth_location = location:buitrago_de_lozoya
			adm = 62
			dip = 35
			mil = 82
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			save_scope_as = inquisitor_cisneros
			script = cas_cardinal_cisneros
		}
		ruler = {
			save_scope_as = target_character
		}
	}

	trigger = {
		has_ruler = yes
		location:oran.top_owner = {
			NOT = {
				religion = religion:catholic
				capital.continent = continent:europe
			}
		}
		NOT = {
			owns = location:oran
		}
		own_entire_area = area:granada_area
		own_entire_area = area:andalusia_area
	}

	option = {
		name = flavor_cas.1600.a
		historical_option = yes

		add_casus_belli =  {
			type = casus_belli:cb_conquer_province
			province = location:oran.province
			target = location:oran.owner
		}
	}

	option = {
		name = flavor_cas.1600.b

		add_stability = stability_weak_bonus
	}
}

flavor_cas.1601 = {
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1601.title
	desc = flavor_cas.1601.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1400.1.1
		to = 1700.1.1
		monthly_chance = 1
	}

	immediate = {
		location:tunis = {
			save_scope_as = target_location
		}
		ruler = {
			save_scope_as = target_character
		}
		random_rival = {
			limit = {
				culture = culture:turkish_culture
			}
			save_scope_as = turkish_rival
		}
	}

	trigger = {
		religion = religion:catholic
		has_ruler = yes
		any_rival = {
			culture = culture:turkish_culture
		}
		c:TUN = {
			owns = location:tunis
			NOT = { religion.group = religion_group:christian }
		}
	}

	option = {
		name = flavor_cas.1601.a
		historical_option = yes

		scope:turkish_rival = {
			add_opinion = { target = root modifier = supporting_tunisian_claimant }
		}
		add_casus_belli =  { type = casus_belli:cb_conquer_province province = location:tunis.province target = c:TUN }
	}
	option = {
		name = flavor_cas.1601.b

		add_prestige = prestige_weak_penalty
		scope:turkish_rival = {
			add_opinion = { target = root modifier = turned_down_tunisian_claimant }
		}
	}
}

flavor_cas.1700 = {
	type = country_event
	title = flavor_cas.1700.title
	desc = flavor_cas.1700.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		from = 1350.1.1
		to = 1837.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = target_character
		}
		c:ARA = {
			ruler = {
				save_scope_as = target_spouse
			}
		}
	}

	trigger = {
		country_exists  = c:ARA
		religion = religion:catholic
		ruler ?= {
			is_married = yes
		}
		government_type = government_type:monarchy
		c:ARA = {
			government_type = government_type:monarchy
			religion = religion:catholic
			has_ruler = yes
			ruler = {
				is_married = yes
				first_spouse ?= root.ruler.first_spouse
			}
		}
	}

	option = {
		name = flavor_cas.1700.a

		root = {
			add_opinion = {
				target = c:ARA
				modifier = spa_iberian_wedding
			}
		}
		c:ARA = {
			add_opinion = {
				target = root modifier = spa_iberian_wedding
			}
		}
	}
}

flavor_cas.1800 = { #The Comuneros Parliament is unhappy
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1800.title
	desc = flavor_cas.1800.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:nobles_estate }

		if = {
			limit = {
				NOT = {
					any_rebel = {
						rebel_name_key = comuneros_rebels
					}
				}
			}
			create_rebel = {
				category = estate
				name = comuneros_rebels
				save_scope_as = comuneros_rebels
				estate = burghers_estate
			}
		}
		else = {
			scope:comuneros_rebels = {
			add_rebel_progress = 0.5
			}
		}
	}

	trigger = {
		has_ruler = yes
		government_type = government_type:monarchy
		OR = {
			months_since_last_parliament_called > 80
			parliament_issue_support < 0.5
			root = {
				has_country_modifier = parliament_approved_extra_taxes
			}
		}
	}

	option = {
		name = flavor_cas.1800.a
		historical_option = yes

		set_variable = repress_the_rebels
		custom_tooltip = {
			text = comuneros_rebels_joining
			every_owned_non_rural_location = {
				limit = {
					OR = {
						area = area:leon_area
						area = area:castile_area
						area = area:toledo_area
					}
				}
				change_control = control_severe_penalty
				every_pop = {
					limit = {
						owner = root
						culture = culture:castilian
						OR = {
							pop_type = pop_type:peasants
							pop_type = pop_type:burghers
						}
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:comuneros_rebels
				}
			}
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_country_modifier = { modifier = comuneros_rebellion years = 10 mode = add_and_extend }
	}
	option = {
		name = flavor_cas.1800.b

		set_variable = support_the_rebels
		add_estate_satisfaction = { type = estate_type:peasants_estate	value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_radical_penalty }
	}
}

flavor_cas.1801 = { #The Comuneros Revolt rises up
	hide_portraits = yes
	type = country_event
	title = flavor_cas.1801.title
	desc = flavor_cas.1801.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		if = {
			limit = {
				NOT = {
					any_rebel = {
						rebel_name_key = comuneros_rebels
					}
				}
			}
			create_rebel = {
				category = estate
				name = comuneros_rebels
				save_scope_as = comuneros_rebels
				estate = burghers_estate
			}
		}
		else = {
			scope:comuneros_rebels ?= {
				add_rebel_progress = 0.5
			}
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = repress_the_rebels
		any_rebel = {
			rebel_name_key = comuneros_rebels
			rebel_progress >= 0.5
		}
	}

	option = {
		name = flavor_cas.1801.a
		historical_option = yes

		set_variable = crush_the_rebels
		add_prestige = prestige_weak_bonus
	}
	option = {
		name = flavor_cas.1801.b

		set_variable = support_the_rebels
		add_prestige = prestige_severe_penalty
		add_stability = stability_severe_penalty
	}
}

flavor_cas.1802 = { #The Comuneros Revolt is crushed
	type = country_event
	title = flavor_cas.1802.title
	desc = flavor_cas.1802.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1500.1.1
		to = 1650.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:nobles background = pop_type:soldiers }
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = crush_the_rebels
		NOT = {
			any_rebel = {
				rebel_name_key = comuneros_rebels
			}
		}
	}

	option = {
		name = flavor_cas.1802.a
		historical_option = yes

		unlock_policy_effect = { type = dop_law_castilian_courts_reinforced }
		add_policy = policy:dop_law_castilian_courts_reinforced
		add_stability = stability_mild_bonus
		change_societal_value = { type = aristocracy_vs_plutocracy value = societal_value_move_to_left }
		if = {
			limit = {
				has_country_modifier = comuneros_rebellion
			}
			remove_country_modifier = comuneros_rebellion
		}
	}
}

flavor_cas.1803 = { #Conceded to the Comuneros
	type = country_event
	title = flavor_cas.1803.title
	desc = flavor_cas.1803.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		from = 1500.1.1
		to = 1650.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = support_the_rebels
		NOT = {
			any_rebel = {
				rebel_name_key = comuneros_rebels
			}
		}
	}

	option = {
		name = flavor_cas.1803.a

		unlock_policy_effect = { type = dop_law_comuneros_parliament }
		add_policy = policy:dop_law_comuneros_parliament
		add_stability = stability_mild_bonus
		change_societal_value = { type = aristocracy_vs_plutocracy value = societal_value_move_to_right }
		if = {
			limit = {
				has_country_modifier = comuneros_rebellion
			}
			remove_country_modifier = comuneros_rebellion
		}
	}
}

flavor_cas.2000 = { #Francisco de Goya La maja vestida
	type = country_event
	title = flavor_cas.2000.title
	desc = flavor_cas.2000.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1780.1.1
		to = 1805.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		create_character = {
			first_name = name_francis.name_joseph
			last_name = de_goya
			adm = 71
			dip = 79
			mil = 19
			artist = painter
			birth_date = 1746.3.30
			artist_skill = 0.86
			birth_location = location:daroca
			save_scope_as = target_artist
			estate = estate_type:burghers_estate
			script = spa_de_goya_script
		}
		random_neighbor_country = {
			save_scope_as = exile_destination
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
	}

	option = {
		name = flavor_cas.2000.a

		add_legitimacy = legitimacy_mild_bonus
		change_gold_effect = { scale = -2 }
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 91
				type = work_of_art_type:painting
				key =  maja_vestida
			}
		}
	}

	option = {
		name = flavor_cas.2000.b

		scope:target_artist = {
			move_country = scope:exile_destination
		}
	}
}

flavor_cas.2001 = { #Francisco de Goya Los fusilamientos del tres de mayo
	hide_portraits = yes
	type = country_event
	title = flavor_cas.2001.title
	desc = flavor_cas.2001.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1780.1.1
		to = 1828.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		ruler = {
			save_scope_as = target_ruler
		}
		character:spa_de_goya_script = {
			save_scope_as = target_artist
		}
		random_neighbor_country = {
			save_scope_as = exile_destination
		}
	}

	trigger = {
		has_ruler = yes
		at_war = yes
		character:spa_de_goya_script ?= {
			is_alive = yes
			owner = root
		}
	}

	option = {
		name = flavor_cas.2001.a

		add_prestige = prestige_mild_bonus
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 93
				type = work_of_art_type:painting
				key =  el_tres_de_mayo_de_1808_en_madrid
			}
		}
	}

	option = {
		name = flavor_cas.2001.b

		scope:target_artist = {
			move_country = scope:exile_destination
		}
	}
}

flavor_cas.2100 = { #Diego Velázquez Las Meninas
	hide_portraits = yes
	type = country_event
	title = flavor_cas.2100.title
	desc = flavor_cas.2100.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1630.1.1
		to = 1660.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		create_character = {
			first_name = name_diego
			last_name = Velazquez
			adm = 54
			dip = 78
			mil = 13
			artist = painter
			birth_date = 1599.5.1 #baptized 1599.6.6 Birthdate unknown
			artist_skill = 0.87
			birth_location = location:sevilla
			save_scope_as = target_artist
			estate = estate_type:burghers_estate
			script = spa_velazquez_script
		}
		random_neighbor_country = {
			save_scope_as = exile_destination
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		owns = location:sevilla
	}

	option = {
		name = flavor_cas.2100.a

		change_gold_effect = { scale = -2 }
		add_prestige = prestige_mild_bonus
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 91
				type = work_of_art_type:painting
				key =  las_meninas
			}
		}
	}

	option = {
		name = flavor_cas.2100.b

		add_prestige = prestige_mild_penalty
		scope:target_artist = {
			move_country = scope:exile_destination
		}
	}
}

flavor_cas.2101 = { #Diego Velázquez Las Lanzas
	hide_portraits = yes
	type = country_event
	title = flavor_cas.2101.title
	desc = flavor_cas.2101.desc

	fire_only_once = yes

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		ruler = {
			save_scope_as = target_ruler
		}
		character:spa_velazquez_script = {
			save_scope_as = target_artist
		}
	}

	option = {
		name = flavor_cas.2101.a

		add_prestige = prestige_mild_bonus
		change_gold_effect = { scale = -2 }
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 89
				type = work_of_art_type:painting
				key =  las_lanzas
			}
		}
	}

	option = {
		name = flavor_cas.2101.b

		add_prestige = prestige_mild_penalty
	}
}

flavor_cas.2200 = { #The Iberian Wedding
	hide_portraits = yes
	fire_only_once = yes
	title = flavor_cas.2200.title
	desc = flavor_cas.2200.desc

	fire_only_once = yes

	historical_info = flavor_cas.2200.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1450.1.1
		to = 1500.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		ruler ?= {
			save_scope_as = castile_ruler
		}
		heir ?= {
			save_scope_as = castile_heir
		}
		c:POR = {
			random_character = {
				limit = {
					dynasty = c:POR.ruler_or_heir_if_regent.dynasty
					is_female = no
					character_can_marry_trigger = yes
				}
				save_scope_as = portuguese_candidate
			}
		}
		c:ARA = {
			random_character = {
				limit = {
					dynasty = c:ARA.ruler_or_heir_if_regent.dynasty
					is_female = no
					character_can_marry_trigger = yes
				}
				save_scope_as = aragonese_candidate
			}
		}
	}

	trigger = {
		has_ruler = yes
		heir ?= {
			is_female = yes
			character_can_marry_trigger = yes
		}
		c:POR = {
			ruler_or_heir_if_regent ?= {
				has_dynasty = yes
			}
			any_character = {
				dynasty = c:POR.ruler_or_heir_if_regent.dynasty
				is_female = no
				character_can_marry_trigger = yes
			}
		}
		c:ARA = {
			ruler_or_heir_if_regent ?= {
				has_dynasty = yes
			}
			any_character = {
				dynasty = c:ARA.ruler_or_heir_if_regent.dynasty
				is_female = no
				character_can_marry_trigger = yes
			}
		}
	}

	option = {
		name = flavor_cas.2200.a
		historical_option = yes
		c:ARA = { trigger_event_non_silently = { id = flavor_cas.2201 days = 20 } }
	}

	option = {
		name = flavor_cas.2200.b
		c:POR = { trigger_event_non_silently = { id = flavor_cas.2201 days = 20 } }
	}

	option = {
		name = flavor_cas.2200.c
		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_cas.2201 = { #The Iberian Wedding - Marriage Request
	fire_only_once = yes
	title = flavor_cas.2201.title
	desc = flavor_cas.2201.desc

	fire_only_once = yes

	historical_info = flavor_cas.2200.historical_info

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		save_scope_as = target_country
	}

	option = {
		name = flavor_cas.2201.a
		historical_option = yes
		if = {
			limit = {
				tag = ARA
			}
			scope:castile_heir ?= {
				marry_character = scope:aragonese_candidate
			}
		}
		else_if = {
			limit = {
				tag = POR
			}
			scope:castile_heir ?= {
				marry_character = scope:portuguese_candidate
			}
		}
		c:CAS = { trigger_event_non_silently = { id = flavor_cas.2202 days = 20 } }
	}

	option = {
		name = flavor_cas.2201.b
		c:CAS = { trigger_event_non_silently = { id = flavor_cas.2203 days = 20 } }
		add_opinion_mutual_effect = {
			modifier = CAS_rejected_royal_marriage
			target = c:CAS
		}
	}
}

flavor_cas.2202 = { #The Iberian Wedding - Marriage Request Accepted
	fire_only_once = yes
	title = flavor_cas.2202.title
	desc = flavor_cas.2202.desc

	fire_only_once = yes

	illustration_tags = {
		10 = regular
		10 = interior
	}

	option = {
		name = flavor_cas.2202.a
		show_as_tooltip = {
			if = {
				limit = {
					c:ARA ?= scope:target_country
				}
				scope:castile_heir ?= {
					marry_character = scope:aragonese_candidate
				}
				c:POR = { trigger_event_non_silently = { id = flavor_cas.2204 days = 20 } } 
			}
			else_if = {
				limit = {
					c:POR ?= scope:target_country
				}
				scope:castile_heir ?= {
					marry_character = scope:portuguese_candidate
				}
				c:ARA = { trigger_event_non_silently = { id = flavor_cas.2204 days = 20 } } 
			}
		}
		if = {
			limit = {
				c:ARA ?= scope:target_country
			}
			c:POR = { trigger_event_non_silently = { id = flavor_cas.2204 days = 20 } }
		}
		else_if = {
			limit = {
				c:POR ?= scope:target_country
			}
			c:ARA = { trigger_event_non_silently = { id = flavor_cas.2204 days = 20 } }
		}
	}
}

flavor_cas.2203 = { #The Iberian Wedding - Marriage Request Declined
	fire_only_once = yes
	title = flavor_cas.2203.title
	desc = flavor_cas.2203.desc

	fire_only_once = yes

	illustration_tags = {
		10 = regular
		10 = interior
	}

	option = {
		name = flavor_cas.2203.a
		show_as_tooltip = {
			add_opinion_mutual_effect = {
				modifier = CAS_rejected_royal_marriage
				target = scope:target_country
			}
		}
	}
}

flavor_cas.2204 = { #The Iberian Wedding - PU CB for the ignored option
	hide_portraits = yes
	fire_only_once = yes
	title = flavor_cas.2204.title
	desc = flavor_cas.2204.desc

	fire_only_once = yes

	historical_info = flavor_cas.2200.historical_info

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		if = {
			limit = {
				c:CAS = {
					any_character = {
						dynasty = c:CAS.ruler.dynasty
						is_female = no
						character_can_marry_trigger = yes
					}
				}
			}
			random_character = {
				limit = {
					dynasty = c:CAS.ruler.dynasty
					is_female = no
					character_can_marry_trigger = yes
				}
				save_scope_as = marriage_candidate
			}
		}
		save_scope_as = claimant_country
	}

	option = {
		name = flavor_cas.2204.a
		add_casus_belli = { target = c:CAS type = casus_belli:cb_claim_throne }
		if = {
			limit = {
				exists = scope:marriage_candidate
			}
			if = {
				limit = { scope:target_country = { tag = ARA } }
				scope:marriage_candidate ?= {
					marry_character = scope:aragonese_candidate
				}
			}
			else_if = {
				limit = { scope:target_country = { tag = POR } }
				scope:marriage_candidate ?= {
					marry_character = scope:portuguese_candidate
				}
			}
		}
		c:CAS = { trigger_event_non_silently = { id = flavor_cas.2205 days = 20 } }
	}

	option = {
		name = flavor_cas.2204.b
		add_prestige = prestige_mild_penalty
	}
}

flavor_cas.2205 = { #The Iberian Wedding - Castile - PU CB for the ignored option
	fire_only_once = yes
	title = flavor_cas.2205.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:marriage_candidate
				}
				desc = flavor_cas.2205.desc.a
			}
			triggered_desc = {
				desc = flavor_cas.2205.desc.b
			}
		}
	}
	fire_only_once = yes

	illustration_tags = {
		10 = regular
		10 = interior
	}

	option = {
		name = flavor_cas.2205.a
		show_as_tooltip = {
			scope:target_country = {
				add_casus_belli = { target = c:CAS type = casus_belli:cb_claim_throne }
			}
			if = {
				limit = {
					exists = scope:marriage_candidate
				}
				if = {
					limit = { scope:target_country = { tag = ARA } }
					scope:marriage_candidate ?= {
						marry_character = scope:aragonese_candidate
					}
				}
				else_if = {
					limit = { scope:target_country = { tag = POR } }
					scope:marriage_candidate ?= {
						marry_character = scope:portuguese_candidate
					}
				}
			}
		}
	}
}

flavor_cas.2300 = { #The Irmandiño Revolt
	type = country_event
	title = flavor_cas.2300.title
	desc = flavor_cas.2300.desc
	image = "gfx/interface/illustrations/disaster/peasants_war.dds"

	fire_only_once = yes

	historical_info = flavor_cas.2300.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1430.1.1
		to = 1450.1.1
		monthly_chance = 1
	}

	trigger = {
		area:galicia_area = {
			any_location_in_area = {
				any_pop = {
					pop_type = pop_type:peasants
				}
			}
		}
		estate_satisfaction:peasants_estate < 0.5
		own_entire_area = area:galicia_area
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		set_variable = cas_irmandino_revolts
		create_rebel = {
			category = nationalist
			culture = culture:galician
			name = first_irmandino_revolt
			save_scope_as = first_irmandino_scope
		}

		create_character = {
			first_name = name_nuno.name_freire
			adm = { 30 50 }
			dip = { 20 40 }
			mil = { 40 80 }
			min_age = 40
			birth_location = location:coruna
			culture = culture:galician
			dynasty = dynasty:andrade_dynasty
			estate = estate_type:nobles_estate
			create_in_limbo = yes
			script = cas_freire_de_andrade
			save_scope_as = noble_leader
		}
		scope:noble_leader = { change_character_allegiance = scope:first_irmandino_scope }	
	}

	option = {
		name = flavor_cas.2300.a
		historical_option = yes
		add_stability = stability_severe_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_bonus
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_severe_penalty
		}
		custom_tooltip = {
			text = flavor_cas.2300.a.tt
			every_owned_location = {
				limit = {
					area = area:galicia_area
				}
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:peasants
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:first_irmandino_scope
				}
			}
		}
		scope:first_irmandino_scope = { add_rebel_progress = 0.5 }
	}

	option = {
		name = flavor_cas.2300.b
		add_legitimacy = legitimacy_severe_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_severe_bonus
		}
		destroy_rebel = scope:first_irmandino_scope
		hidden_effect = {
			kill_character_silently = scope:noble_leader
		}
		remove_variable = cas_irmandino_revolts
	}
}

flavor_cas.2301 = { #The Irmandiño Revolt Suppressed
	type = country_event
	title = flavor_cas.2301.title
	desc = flavor_cas.2301.desc
	image = "gfx/interface/illustrations/disaster/peasants_war.dds"

	fire_only_once = yes

	historical_info = flavor_cas.2301.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1430.1.1
		to = 1450.1.1
		monthly_chance = 10
	}

	trigger = {
		has_variable = cas_irmandino_revolts
		NOT = {
			any_rebel = {
				rebel_name_key = first_irmandino_revolt
			}
		}
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	option = {
		name = flavor_cas.2301.a
		add_prestige = prestige_mild_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
		set_variable = cas_hunt_down_irmandino
	}

	option = {
		name = flavor_cas.2301.b
		add_stability = stability_mild_bonus
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_mild_bonus
		}
		custom_tooltip = {
			text = flavor_cas.2301.b.tt
			every_owned_location = {
				limit = {
					area = area:galicia_area
				}
				every_pop = {
					limit = {
						owner = root
					}
					add_pop_satisfaction = pop_satisfaction_severe_bonus
				}
			}
		}
	}

	after = {
		set_variable = cas_had_first_irmandino_revolt
	}
}

flavor_cas.2302 = { #The Irmandiño Revolt Leader Caught
	type = country_event
	title = flavor_cas.2302.title
	desc = flavor_cas.2302.desc

	fire_only_once = yes

	historical_info = flavor_cas.2302.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1430.1.1
		to = 1450.1.1
		monthly_chance = 10
	}

	trigger = {
		has_variable = cas_irmandino_revolts
		has_variable = cas_hunt_down_irmandino
		NOT = {
			any_rebel = {
				rebel_name_key = first_irmandino_revolt
			}
		}
	}

	immediate = {
		if = {
			limit = {
				NOT = {
					dynasty_exists = xordo_dynasty
				}
			}
			location:coruna = { create_dynasty_from_location = xordo_dynasty }
		}
		create_character = {
			first_name = name_roi
			min_age = 40
			birth_location = location:betanzos
			estate = estate_type:nobles_estate
			dynasty = dynasty:xordo_dynasty
			adm = { 20 60 }
			dip = { 20 60 }
			mil = { 50 80 }
			culture = culture:galician
			save_scope_as = target_character
			script = cas_xordo
			create_in_limbo = yes
		}
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	option = {
		name = flavor_cas.2302.a
		historical_option = yes
		add_government_power = government_power_mild_bonus
		kill_character = {
			target = scope:target_character
			reason = execution
		}
	}

	option = {
		name = flavor_cas.2302.b
		add_stability = stability_severe_penalty
		scope:target_character = {
			move_country = root
		}
	}

	after = {
		remove_variable = cas_irmandino_revolts
		remove_variable = cas_hunt_down_irmandino
	}
}

flavor_cas.2303 = { #The Great Irmandiño Revolt
	type = country_event
	title = flavor_cas.2303.title
	desc = flavor_cas.2303.desc
	image = "gfx/interface/illustrations/disaster/peasants_war.dds"

	fire_only_once = yes

	historical_info = flavor_cas.2303.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1467.1.1
		to = 1480.1.1
		monthly_chance = 1
	}

	trigger = {
		stability < 10
		area:galicia_area = {
			any_location_in_area = {
				any_pop = {
					pop_type = pop_type:peasants
				}
			}
		}
		NOT = {
			any_rebel = {
				rebel_name_key = first_irmandino_revolt
			}
		}
		estate_satisfaction:peasants_estate < 0.3
		own_entire_area = area:galicia_area
		has_variable = cas_had_first_irmandino_revolt
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		create_rebel = {
			category = estate
			estate = peasants_estate
			name = great_irmandino_revolt
			save_scope_as = great_irmandino_scope
		}
	}

	option = {
		name = flavor_cas.2303.a
		historical_option = yes
		add_stability = stability_severe_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_bonus
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_severe_penalty
		}
		custom_tooltip = {
			text = flavor_cas.2303.a.tt
			every_owned_location = {
				limit = {
					area = area:galicia_area
				}
				every_pop = {
					limit = {
						owner = root
						OR = {
							pop_type = pop_type:peasants
							pop_type = pop_type:burghers
						}
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:great_irmandino_scope
				}
			}
		}
		scope:great_irmandino_scope = { add_rebel_progress = 0.75 }
	}

	option = {
		name = flavor_cas.2303.b
		add_legitimacy = legitimacy_severe_penalty
		custom_tooltip = flavor_cas.2303.b.tt
		hidden_effect = {
			area:galicia_area = {
				every_location_in_area = {
					change_control = control_ultimate_penalty
				}
			}
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_severe_bonus
		}
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
		destroy_rebel = scope:great_irmandino_scope
	}

	after = {
		set_variable = cas_revolt_aftermath
	}
}

flavor_cas.2304 = { #The Aftermath of the Revolt
	type = country_event
	title = flavor_cas.2304.title
	desc = flavor_cas.2304.desc

	fire_only_once = yes

	historical_info = flavor_cas.2304.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1467.1.1
		to = 1480.1.1
		monthly_chance = 1
	}

	trigger = {
		has_variable = cas_revolt_aftermath
		has_variable = cas_had_first_irmandino_revolt
		NOT = {
			any_rebel = {
				rebel_name_key = great_irmandino_revolt
			}
		}
		own_entire_area = area:galicia_area
	}

	option = {
		name = flavor_cas.2304.a
		historical_option = yes
		add_prestige = prestige_mild_bonus
		custom_tooltip = {
			text = flavor_cas.2304.a.tt
			area:galicia_area = {
				every_location_in_area = {
					limit = { owner ?= root }
					change_control = control_severe_bonus
					every_pop = {
						limit = {
							owner = root
						}
						add_pop_satisfaction = pop_satisfaction_extreme_penalty
					}
				}
			}
		}
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.2304.b
		add_prestige = prestige_mild_bonus
		custom_tooltip = {
			text = flavor_cas.2304.b.tt
			area:galicia_area = {
				every_location_in_area = {
					limit = { owner ?= root }
					change_control = control_severe_penalty
					every_pop = {
						limit = {
							owner = root
						}
						add_pop_satisfaction = pop_satisfaction_extreme_bonus
					}
				}
			}
		}
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
	}

	after = {
		remove_variable = cas_revolt_aftermath
		remove_variable = cas_had_first_irmandino_revolt
	}
}

flavor_cas.2400 = { #The War of the Bands
	type = country_event
	title = flavor_cas.2400.title
	desc = flavor_cas.2400.desc

	fire_only_once = yes

	historical_info = flavor_cas.2400.historical_info

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1370.1.1
		to = 1450.1.1
		monthly_chance = 1
	}

	trigger = {
		area:navarre_area = {
			any_location_in_area = {
				count > 2
				owner ?= root
				any_pop = {
					pop_type = pop_type:nobles
				}
				average_satisfaction < 0.40
			}
		}
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		#event_illustration_estate_background_effect = { background = type:army }
		area:navarre_area = {
			random_location_in_area = {
				limit = {
					owner ?= root
					any_pop = {
						pop_type = pop_type:nobles
					}
				}
				save_scope_as = target_location_1
			}
		}
		area:navarre_area = {
			random_location_in_area = {
				limit = {
					owner ?= root
					any_pop = {
						pop_type = pop_type:nobles
					}
					NOT = { this = scope:target_location_1 }
				}
				save_scope_as = target_location_2
			}
		}
	}

	option = {
		name = flavor_cas.2400.a
		scope:target_location_1 = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:nobles
				}
				add_pop_satisfaction = pop_satisfaction_extreme_bonus
			}
			change_prosperity = prosperity_severe_bonus
		}
		scope:target_location_2 = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:nobles
				}
				add_pop_satisfaction = pop_satisfaction_ultimate_penalty
			}
			change_prosperity = prosperity_ultimate_penalty
		}
	}

	option = {
		name = flavor_cas.2400.b
		scope:target_location_2 = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:nobles
				}
				add_pop_satisfaction = pop_satisfaction_extreme_bonus
			}
			change_prosperity = prosperity_severe_bonus
		}
		scope:target_location_1 = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:nobles
				}
				add_pop_satisfaction = pop_satisfaction_ultimate_penalty
			}
			change_prosperity = prosperity_ultimate_penalty
		}
	}

	option = {
		name = flavor_cas.2400.c
		historical_option = yes
		trigger_event_non_silently = {
			id = flavor_cas.2401
			days = { 20 30 }
		}
		add_legitimacy = legitimacy_mild_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
		custom_tooltip = flavor_cas.2400.c.tt
		scope:target_location_2 = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:nobles
				}
				add_pop_satisfaction = pop_satisfaction_ultimate_penalty
			}
			change_prosperity = prosperity_ultimate_penalty
		}
		scope:target_location_1 = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:nobles
				}
				add_pop_satisfaction = pop_satisfaction_ultimate_penalty
			}
			change_prosperity = prosperity_ultimate_penalty
		}
	}

	option = {
		name = flavor_cas.2400.d
		add_legitimacy = legitimacy_mild_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

flavor_cas.2401 = { #The Royal Intervention
	type = country_event
	title = flavor_cas.2401.title
	desc = flavor_cas.2401.desc

	fire_only_once = yes

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_cas.2401.a
		set_variable = cas_bands_noble_revolt
		add_prestige = prestige_mild_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
		custom_tooltip = {
			text = flavor_cas.2401.a.tt
			area:navarre_area = {
				every_location_in_area = {
					limit = {
						owner ?= root
					}
					change_control = control_severe_bonus
					every_pop = {
						limit = {
							owner = root
							pop_type = pop_type:nobles
						}
						add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					}
				}
			}
		}
	}

	option = {
		name = flavor_cas.2401.b
		add_stability = stability_mild_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_bonus
		}
		area:navarre_area = {
			custom_tooltip = {
				text = flavor_cas.2401.b.tt
				every_location_in_area = {
					limit = {
						owner ?= root
					}
					change_control = control_severe_penalty
					every_pop = {
						limit = {
							owner = root
							pop_type = pop_type:nobles
						}
						add_pop_satisfaction = pop_satisfaction_extreme_bonus
					}
				}
			}
		}
	}
}

flavor_cas.2402 = { #The Nobles Rise Against the Crown
	type = country_event
	title = flavor_cas.2402.title
	desc = flavor_cas.2402.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1370.1.1
		to = 1450.1.1
		monthly_chance = 1
	}

	trigger = {
		has_variable = cas_bands_noble_revolt
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_rebel = {
			category = estate
			name = bands_of_navarra
			save_scope_as = bands_of_navarra_rebels
			estate = nobles_estate
		}
	}

	option = {
		name = flavor_cas.2402.a
		custom_tooltip = {
			text = flavor_cas.2402.a.tt
			every_owned_location = {
				limit = {
					area = area:navarre_area
				}
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:nobles
					}
					change_pop_allegiance = scope:bands_of_navarra_rebels
				}
			}
		}
		scope:bands_of_navarra_rebels = { add_rebel_progress = 0.5 }
		set_variable = cas_war_of_the_bands_aftermath
	}

	option = {
		name = flavor_cas.2402.b
		area:navarre_area = {
			every_location_in_area = {
				limit = {
					owner ?= root
				}
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:nobles
					}
					add_pop_satisfaction = pop_satisfaction_extreme_bonus
				}
			}
		}
		custom_tooltip = {
			text = flavor_cas.2402.b.tt
			area:navarre_area = {
				every_location_in_area = {
					change_control = control_ultimate_penalty
				}
			}
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
		destroy_rebel = scope:bands_of_navarra_rebels
	}

	after = {
		remove_variable = cas_bands_noble_revolt
	}
}

flavor_cas.2403 = { #De Bandos Pacified
	hide_portraits = yes
	type = country_event
	title = flavor_cas.2403.title
	desc = flavor_cas.2403.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1370.1.1
		to = 1450.1.1
		monthly_chance = 1
	}

	trigger = {
		has_variable = cas_war_of_the_bands_aftermath
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_rebel = {
			category = estate
			name = bands_of_navarra
			save_scope_as = bands_of_navarra_rebels
			estate = nobles_estate
		}
	}

	option = {
		name = flavor_cas.2403.a
		historical_option = yes
		add_stability = stability_mild_bonus
		custom_tooltip = {
			text = flavor_cas.2403.a.tt
			every_owned_location = {
				if = {
					limit = {
						area = area:navarre_area
					}
					change_prosperity = prosperity_weak_penalty
				}
			}
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.2403.b
		custom_tooltip = {
			text = flavor_cas.2403.b.tt
			every_owned_location = {
				if = {
					limit = {
						area = area:navarre_area
					}
					change_prosperity = prosperity_weak_bonus
				}
			}
		}
		area:navarre_area = {
			every_location_in_area = {
				limit = {
					owner ?= root
				}
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:nobles
					}
					add_pop_satisfaction = pop_satisfaction_extreme_bonus
				}
			}
		}
		custom_tooltip = {
			text = flavor_cas.2402.b.tt
			area:navarre_area = {
				every_location_in_area = {
					change_control = control_ultimate_penalty
				}
			}
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
	}


	after = {
		remove_variable = cas_war_of_the_bands_aftermath
	}
}

flavor_cas.2500 = { #A Coalition Against the Aztecs
	hide_portraits = yes
	type = country_event
	title = flavor_cas.2500.title
	desc = flavor_cas.2500.desc
	image = "gfx/interface/illustrations/disaster/reform_society.dds"
	
	historical_info = flavor_cas.2500.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1480.1.1
		to = 1550.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		ruler = {
			save_scope_as = root_ruler
		}
		save_scope_as = root_country
		ordered_known_country = {
			limit = {
				exists = capital
				capital.region = region:mesoamerica_region
				any_rival = {
					exists = capital
					capital.region = region:mesoamerica_region
				}
			}
			order_by = great_power_score
			max = 1
			save_scope_as = target_enemy
		}
		scope:target_enemy = {
			random_rival = {
				limit = {
					exists = capital
					capital.region = region:mesoamerica_region
				}
				save_scope_as = target_country
			}
		}
		scope:target_enemy = {
			ruler_or_regent ?= {
				save_scope_as = enemy_ruler
			}
		}
	}

	trigger = {
		has_ruler = yes
		has_presence_in = region:mesoamerica_region
		region:mesoamerica_region = {
			any_location_in_region = {
				owner ?= {
					root = { knows_country = prev }
					any_rival = {
						exists = capital
						capital.region = region:mesoamerica_region
					}
				}
			}
		}
	}

	option = {
		name = flavor_cas.2500.a
		historical_option = yes
		scope:target_country = { trigger_event_non_silently = { id = flavor_cas.2501 } }
		scope:target_enemy = { trigger_event_non_silently = { id = flavor_cas.2502 } }
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.2500.b
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_right }
	}
}

flavor_cas.2501 = { #Native Alliance Request
	fire_only_once = yes
	title = flavor_cas.2501.title
	desc = flavor_cas.2501.desc

	fire_only_once = yes

	historical_info = flavor_cas.2500.historical_info

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	option = {
		name = flavor_cas.2501.a
		historical_option = yes
		create_alliance = { target = scope:root_country }
		scope:root_country = { trigger_event_non_silently = { id = flavor_cas.2503 } }
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_left }
	}

	option = {
		name = flavor_cas.2201.b
		scope:root_country = { trigger_event_non_silently = { id = flavor_cas.2504 } }
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_right }
	}
}

flavor_cas.2502 = { #Native Power Informed of Our Plans
	fire_only_once = yes
	title = flavor_cas.2502.title
	desc = flavor_cas.2502.desc

	fire_only_once = yes

	historical_info = flavor_cas.2500.historical_info

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	option = {
		name = flavor_cas.2502.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_penalty
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_right }
	}

	option = {
		name = flavor_cas.2502.b
		add_casus_belli = {
			target = scope:target_country
			type = casus_belli:cb_annex
		}
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_left }
	}
}

flavor_cas.2503 = { #Alliance Accepted
	fire_only_once = yes
	title = flavor_cas.2503.title
	desc = flavor_cas.2503.desc

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	option = {
		name = flavor_cas.2503.a
		show_as_tooltip = {
			create_alliance = { target = scope:target_country }
		}
		add_casus_belli = {
			target = scope:target_enemy
			type = casus_belli:cb_annex
		}
	}
}

flavor_cas.2504 = { #Alliance Rejected
	fire_only_once = yes
	title = flavor_cas.2504.title
	desc = flavor_cas.2504.desc

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	option = {
		name = flavor_cas.2504.a
		add_prestige = prestige_mild_penalty
	}
}

flavor_cas.2600 = { #The Bourbon Reforms
	type = country_event
	title = flavor_cas.2600.title
	desc = flavor_cas.2600.desc

	historical_info = flavor_cas.2600.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		societal_value:centralization_vs_decentralization < 25
		ruler ?= {
			OR = {
				adm >= 70
				total_abilities >= 130
			}
		}
		government_type = government_type:monarchy
		has_presence_in = continent:america
	}

	option = {
		name = flavor_cas.2600.a
		historical_option = yes
		scope:target_ruler = {
			add_adm = 5
		}
		add_stability = stability_severe_penalty
		add_government_power = government_power_severe_bonus
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_huge_move_to_left }
		add_country_modifier = {
			modifier = spa_reform_momentum
			years = 20
			mode = add
		}
		custom_tooltip = flavor_cas.2600.a.tt
		set_variable = spa_enable_bourbon_reforms
	}

	option = {
		name = flavor_cas.2600.b
		add_stability = stability_mild_bonus
		add_government_power = government_power_mild_penalty
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
	}
}

flavor_cas.2601 = { #Removing Corrupt Advisors
	hide_portraits = yes
	type = country_event
	title = flavor_cas.2601.title
	desc = flavor_cas.2601.desc

	historical_info = flavor_cas.2601.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = target_ruler
		}
		random_cabinet_character = {
			limit = {
				total_abilities >= 100
				birth_location != root.capital
				birth_location.owner ?= root
			}
			save_scope_as = target_advisor
		}
		scope:target_advisor = {
			birth_location = {
				save_scope_as = corrupt_advisor_location
			}
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = spa_enable_bourbon_reforms
		any_cabinet_character = {
			total_abilities >= 130
			birth_location != root.capital
			birth_location.owner ?= root
		}
		government_type = government_type:monarchy
	}

	option = {
		name = flavor_cas.2601.a
		historical_option = yes
		add_government_power = government_power_mild_bonus
		scope:target_advisor = {
			banish_character = yes
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_severe_penalty }
	}

	option = {
		name = flavor_cas.2601.b
		add_government_power = government_power_severe_bonus
		kill_character = {
			target = scope:target_advisor
			reason = beheading
			killer = ruler
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_ultimate_penalty }
	}

	option = {
		name = flavor_cas.2601.c
		add_government_power = government_power_severe_penalty
		scope:corrupt_advisor_location = {
			change_development  = development_severe_bonus
			change_prosperity = prosperity_severe_bonus
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_severe_bonus }
	}
}

flavor_cas.2602 = { #The Intendancy System
	hide_portraits = yes
	type = country_event
	title = flavor_cas.2602.title
	desc = flavor_cas.2602.desc

	historical_info = flavor_cas.2602.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = spa_enable_bourbon_reforms
		government_type = government_type:monarchy
	}

	option = {
		name = flavor_cas.2602.a
		historical_option = yes
		unlock_government_reform_effect = { type = intendancy_system }
		if = {
			limit = {
				num_open_reform_slots >= 1
			}
			add_reform = government_reform:intendancy_system
		}
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_large_move_to_left }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_penalty }
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_severe_penalty }
	}

	option = {
		name = flavor_cas.2602.b
		add_government_power = government_power_severe_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
	}

}

flavor_cas.2603 = { #Imposing the Intendancy System on the Colonies
	hide_portraits = yes
	type = country_event
	title = flavor_cas.2603.title
	desc = flavor_cas.2603.desc

	historical_info = flavor_cas.2603.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = spa_enable_bourbon_reforms
		government_type = government_type:monarchy
		any_subject = {
			is_subject_type = colonial_nation
			capital.continent = continent:america
		}
		has_reform = government_reform:intendancy_system
	}

	option = {
		name = flavor_cas.2603.a
		historical_option = yes
		custom_tooltip = {
			text = flavor_cas.2603.a.tt
			every_subject = {
				limit = {
					is_subject_type = colonial_nation
				}
				unlock_government_reform_effect = { type = intendancy_system }
				add_reform = government_reform:intendancy_system
				add_liberty_desire = liberty_desire_severe_plus
			}
		}
	}

	option = {
		name = flavor_cas.2603.b
		add_government_power = government_power_severe_penalty
	}
}

flavor_cas.2604 = { #Colonial Dissent
	type = country_event
	title = flavor_cas.2604.title
	desc = flavor_cas.2604.desc

	historical_info = flavor_cas.2604.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = CAS
		tag = SPA
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	trigger = {
		any_subject = {
			is_subject_type = colonial_nation
			capital ?= { continent = continent:america }
			has_reform = government_reform:intendancy_system
			liberty_desire > 50
		}
	}

	option = {
		name = flavor_cas.2604.a
		historical_option = yes
		add_government_power = government_power_mild_bonus
		custom_tooltip = {
			text = flavor_cas.2604.a.tt
			every_subject = {
				limit = {
					is_subject_type = colonial_nation
					has_reform = government_reform:intendancy_system
				}
				add_liberty_desire = liberty_desire_severe_plus
			}
		}
	}

	option = {
		name = flavor_cas.2604.b
		add_government_power = government_power_severe_penalty
		custom_tooltip = {
			text = flavor_cas.2604.a.tt
			every_subject = {
				limit = {
					is_subject_type = colonial_nation
					has_reform = government_reform:intendancy_system
				}
				remove_reform = government_reform:intendancy_system
				add_liberty_desire = liberty_desire_mild_minus
			}
		}
	}
}

flavor_cas.2605 = { #American Wars of Independence - Subject
	hide_portraits = yes
	fire_only_once = yes
	type = country_event
	title = flavor_cas.2605.title
	desc = flavor_cas.2605.desc
	image = "gfx/interface/illustrations/disaster/aspiration_for_liberty.dds"
	
	historical_info = flavor_cas.2605.historical_info

	immediate = {
		save_scope_as = colonial_country
		ruler = {
			save_scope_as = colonial_ruler
		}
		overlord = {
			save_scope_as = overlord_country
			ruler = {
				save_scope_as = overlord_ruler
			}
		}
	}

	trigger = {
		OR = {
			is_subject_of = c:SPA
			is_subject_of = c:CAS
		}
		is_subject_type = colonial_nation
		has_ruler = yes
		overlord = {
			has_ruler = yes
			has_reform = government_reform:intendancy_system
		}
		liberty_desire > 50
	}

	option = {
		name = flavor_cas.2605.a
		historical_option = yes
		add_government_power = government_power_severe_bonus
		declare_war_with_cb = {	target = scope:overlord_country	type = casus_belli:cb_independence_war }
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_left }
		scope:overlord_country = {
			trigger_event_non_silently = { id = flavor_cas.2606 }
		}
	}

	option = {
		name = flavor_cas.2605.b
		add_government_power = government_power_extreme_penalty
		add_liberty_desire = liberty_desire_extreme_minus
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_right }
	}
}

flavor_cas.2606 = { #American Wars of Independence - Spain
	fire_only_once = yes
	type = country_event
	title = flavor_cas.2606.title
	desc = flavor_cas.2606.desc

	historical_info = flavor_cas.2605.historical_info

	option = {
		name = flavor_cas.2605.a
		add_stability = stability_mild_penalty
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_left }
	}
}

flavor_cas.2700 = { #Colonial Rebellion based on Tupac Amaru II event Chain
	fire_only_once = yes
	type = country_event
	title = flavor_cas.2700.title
	desc = flavor_cas.2700.desc
	image = "gfx/interface/illustrations/disaster/aspiration_for_liberty.dds"
	
	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants
  background = pop_type:peasants }
		overlord = { save_scope_as = overlord_country }
	}

	trigger = {
		has_reform = government_reform:intendancy_system
		is_subject_type = colonial_nation
		capital ?= { region = region:andes_region }
	}

	option = {
		name = flavor_cas.2700.a
		add_government_power = government_power_severe_penalty
		add_stability = stability_severe_penalty
		add_liberty_desire = liberty_desire_mild_minus
		set_variable = spa_enable_peruvian_rebellion
	}

	option = {
		name = flavor_cas.2700.b
		add_government_power = government_power_severe_bonus
		remove_reform = government_reform:intendancy_system
		add_liberty_desire = liberty_desire_extreme_plus
	}
}

flavor_cas.2701 = { #A Voice from the Highlands
	fire_only_once = yes
	type = country_event
	title = flavor_cas.2701.title
	desc = flavor_cas.2701.desc

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants
  background = pop_type:peasants }
  
		create_character = {
			first_name = Tupacamaru
			adm = { 30 50 }
			dip = { 20 40 }
			mil = { 40 80 }
			birth_date = 1545.4.14
			birth_location = location:chucuito
			culture = culture:aimara_culture
			dynasty = dynasty:hanan_qusqu_dynasty
			estate = estate_type:nobles_estate
			create_in_limbo = yes
			script = spa_tupac_amaru

			save_scope_as = target_character
		}
		create_rebel = {
			category = nationalist
			name = tupac_rebellion
			save_scope_as = tupac_rebellion
			culture = culture:aimara_culture
		}
		scope:target_character = { change_character_allegiance = scope:tupac_rebellion }
	}

	trigger = {
		has_variable = spa_enable_peruvian_rebellion
		"culture_percentage_in_country(culture:aimara_culture)" > 0
	}

	option = {
		name = flavor_cas.2701.a
		historical_option = yes
		add_stability = stability_severe_penalty
		custom_tooltip = {
			text = flavor_cas.2300.a.tt
			every_owned_location = {
				limit = {
					region = region:andes_region
				}
				every_pop = {
					limit = {
						owner = root
						culture = culture:aimara_culture
					}
					change_pop_allegiance = scope:tupac_rebellion
				}
			}
		}
		scope:tupac_rebellion = { add_rebel_progress = 0.5 }
		hidden_effect = {
			set_variable = spa_tupac_revolt
		}
	}

	option = {
		name = flavor_cas.2701.b
		add_government_power = government_power_severe_penalty
		remove_reform = government_reform:intendancy_system
		destroy_rebel = scope:tupac_rebellion
		remove_variable = spa_enable_peruvian_rebellion
	}
}

flavor_cas.2702 = { #Rebellion Crushed
	type = country_event
	title = flavor_cas.2702.title
	desc = flavor_cas.2702.desc

	fire_only_once = yes

	historical_info = flavor_cas.2702.historical_info

	trigger = {
		has_variable = spa_enable_peruvian_rebellion
		has_variable = spa_tupac_revolt
		NOT = {
			any_rebel = {
				rebel_name_key = tupac_rebellion
			}
		}
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	option = {
		name = flavor_cas.2702.a
		historical_option = yes
		set_variable = spa_execute_tupac
		add_stability = stability_severe_bonus
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_left }
		custom_tooltip = {
			text = flavor_cas.2702.a.tt
			region:andes_region = {
				every_location_in_region = {
					limit = {
						owner ?= root
					}
					every_pop = {
						limit = {
							owner = root
							culture = culture:aimara_culture
						}
						add_pop_satisfaction = pop_satisfaction_severe_penalty
					}
				}
			}
		}
	}

	option = {
		name = flavor_cas.2702.b
		historical_option = yes
		add_stability = stability_mild_bonus
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_right }
		custom_tooltip = {
			text = flavor_cas.2702.b.tt
			region:andes_region = {
				every_location_in_region = {
					limit = {
						owner ?= root
					}
					every_pop = {
						limit = {
							owner = root
							culture = culture:aimara_culture
						}
						add_pop_satisfaction = pop_satisfaction_mild_bonus
					}
				}
			}
		}
	}

	after = {
		hidden_effect = {
			remove_variable = spa_enable_peruvian_rebellion
			remove_variable = spa_tupac_revolt
		}
	}
}

flavor_cas.2703 = { #The Fate of Tupac Amaru
	type = country_event
	title = flavor_cas.2703.title
	desc = flavor_cas.2703.desc

	fire_only_once = yes

	historical_info = flavor_cas.2302.historical_info

	trigger = {
		character:spa_tupac_amaru ?= { is_alive = yes }
		has_variable = spa_execute_tupac
	}

	immediate = {
		character:spa_tupac_amaru ?= { save_scope_as = target_character }
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	option = {
		name = flavor_cas.2703.a
		historical_option = yes
		add_government_power = government_power_mild_bonus
		kill_character = {
			target = scope:target_character
			reason = execution
		}
		culture:aimara_culture = {
			change_cultural_view = {
				target = root.culture
				change = -1
			}
		}
	}

	option = {
		name = flavor_cas.2703.b
		add_stability = stability_severe_penalty
		scope:target_character = {
			banish_character = yes
		}
	}

	after = {
		hidden_effect = {
			remove_variable = spa_execute_tupac
		}
	}
}