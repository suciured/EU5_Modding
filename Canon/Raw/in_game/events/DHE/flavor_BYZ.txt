namespace = flavor_byz
flavor_byz.1 = {
	type = country_event
	title = flavor_byz.1.title
	desc = flavor_byz.1.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1300.1.1
		to = 1550.1.1
		monthly_chance = 50
	}

	trigger = {
		owns = location:venice
		owns = location:constantinople
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_byz.1.a

		location:venice = {
			every_work_of_art_in_location = {
				limit = {
					origin = location:constantinople
				}
				move_art = location:constantinople
			}
			change_prosperity = prosperity_extreme_penalty
			add_location_modifier = { modifier = chastening_of_venice years = 15 mode = add_and_extend }
		}
	}
	option = {
		name = flavor_byz.1.b

		add_prestige = prestige_severe_bonus
		location:venice = { change_prosperity = prosperity_severe_penalty }
	}
}


flavor_byz.2 = {
	type = country_event
	fire_only_once = yes
	title = flavor_byz.2.title
	desc = flavor_byz.2.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1300.1.1
		to = 1800.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	trigger = {
		religion = religion:orthodox
		own_entire_province = province_definition:attica_province
		is_integrating = province_definition:attica_province
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_byz.2.a
		add_prestige = prestige_mild_bonus

		province_definition:attica_province = {
			every_location_in_province_definition = {
				limit = {
					owner = root
				}
				change_integration_progress = 50
			}
		}
	}
}

flavor_byz.3 = {
	type = country_event
	fire_only_once = yes
	title = flavor_byz.3.title
	desc = flavor_byz.3.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1300.1.1
		to = 1800.1.1
		monthly_chance = 10
	}
	
	illustration_tags = {
		10 = happy
		10 = exterior
	}

	trigger = {
		religion = religion:orthodox
		own_entire_province = province_definition:kocaeli_province
		is_integrating = province_definition:kocaeli_province
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_byz.3.a
		add_prestige = prestige_mild_bonus

		province_definition:kocaeli_province = {
			every_location_in_province_definition = {
				limit = {
					owner = root
				}
				change_integration_progress = 50
			}
		}
	}
}

flavor_byz.4 = {
	type = country_event
	title = flavor_byz.4.title
	desc = flavor_byz.4.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1300.1.1
		to = 1800.1.1
		monthly_chance = 10
	}
		
	illustration_tags = {
		10 = happy
		10 = exterior
	}

	trigger = {
		religion = religion:orthodox
		own_entire_province = province_definition:antakya_province
		is_integrating = province_definition:antakya_province
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_byz.4.a

		add_prestige = prestige_mild_bonus
		province_definition:antakya_province = {
			every_location_in_province_definition = {
				limit = {
					owner = root
				}
				change_integration_progress = 50
			}
		}
	}
}

flavor_byz.5 = {
	type = country_event
	title = flavor_byz.5.title
	desc = flavor_byz.5.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1300.1.1
		to = 1800.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	trigger = {
		religion = religion:orthodox
		own_entire_province = province_definition:filastin_province
		is_integrating = province_definition:filastin_province
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_byz.5.a
		add_prestige = prestige_mild_bonus
		province_definition:filastin_province = {
			every_location_in_province_definition = {
				limit = {
					owner = root
				}
				change_integration_progress = 50
			}
		}

	}
}

flavor_byz.6 = {
	hide_portraits = yes
	type = country_event
	title = flavor_byz.6.title
	desc = flavor_byz.6.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1300.1.1
		to = 1800.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	trigger = {
		religion = religion:orthodox
		own_entire_province = province_definition:marittima_province
		is_integrating = province_definition:marittima_province
	}

	immediate = {
		character:fra_charlemagne = {
			save_scope_as = target_character
		}
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_byz.6.a
		add_prestige = prestige_mild_bonus
		province_definition:marittima_province = {
			every_location_in_province_definition = {
				limit = {
					owner = root
				}
				change_integration_progress = 50
			}
		}

	}
}

flavor_byz.7 = {
	type = country_event
	title = flavor_byz.7.title
	desc = flavor_byz.7.desc


	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1300.1.1
		to = 1800.1.1
		monthly_chance = 10
	}

	trigger = {
		religion = religion:orthodox
		owns = location:rome
		location:rome = {
			dominant_religion = religion:orthodox
		}
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_byz.7.a
		add_prestige = prestige_mild_bonus
		add_religious_influence = religious_influence_ultimate_bonus
	}
}


flavor_byz.8 = {
	type = country_event
	title = flavor_byz.8.title
	desc = flavor_byz.8.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1300.1.1
		to = 1800.1.1
		monthly_chance = 10
	}

	trigger = {
		region:anatolia_region = {
			any_ownable_location_in_region = {
				has_owner = yes
				NOT = {
					owner = {
						culture = culture:turkish_culture
					}
				}
				count = all
			}
		}
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
	}

	option = {
		name = flavor_byz.8.a

		custom_tooltip = {
			text = towns_and_cities_anatolia_get_pop_growth_tt
			every_owned_location = {
				limit = {
					region = region:anatolia_region
					OR = {
						location_rank = location_rank:city
						location_rank = location_rank:town
					}
				}
				add_location_modifier = { modifier = repopulation_of_anatolia_modifier years = 10 mode = add_and_extend }
			}
		}
		add_government_power = government_power_extreme_bonus
	}
}

#Western tour
flavor_byz.9 = {
	hide_portraits = yes
	type = country_event
	fire_only_once = yes
	title = flavor_byz.9.title
	desc = flavor_byz.9.desc

	dynamic_historical_event = {
		tag = BYZ
		from = 1300.1.1
		to = 1600.1.1
		monthly_chance = 5
	}

	trigger = {
		location:constantinople = { any_neighbor_location = { owner ?= c:TUR  } }
		owns = location:constantinople
		OR = { has_truce_with = c:TUR is_at_war_with = c:TUR }
		great_power_score < c:TUR.great_power_score
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		location:constantinople = { save_scope_as = target_province }

		ruler_or_regent ?= { save_scope_as = target_character }

	}

	option = {
		name = flavor_byz.9.a

		set_variable = { name = western_tour value = 1 }

		custom_tooltip = flavor_byz.9.tt

	}

	option = {
		name = flavor_byz.9.b

		add_prestige = prestige_mild_bonus

	}
}

# Western tour offers dividend
flavor_byz.10 = {
	hide_portraits = yes
	type = country_event
	title = flavor_byz.10.title
	desc = flavor_byz.10.desc


	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {

		random_country = {
			limit = {
				has_variable = donated_to_byzantium
			}
			ruler = { save_scope_as = target_character }
			save_scope_as = donated_to_byzantium
		}

		location:constantinople = {
			save_scope_as = target_province
		}

		event_illustration_government_estate_effect = yes

	}

	option = {
		name = flavor_byz.10.a

		add_gold = {
			value = scope:donated_to_byzantium.monthly_income_trade_and_tax
			multiply = 6
		}

		add_prestige = prestige_mild_penalty

		random_country = {
			limit = {
				has_variable = donated_to_byzantium
			}
			remove_variable = donated_to_byzantium
		}

	}

}

flavor_byz.11 = { #https://en.wikipedia.org/wiki/Cretan_School
	type = country_event
	title = flavor_byz.11.title
	desc = flavor_byz.11.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		tag = VEN
		from = 1444.1.1
		to = 1492.6.1
		monthly_chance = 3
	}
	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	trigger = {
		at_war = no
		trigger_if = {
			limit = { this = c:VEN }
			NOT = { country_exists = c:BYZ }
		}
		own_entire_province = province_definition:crete_province
		location:candia = {
			province = {
				any_location_in_province = {
					count = all
					controller = root
				}
			}
		}
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= { save_scope_as = target_character }
		if = {
			limit = {
				OR = {
					religion = religion:orthodox
					religion = religion:miaphysite
				}
			}
			create_character = {
				first_name = name_andrew
				last_name = Ritzos
				artist = iconographer
				birth_date = 1421.6.1
				artist_skill = 0.79
				culture = culture:greek_culture
				birth_location = location:candia
				script = byz_andreas_ritzos
				save_scope_as = target_artist
				estate = estate_type:burghers_estate
				create_in_limbo = yes
			}
		}
		else = {
			create_character = {
				first_name = name_andrew
				last_name = Ritzos
				artist = painter
				birth_date = 1421.6.1
				artist_skill = 0.79
				culture = culture:greek_culture
				birth_location = location:candia
				script = byz_andreas_ritzos
				save_scope_as = target_artist
				estate = estate_type:burghers_estate
				create_in_limbo = yes
			}
		}
	}

	option = {
		name = flavor_byz.11.a

		change_gold_effect = { scale = -3 }
		scope:target_artist = { move_country = root }
	}

	option = {
		name = flavor_byz.11.b

		culture = {
			add_cultural_tradition = cultural_tradition_severe_bonus
			add_cultural_influence = cultural_influence_severe_bonus
		}

		change_gold_effect = { scale = -1.5	}
		hidden_effect = {
   			kill_character_silently = scope:target_artist
  		}
	}

	option = {
		name = flavor_byz.11.c

		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_artist
  		}
	}
}

flavor_byz.12 = { #https://en.wikipedia.org/wiki/El_Greco
	type = country_event
	title = flavor_byz.12.title
	desc = flavor_byz.12.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		tag = VEN
		from = 1561.1.1
		to = 1577.1.1
		monthly_chance = 2
	}

	trigger = {
		trigger_if = {
			limit = { this = c:VEN }
			NOT = { country_exists = c:BYZ }
		}
		own_entire_province = province_definition:crete_province
		cultural_maintenance > 0.5
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = {
			first_name = name_dominic
			last_name = theotokopoulos
			artist = painter
			birth_date = 1541.10.1
			artist_skill = 0.87
			culture = culture:greek_culture
			birth_location = location:candia
			script = byz_el_greco
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = target_artist
		}
	}

	option = {
		name = flavor_byz.12.a
		historical_option = yes

		custom_tooltip = get_el_greco_as_painter_tt
		hidden_effect = {
			scope:target_artist = { move_country = root }
		}
		add_government_power = government_power_severe_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_extreme_bonus
		}
		change_gold_effect = { scale = -3 }
		set_global_variable = el_greco_hired
	}

	option = {
		name = flavor_byz.12.c

		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_artist
  		}
	}
}

flavor_byz.13 = { #https://en.wikipedia.org/wiki/Mystras#Centre_of_learning_and_culture
	type = country_event
	title = flavor_byz.13.title
	desc = flavor_byz.13.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1350.1.1
		to = 1400.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:mystras
		at_war = no
		location:mystras = {
			controller = ROOT
			prosperity > 0
		}
		has_advance = art_school_advance
	}

	immediate = {
		location:mystras = {
			save_scope_as = target_location
			province = { save_scope_as = target_province }
		}
	}

	option = {
		name = flavor_byz.13.a
		trigger = {
			location:mystras = {
				NOR = {
					OR = {
						has_building = building_type:art_school
						has_building = building_type:arts_academy
					}
					location_rank = location_rank:town
				}
			}
		}
		if = {
			limit = {
				location:mystras = {
					NOT = { location_rank = location_rank:town }
				}
			}
			location:mystras = { change_location_rank = location_rank:town }
		}
		if = {
			limit = {
				has_advance = arts_academy_advance
				location:mystras = {
					NOT = { has_building = building_type:arts_academy }
				}
			}
			location:mystras = {
				if = {
					limit = { has_building = building_type:art_school }
					hidden_effect = { destroy_building = "building(building_type:art_school|owner)" }
				}
				construct_building = {
					building_type = building_type:arts_academy
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
		else_if = {
			limit = {
				has_advance = art_school_advance
				location:mystras = {
					NOT = { has_building = building_type:art_school }
				}
			}
			location:mystras = {
				construct_building = {
					building_type = building_type:art_school
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
		change_gold_effect = { scale = -3 }
	}

	option = {
		name = flavor_byz.13.b
		historical_option = yes

		scope:target_location = {
			change_prosperity = prosperity_severe_bonus
		}
		scope:target_location.province = {
			every_location_in_province = {
				limit = {
					this != scope:target_location
				}
				change_prosperity = prosperity_very_weak_bonus
			}
		}
		culture = {
			add_cultural_tradition = cultural_tradition_severe_bonus
			add_cultural_influence = cultural_influence_severe_bonus
		}
		change_gold_effect = { scale = -2 }
	}

	option = {
		name = flavor_byz.13.c

		add_prestige = prestige_mild_penalty
	}
}

flavor_byz.14 = { #
	type = country_event
	title = flavor_byz.14.title
	desc = flavor_byz.14.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1338.1.1
		to = 1360.1.1
		monthly_chance = 1
	}

	trigger = {
		at_war = no
		any_owned_location = { is_coastal = yes }
		NOT = { has_estate_privilege = estate_privilege:noble_sponsored_navy }
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:burghers_estate }
		set_variable = {
			name = magnate_power
			value = "estate_power(estate_type:nobles_estate)"
		}
		change_variable = {
			name = magnate_power
			multiply = 10
			add = 2
		}
		ordered_owned_location = {
			limit = { is_coastal = yes }
			order_by = population
			max = 1
			check_range_bounds = no
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_byz.14.a

		add_gold_to_estate = {
			estate_type = estate_type:nobles_estate
			value = {
				value = monthly_income_trade_and_tax
				multiply = -4
			}
		}
		if = {
			limit = {
				NOT = { has_estate_privilege = estate_privilege:noble_sponsored_navy }
			}
			grant_estate_privilege = estate_privilege:noble_sponsored_navy
		}
		while = {
			limit = { var:magnate_power > 1 }
			scope:target_location = { create_sub_unit_of_category = sub_unit_category:navy_galley }
			change_variable = {
				name = magnate_power
				subtract = 1
			}
		}
		add_sailors = { value = monthly_sailors multiply = 6 }
		add_government_power = government_power_severe_penalty
	}

	option = {
		name = flavor_byz.14.b
		historical_option = yes

		custom_tooltip = byz_magnates_wont_offer_again_tt
		add_government_power = government_power_mild_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
	}

	after = {
		if = {
			limit = { has_variable = magnate_power }
			remove_variable = magnate_power
		}
	}
}

flavor_byz.15 = { # [ROOT.GetCountry.GetGovernment.GetRulerOrRegent.GetNameWithNoTooltip]'s Naval Reforms
	type = country_event
	title = flavor_byz.15.title
	desc = flavor_byz.15.desc
	image = "gfx/interface/illustrations/institutions/banking.dds"

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1339.1.1
		to = 1360.1.1
		monthly_chance = 2
	}

	immediate = {
		create_character = {
			first_name = name_alexis
			birth_date = 1309.6.1
			culture = culture:greek_culture
			birth_location = location:eregli
			save_scope_as = target_character
			estate = estate_type:peasants_estate
			add_trait = trait:level_headed
			add_trait = trait:ironside
			create_in_limbo = yes
		}
		ruler_or_regent ?= { save_scope_as = target_character2 }
	}

	option = {
		name = flavor_byz.15.a
		historical_option = yes

		change_gold_effect = { scale = -3 }
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_right
		}
		add_navy_tradition = navy_tradition_severe_bonus
		scope:target_character = { move_country = root }
	}

	option = {
		name = flavor_byz.15.b

		change_societal_value = {
			type = land_vs_naval
			value = societal_value_minor_move_to_left
		}
		add_prestige = prestige_mild_penalty
		hidden_effect = { kill_character_silently = scope:target_character }
	}
}

flavor_byz.16 = { #Konstantinos Armenopoulos
	type = country_event
	title = flavor_byz.16.title
	desc = flavor_byz.16.desc
	image = "gfx/interface/illustrations/institutions/legalism.dds"

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1344.1.1
		to = 1380.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	trigger = {
		owns = location:constantinople
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		#https://en.wikipedia.org/wiki/Constantine_Harmenopoulos
		create_character = {
			first_name = name_constantine
			last_name = name_armenopoulos
			culture = culture:greek_culture
			religion = religion:orthodox
			adm = 71 dip = 69 mil = 31
			birth_date = 1320.1.1
			birth_location = location:constantinople
			estate = estate_type:burghers_estate
			artist = jurist
			artist_skill = 0.55
			add_trait = trait:adept
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_byz.16.a
		historical_option = yes

		change_gold_effect = { scale = -2 }
		scope:target_character = { move_country = root }
		capital = {
			create_art = {#https://el.wikipedia.org/wiki/%CE%95%CE%BE%CE%AC%CE%B2%CE%B9%CE%B2%CE%BB%CE%BF%CF%82
				artist = scope:target_character
				quality = 60
				type = work_of_art_type:treatise
				key = hexabiblos
			}
		}
	}

	option = {
		name = flavor_byz.16.b
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
		add_prestige = prestige_weak_penalty
	}
}

flavor_byz.17 = {
	type = country_event
	title = flavor_byz.17.title
	desc = flavor_byz.17.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1650.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	trigger = {
		religious_influence >= 50
		religion = religion:orthodox
		#Wait until he dies
		character:byz_john_koukouzelis ?= {
			is_alive = no
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		character:byz_john_koukouzelis = {
			save_scope_as = john_koukouzelis
		}

	}

	option = {
		name = flavor_byz.17.a
		historical_option = yes
		trigger = {
			religious_influence >= 50
		}
		scope:john_koukouzelis = {
			make_saint = c:BYZ
		}
		add_prestige = prestige_severe_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_bonus }
		add_religious_influence = religious_influence_ultimate_penalty

	}
	option = {
		name = flavor_byz.17.b

		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}
}

flavor_byz.18 = {
	hide_portraits = yes
	type = country_event
	title = flavor_byz.18.title
	desc = flavor_byz.18.desc
	image = "gfx/interface/illustrations/situation/rise_of_the_ottomans.dds"

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		if = {
			limit = {
				any_cabinet_character ?= {
					culture = culture:greek_culture
				}
			}
			random_cabinet_character ?= {
				limit = {
					culture = culture:greek_culture
				}
				save_scope_as = target_character
			}
		}

		ordered_owned_location = {
			limit = {
				any_pop = {
					culture = culture:greek_culture
				}
			}
			order_by = population
			max = 1
			check_range_bounds = no
			save_scope_as = target_location2
		}
	}

	option = {
		name = flavor_byz.18.a

		custom_tooltip = {
			text = BYZ_FALL_OF_BYZANTIUM_CONVERSION
			every_owned_location = {
				limit = {
					any_pop = { culture = culture:greek_culture }
				}
				every_pop = {
					limit = {
						owner = root
						culture = culture:greek_culture
					}
					add_pop_satisfaction = pop_satisfaction_extreme_penalty
				}
			}
		}
	}
}

flavor_byz.19 = {
	type = country_event
	title = flavor_byz.19.title
	desc = flavor_byz.19.desc

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	fire_only_once = yes

	dynamic_historical_event = {
		tag = BYZ
		from = 1340.1.1
		to = 1400.1.1
		monthly_chance = 5
	}

	trigger = {
		c:ACH ?= {
			is_subject = no
			has_presence_in = region:balkan_region
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:peasants_estate }
		c:ACH = {
			save_scope_as = target_country
			capital = {
				save_scope_as = target_location
			}
		}
	}

	option = {
		name = flavor_byz.19.a

		add_casus_belli = {
			target = scope:target_country
			type = casus_belli:cb_conquer_province
			province = scope:target_location.province
		}
	}
}

flavor_byz.20 = { #https://en.wikipedia.org/wiki/Andronikos_III_Palaiologos#Domestic_policy
	type = country_event
	title = flavor_byz.20.title
	desc = flavor_byz.20.desc

	historical_info = flavor_byz.20.historical_info

	illustration_tags = {
		10 = interior
		10 = regular
	}

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1400.1.1
		monthly_chance = 5
	}

	trigger = {
		has_reform = government_reform:kritai_katholikoi
		owns = location:constantinople
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= { save_scope_as = target_character }
	}

	option = {
		name = flavor_byz.20.a

		add_reform = government_reform:kritai_katholikoi_reformed
		remove_reform = government_reform:kritai_katholikoi

		set_variable = byz_unlocked_reformed_kritai_katholikoi

		scope:target_character = {
			add_adm = 10
		}

		change_gold_effect = { scale = -3 }

		historical_option = yes
	}

	option = {
		name = flavor_byz.20.b

		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_right
		}
	}
}

flavor_byz.21 = { #https://en.wikipedia.org/wiki/Acritic_songs
	hide_portraits = yes
#Random character
	type = country_event
	title = flavor_byz.21.title
	desc = flavor_byz.21.desc

	illustration_tags = {
		10 = happy
		10 = interior
	}

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1340.1.1
		to = 1400.1.1
		monthly_chance = 5
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		create_character = {
			artist = composer
			artist_skill = { 0.65 0.85 }
			culture = culture:greek_culture
			birth_location = root.capital
			save_scope_as = target_artist
			birth_date = 1320.1.1
			adm = { 30 70 }
			dip = { 30 70 }
			mil = { 30 70 }
			estate = estate_type:burghers_estate
		}
	}

	historical_info = flavor_byz.21.historical_info

	trigger = {
		owns = location:constantinople
	}

	option = {
		name = flavor_byz.21.a

		location:constantinople = {
			create_art = {
				quality = 79
				type = work_of_art_type:poem
				key = acritic_songs
				artist = scope:target_artist
			}
		}
	}
}

flavor_byz.22 = { #https://en.wikipedia.org/wiki/Song_of_Armouris
	hide_portraits = yes
	type = country_event
	title = flavor_byz.22.title
	desc = flavor_byz.22.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	historical_info = flavor_byz.22.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1340.1.1
		to = 1400.1.1
		monthly_chance = 5
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		create_character = {
			artist = writer
			artist_skill = { 0.25 0.75 }
			culture = culture:greek_culture
			birth_location = root.capital
			save_scope_as = target_artist
			adm = { 30 70 }
			dip = { 30 70 }
			mil = { 30 70 }
			estate = estate_type:burghers_estate
		}
	}

	trigger = {
		owns = location:constantinople

		location:constantinople = {
			any_work_of_art_in_location = {
				this = work_of_art:song_of_armouris
			}
		}
	}

	option = {
		name = flavor_byz.22.a

		location:constantinople = {
			random_work_of_art_in_location = {
				limit = {
					this = work_of_art:song_of_armouris
				}
				change_art_quality = 15
			}
		}

	change_gold_effect = { scale = -2
		}
	}

	option = {
		name = flavor_byz.22.b

		culture = { add_cultural_influence = cultural_influence_mild_penalty }
	}
}

flavor_byz.23 = { #https://en.wikipedia.org/wiki/Constantine_XI_Palaiologos#The_Marble_Emperor
	type = country_event
	title = flavor_byz.23.title
	desc = flavor_byz.23.desc

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	fire_only_once = yes

	historical_info = flavor_byz.23.historical_info

	trigger = {
		culture = culture:greek_culture
		NOT = {
			country_exists = c:BYZ
		}
		global_var:marbled_emperor ?= {
			is_alive = no
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		global_var:marbled_emperor = { save_scope_as = target_character }
	}

	option = {
		name = flavor_byz.23.a

		custom_tooltip = {
			text = BYZ_MARBLED_EMPEROR_TOOLTIP
			scope:target_character = {
				add_adm = {
					value = 10
					add = {
						value = root.prestige
						multiply = 2
					}
					max = 100
				}
				add_dip = {
					value = 10
					add = {
						value = root.prestige
						multiply = 2
					}
					max = 100
				}
				add_mil = {
					value = 10
					add = {
						value = root.prestige
						multiply = 2
					}
					max = 100
				}
			}
		}
	}
}

flavor_byz.24 = { #https://en.wikipedia.org/wiki/Stavraton
	type = country_event
	title = flavor_byz.24.title
	desc = flavor_byz.24.desc

	illustration_tags = {
		10 = happy
		10 = interior
	}

	fire_only_once = yes

	dynamic_historical_event = {
		tag = BYZ
		from = 1367.1.1
		to = 1453.1.1
		monthly_chance = 5
	}

	historical_info = flavor_byz.24.historical_info

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		ruler_or_regent ?= { save_scope_as = target_character }
	}

	option = {
		name = flavor_byz.24.a

		add_inflation = inflation_mild_bonus

		change_societal_value = {
			type = capital_economy_vs_traditional_economy
			value = societal_value_move_to_left
		}
		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}
		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
		historical_option = yes
	}

	option = {
		name = flavor_byz.24.b

		change_societal_value = {
			type = capital_economy_vs_traditional_economy
			value = societal_value_move_to_right
		}

		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_mild_penalty
		}
		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

flavor_byz.25 = { #https://en.wikipedia.org/wiki/Gemistos_Plethon May God have mercy as to what I am about to do
	type = country_event
	title = flavor_byz.25.title
	desc = flavor_byz.25.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = BYZ
		from = 1410.1.1
		to = 1430.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	historical_info = flavor_byz.25.historical_info

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {#https://es.wikipedia.org/wiki/Plet%C3%B3n
			first_name = name_gemistos
			last_name = plethon
			artist = philosopher
			artist_skill = 0.55
			culture = culture:greek_culture
			birth_location = location:constantinople
			birth_date = 1380.8.6
			save_scope_as = target_artist
			religion = religion:hellenism_religion
			adm = 74
			dip = 63
			mil = 34
			script = greek_pagan_larper
			estate = estate_type:burghers_estate
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_byz.25.a

		historical_option = yes

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}

		location:constantinople = {
			create_art = {
				quality = 47
				type = work_of_art_type:treatise
				key = reforms_of_the_peloponnese
				artist = scope:target_artist
			}
		}

		custom_tooltip = while_remains_chance_to_revive_hellenism_tt
		scope:target_artist = { move_country = root }
	}

	option = {
		name = flavor_byz.25.b

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}

		kill_character = {
			target = scope:target_artist
			reason = beheading
			killer = ruler
		}
	}

	after = {
		religion:hellenism_religion = {
			enable_religion = yes
		}
	}
}

flavor_byz.26 = { #Alt-History, Byzantium never really reclaimed the Asia Minor coast
	type = country_event
	title = flavor_byz.26.title
	desc = flavor_byz.26.desc

	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1800.1.1
		monthly_chance = 5
	}

	fire_only_once = yes
	trigger = {
		country_exists = c:BYZ
		c:BYZ = {
			owns = location:smyrna
		}
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:burghers_estate }

		location:smyrna = {
			save_scope_as = target_location
		}

		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_byz.26.a

		scope:target_location = {
			if = {
				limit = {
					NOT = {
						dominant_culture = culture:greek_culture
					}
				}
				custom_tooltip = {
					text = BYZ_SMYRNA_PEOPLE_CONVERT_TO_GREEK
					every_pop = {
						limit = {
							owner = root
							culture != culture:greek_culture
						}
						split_pop = {
							fraction = 0.20
							culture = culture:greek_culture
						}
					}
				}
			}
			else = {
				custom_tooltip = {
					text = BYZ_SMYRNA_GREEKS_GAIN_SATISFACTION
					every_pop = {
						limit = {
							owner = root
							culture = culture:greek_culture
						}
						add_pop_satisfaction = pop_satisfaction_severe_bonus
					}
				}
			}
			change_control = control_mild_bonus
			change_development = development_mild_bonus
		}
	}
}

flavor_byz.27 = { #https://en.wikipedia.org/wiki/Palaeologan_Renaissance
#Considering the last contributions were shortly before 1337, I think making a decline for that event to be fair
	type = country_event
	title = flavor_byz.27.title
	desc = flavor_byz.27.desc
	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	historical_info = flavor_byz.27.historical_info

	fire_only_once = yes

	trigger = {
		has_ruler = yes
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1453.1.1
		monthly_chance = 5
	}

	immediate = {
		ruler_or_regent ?= {
		save_scope_as = target_character
		}
	}

	option = {
		name = flavor_byz.27.a

		add_prestige = prestige_mild_penalty

		historical_option = yes
	}

	option = {
		name = flavor_byz.27.b

		add_prestige = prestige_mild_bonus

		add_gold = {
			value = root.monthly_income_trade_and_tax
			multiply = 10
			divide = {
				value = root.ruler_or_regent.adm
				divide = 6
			}
			multiply = -1
		}

		custom_tooltip = BYZ_THE_COST_WILL_SCALE_WITH_RULERS_ADM

		set_variable = byz_continued_byzantine_renaissance_event
	}
}

flavor_byz.28 = { #New Sparta https://en.wikipedia.org/wiki/Constantine_XI_Palaiologos#Despot_of_the_Morea
#Yes, that was a genuine plan for Byzantium
	type = country_event
	title = flavor_byz.28.title
	desc = flavor_byz.28.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = BYZ
		from = 1340.1.1
		to = 1453.1.1
		monthly_chance = 1
	}

	trigger = {
		any_owned_location = {
			percent > 0.25
			area = area:morea_area
		}
	}

	immediate = {
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
		ordered_owned_location = {
			limit = {
				area = area:morea_area
			}
			order_by = population
			max = 1
			check_range_bounds = no
			save_scope_as = target_location
		}

		capital = {
			save_scope_as = target_location2
		}
		#event_illustration_estate_background_effect = { background = estate_type:crown_estate }
	}

	option = {
		name = flavor_byz.28.a

		scope:target_location = {
			change_development = development_mild_bonus
			construct_building = {
				building_type = building_type:castle
				cost_multiplier = 0.9
				cost_multiplier_reason = "military_cheap_sponsorship"
			}
		}

		change_societal_value = {
			type = offensive_vs_defensive
			value = societal_value_move_to_right
		}

		change_gold_effect = { scale = -1 }

		set_variable = morea_focus_flag
	}

	option = {
		name = flavor_byz.28.b

		change_societal_value = {
			type = offensive_vs_defensive
			value = societal_value_move_to_left
		}
	}
}

flavor_byz.29 = { #There isn't a wikipedia link about the Katholikon Mouseion sadly
	type = country_event
	title = flavor_byz.29.title
	desc = flavor_byz.29.desc

	fire_only_once = yes

	historical_info = flavor_byz.29.historical_info

	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1453.1.1
		monthly_chance = 5
	}

	trigger = {
		has_variable = byz_continued_byzantine_renaissance_event
		location:constantinople.owner ?= root
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
		location:constantinople = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_byz.29.a

		historical_option = yes

		scope:target_location = {
			if = {
				limit = {
					NOT = {
						has_building = building_type:library
					}
				}
				construct_building = {
					building_type = building_type:library
					cost_multiplier = 0.9
					cost_multiplier_reason = "academic_cheap_sponsorship"
				}
			}
			else = {
				owner ?= {
					add_research_progress = research_progress_mild_bonus
					change_gold_effect = { scale = -1 }
				}
			}
		}

		add_prestige = prestige_mild_bonus
	}

	option = {
		name = flavor_byz.29.b

		add_prestige = prestige_mild_penalty

		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
	}
}

flavor_byz.30 = { #Orthodox Church and Lutherans allying against Catholics
	type = country_event
	title = flavor_byz.30.title
	desc = flavor_byz.30.desc
	image = "gfx/interface/illustrations/situation/reformation.dds"

	fire_only_once = yes

	dynamic_historical_event = {
		tag = BYZ
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 5
	}

	trigger = {
		religion:lutheran = {
			any_country_in_religion = {
				count >= 10
			}
		}
		religion = religion:orthodox
	}

	immediate = {
		ordered_known_country = {
			limit = {
				religion = religion:lutheran
			}
			order_by = total_population
			max = 1
			check_range_bounds = no
			save_scope_as = target_country
		}

		international_organization:catholic_church.leader_country = {
			save_scope_as = target_country2
		}
	}

	option = {
		name = flavor_byz.30.a

		scope:target_country = {
			add_opinion = {
				target = ROOT
				modifier = opinion_alliance_against_pope
			}
		}
		add_opinion = {
			target = scope:target_country
			modifier = opinion_alliance_against_pope
		}

		international_organization:catholic_church.leader_country ?= {
			add_opinion = {
				target = scope:target_country
				modifier = opinion_orthodox_and_lutherans_against_us
			}
			add_opinion = {
				target = root
				modifier = opinion_orthodox_and_lutherans_against_us
			}
		}

		add_stability = {
			value = stability_mild_penalty
			add = {
				value = societal_value:spiritualist_vs_humanist
				divide = 50
			}
			subtract = {
				value = societal_value:belligerent_vs_conciliatory
				divide = 50
			}
			add = {
				value = societal_value:outward_vs_inward
				divide = 50
			}
		}
	}

	option = {
		name = flavor_byz.30.b

		scope:target_country = {
			add_opinion = {
				target = ROOT
				modifier = opinion_orthodoxy_stands_alone
			}
		}

		add_stability = {
			value = stability_mild_bonus
			subtract = {
				value = societal_value:spiritualist_vs_humanist
				divide = 50
			}
			add = {
				value = societal_value:belligerent_vs_conciliatory
				divide = 50
			}
			subtract = {
				value = societal_value:outward_vs_inward
				divide = 50
			}
		}
	}
}

flavor_byz.31 = { #Alt-history. Byzantium never really reformed their army since they died
	hide_portraits = yes
	type = country_event
	title = flavor_byz.31.title
	desc = flavor_byz.31.desc

	fire_only_once = yes

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1400.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		has_embraced_institution = institution:professional_armies
		has_reform = government_reform:theme_system
		regular_army_size >= 10
		has_ruler = yes
		any_cabinet_character = {
			count > 0
		}
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }		
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		ordered_cabinet_character = {
			order_by = mil
			max = 1
			check_range_bounds = no
			save_scope_as = cabinet_character
		}
	}

	option = {
		name = flavor_byz.31.a

		set_variable = unlocked_modern_byzantine_army

		change_societal_value = {
			type = quality_vs_quantity
			value = societal_value_move_to_left
		}

		remove_reform = government_reform:theme_system

		add_reform = government_reform:modern_imperial_army

		add_gold = {
			value = root.monthly_income_trade_and_tax
			divide = {
				value = ruler_or_regent.mil
				divide = 10
			}
			multiply = -3
		}

		custom_tooltip = BYZ_THE_COST_WILL_SCALE_WITH_RULERS_MIL
	}

	option = { #This is Byzantium at the end of the day
		name = flavor_byz.31.b


		change_societal_value = {
			type = quality_vs_quantity
			value = societal_value_move_to_right
		}

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}

		custom_tooltip = {
			text = BYZ_ALL_THEMATA_PROVINCES_GAIN_NOBLE_LOYALTY
			every_owned_location = {
				limit = {
					has_building = building_type:thema_headquarters
					any_pop = {
						pop_type = pop_type:nobles
					}
				}
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:nobles
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_bonus
				}
			}
		}
	}
}

flavor_byz.32 = { #The Grand Domestic - Trouble on the Horizon
	type = country_event
	title = flavor_byz.32.title
	desc = flavor_byz.32.desc

	fire_only_once = yes

	illustration_tags = {
		10 = interior
		10 = angry
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1340.1.1
		monthly_chance = 25
	}

	trigger = {
		legitimacy > 50
	}
	immediate = {
		event_illustration_government_estate_effect = yes
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
		ordered_character = {
			order_by = mil
			max = 1
			check_range_bounds = no
			save_scope_as = target_character2
		}
	}

	option = {
		name = flavor_byz.32.a

		scope:target_character2 = {
			add_character_modifier = {
				modifier = influential_grand_domestic
				years = -1
				mode = add_and_extend
			}
		}

		add_stability = stability_mild_penalty
		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_byz.33 = { #Question of Nationality
	hide_portraits = yes
	type = country_event
	title = flavor_byz.33.title
	desc = flavor_byz.33.desc

	fire_only_once = yes

	illustration_tags = {
		10 = exterior
		10 = regular
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1540.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	immediate = {
		#event_illustration_estate_background_effect = { background = estate_type:crown_estate }
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_byz.33.a

		if = {
			limit = {
				has_game_rule = byz_name_ere
			}
			change_country_name = BYZ
		}

		culture = {
			add_cultural_influence = cultural_influence_extreme_bonus
			add_cultural_tradition = cultural_tradition_extreme_bonus
		}

		add_prestige = prestige_extreme_penalty

		add_legitimacy = legitimacy_mild_penalty
	}

	option = {
		name = flavor_byz.33.b

		custom_tooltip = {
			text = BYZ_ALL_PRIMARY_AND_ACCEPTED_POP_BECOME_HAPPIER
			every_owned_location = {
				limit = {
					any_pop = {
						OR = {
							culture = { is_accepted_in = root }
							culture = root.culture
						}
					}
				}
				every_pop = {
					limit = {
						owner = root
						OR = {
							culture = { is_accepted_in = root }
							culture = root.culture
						}
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_bonus
				}
			}
		}
	}
}

flavor_byz.34 = { #Constantinople, the Decaying City
	hide_portraits = yes
	type = country_event
	title = flavor_byz.34.title
	desc = flavor_byz.34.desc

	fire_only_once = yes

	#illustration_tags = {
	#	10 = exterior
	#	10 = regular
	#}

	dynamic_historical_event = {
		tag = BYZ
		from = 1540.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	trigger = {
		location:constantinople.owner = root
		yearly_gold = 1000
		has_ruler = yes
	}

	immediate = {
		#event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		location:constantinople = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_byz.34.a

		scope:target_location = {
			change_development = development_mild_bonus
		}

		custom_tooltip = {
			text = BYZ_UNLOCK_CONSTANTINOPLE_MANAGER_CABINET_ACTION
			set_variable = byz_unlocked_constantinople_cabinet_action
		}

		add_gold = {
			value = monthly_income_trade_and_tax
			multiply = 10
			divide = {
				value = root.ruler_or_regent.adm
				divide = 6
			}
			multiply = -1
		}
		custom_tooltip = BYZ_THE_COST_WILL_SCALE_WITH_RULERS_ADM
	}

	option = {
		name = flavor_byz.34.b

		add_prestige = prestige_mild_penalty
	}
}

flavor_byz.35 = { #Giovanni Giustiniani
	type = country_event
	title = flavor_byz.35.title
	desc = flavor_byz.35.desc

	fire_only_once = yes

	illustration_tags = {
		10 = exterior
		10 = armed
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1438.1.1
		to = 1453.1.1
		monthly_chance = 10
	}

	trigger = {
		location:constantinople.owner = root
		location:constantinople = {
			has_building = building_type:galata
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		location:constantinople = {
			save_scope_as = target_location
		}

		create_character = {
			first_name = name_john
			last_name = giustiniani_dynasty
			culture = culture:ligurian
			birth_location = scope:target_location
			dynasty = dynasty:doria_dynasty
			birth_date = 1418.7.9
			save_scope_as = target_character2
			religion = religion:catholic
			adm = 54
			dip = 79
			mil = 88
			estate = estate_type:burghers_estate
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_byz.35.a

		change_gold_effect = { scale = -3 }
		scope:target_character2 = { move_country = root }
	}

	option = {
		name = flavor_byz.35.b

		scope:target_character2 = { banish_character = yes }
	}
}

flavor_byz.36 = { #Restoring Control in Anatolia
	type = country_event
	title = flavor_byz.36.title
	desc = flavor_byz.36.desc

	fire_only_once = yes

	illustration_tags = {
		10 = exterior
		10 = happy
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1800.1.1
		monthly_chance = 15
	}

	trigger = {
		region:anatolia_region = {
			any_location_in_region = {
				percent >= 0.9
				OR = {
					owner ?= root
					has_owner = no
					is_ownable = no
				}
			}
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_byz.36.a

		add_army_tradition = army_tradition_extreme_bonus
		ruler_or_regent ?= {
			add_mil = 10
		}
	}
}

scripted_effect construct_latest_fort_building = {
	if = {
		limit = {
			owner ?= { has_advance = fortress_advance }
		}
		construct_building = {
			building_type = building_type:fortress
			cost_multiplier = 0.6
			cost_multiplier_reason = "military_cheap_sponsorship"
		}
	}
	else_if = {
		limit = {
			owner ?= {  has_advance = star_fort_advance }
		}
		construct_building = {
			building_type = building_type:star_fort
			cost_multiplier = 0.6
			cost_multiplier_reason = "military_cheap_sponsorship"
		}
	}
	else_if = {
		limit = {
			owner ?= { has_advance = bastion_advance }
		}
		construct_building = {
			building_type = building_type:bastion
			cost_multiplier = 0.6
			cost_multiplier_reason = "military_cheap_sponsorship"
		}
	}
	else_if = {
		limit = {
			owner ?= { has_advance = castle_advance }
		}
		construct_building = {
			building_type = building_type:castle
			cost_multiplier = 0.6
			cost_multiplier_reason = "military_cheap_sponsorship"
		}
	}
}

flavor_byz.37 = { #Landing in Italy
	type = country_event
	title = flavor_byz.37.title
	desc = flavor_byz.37.desc

	fire_only_once = yes

	illustration_tags = {
		10 = exterior
		10 = regular
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1800.1.1
		monthly_chance = 30
	}

	trigger = {
		any_owned_location = {
			region = region:italy_region
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ordered_owned_location = {
			limit = {
				region = region:italy_region
			}
			order_by = population
			max = 1
			check_range_bounds = no
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_byz.37.a

	change_gold_effect = { scale = -3
		}

		scope:target_location = {
			change_development = development_mild_bonus
			change_control = control_mild_bonus
			if = {
				limit = {
					NOT = {
						building_category = defense_category
					}
				}
				construct_latest_fort_building = yes
			}
		}
	}

	option = {
		name = flavor_byz.37.b

		add_prestige = prestige_mild_penalty
	}
}

flavor_byz.38 = { #Hexamilion Wall
	type = country_event
	title = flavor_byz.38.title
	desc = flavor_byz.38.desc

	fire_only_once = yes

	illustration_tags = {
		10 = interior
		10 = regular
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1370.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	historical_info = flavor_byz.38.historical_info

	trigger = {
		has_variable = morea_focus_flag
		location:corinth.owner = root
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		unlock_building_effect = {
			type = hexamilion_wall
		}

		save_scope_as = target_country

		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_byz.38.a

		historical_option = yes

		location:corinth = {
			construct_building = {
				building_type = building_type:hexamilion_wall
			}
		}

		change_societal_value = {
			type = offensive_vs_defensive
			value = societal_value_move_to_right
		}
	}

	option = {
		name = flavor_byz.38.b

		change_societal_value = {
			type = offensive_vs_defensive
			value = societal_value_move_to_left
		}
	}
}

flavor_byz.39 = { #A New Capital
	type = country_event
	title = flavor_byz.39.title
	desc = flavor_byz.39.desc

	fire_only_once = yes

	illustration_tags = {
		10 = interior
		10 = regular
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1370.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		has_variable = morea_focus_flag
		location:constantinople.owner = root
		has_presence_in = area:morea_area
	}

	immediate = {
		#event_illustration_estate_background_effect = { background = estate_type:crown_estate }
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ordered_owned_location = {
			limit = {
				area = area:morea_area
			}
			order_by = population
			max = 1
			check_range_bounds = no
			save_scope_as = target_location
		}

		location:constantinople = {
			save_scope_as = target_location2
		}

		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		save_scope_as = target_country
	}

	option = {
		name = flavor_byz.39.a

		add_migration = {
			owner = this
			from = scope:target_location2.province_definition
			to = scope:target_location.province_definition
			amount = 0.1
			months = 50
		}

		scope:target_location = {
			change_control = control_mild_bonus
		}

	change_gold_effect = { scale = -2
		}
	}

	option = {
		name = flavor_byz.39.b

		scope:target_location2 = {
			change_development = development_mild_bonus
		}

	change_gold_effect = { scale = -1
		}
	}

	option = {
		name = flavor_byz.39.c


	}
}

flavor_byz.40 = { #Nomoi
	type = country_event
	title = flavor_byz.40.title
	desc = flavor_byz.40.desc

	fire_only_once = yes

	illustration_tags = {
		10 = interior
		10 = regular
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1400.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		character:greek_pagan_larper ?= {
			is_alive = no
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:nobles_estate }

		character:greek_pagan_larper ?= {
			save_scope_as = target_character
		}

		random_character = {
			limit = {
				is_alive = yes
				age_in_years >= 18
			}
			save_scope_as = target_character2
		}
	}

	option = {
		name = flavor_byz.40.a

		location:constantinople = {
			create_art = {
				quality = 47
				type = work_of_art_type:treatise
				key = nomoi
				artist = scope:target_character
			}
		}

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
	}

	option = {
		name = flavor_byz.40.b

		location:constantinople = {
			create_art = {
				quality = 72
				type = work_of_art_type:treatise
				key = nomoi_directors_cut
				artist = scope:target_character
			}
		}

	change_gold_effect = { scale = -1
		}

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
	}

	option = {
		name = flavor_byz.40.c

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

flavor_byz.41 = { #History of the Palaiologoi
	type = country_event
	title = flavor_byz.41.title
	desc = flavor_byz.41.desc

	fire_only_once = yes

	illustration_tags = {
		10 = interior
		10 = regular
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1430.1.1
		to = 1460.1.1
		monthly_chance = 3
	}

	trigger = {
		has_ruler = yes
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		capital = {
			save_scope_as = target_location
		}

		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		save_scope_as = target_country

		create_character = {
			first_name = name_george
			last_name = sphrantzes
			artist = writer
			artist_skill = 0.6
			culture = culture:greek_culture
			birth_location = scope:target_location
			birth_date = 1401.8.30
			save_scope_as = target_artist
			religion = religion:orthodox
			adm = 64
			dip = 56
			mil = 22
			estate = estate_type:burghers_estate
		}
	}

	option = {
		name = flavor_byz.41.a

		scope:target_location = {
			create_art = {
				quality = 50
				type = work_of_art_type:chronicle
				key = history_of_the_palaiologoi
				artist = scope:target_artist
			}
		}

		add_legitimacy = legitimacy_weak_bonus
	}

	option = {
		name = flavor_byz.41.b

		scope:target_location = {
			create_art = {
				quality = 65
				type = work_of_art_type:chronicle
				key = history_of_the_palaiologoi
				artist = scope:target_artist
			}
		}

		scope:target_artist = {
			add_artist_skill = 0.1
		}

	change_gold_effect = { scale = -2
		}

		add_legitimacy = legitimacy_mild_bonus
	}
}

flavor_byz.42 = { #https://el.wikipedia.org/wiki/Αλέξανδρος_Μαυροκορδάτος_(ο_εξ_απορρήτων) For the Greek people
#https://en.wikipedia.org/wiki/Alexander_Mavrokordatos_(1636–1709) For the non-Greek people, although it has much less detail
	type = country_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = {
					tag = BYZ
				}
				desc = flavor_byz.42.title.a
			}
			triggered_desc = {
				trigger = {
					NOT = { tag = BYZ }
				}
				desc = flavor_byz.42.title.b
			}
		}
	}
	desc = flavor_byz.42.desc
	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"

	historical_info = flavor_byz.42.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		tag = TUR
		from = 1670.1.1
		to = 1700.1.1
		monthly_chance = 3
	}

	trigger = {
		trigger_if = {
			limit = { this = c:TUR }
			NOT = { country_exists = c:BYZ }
		}
		location:constantinople = {
			owner = root
			province = {
				any_location_in_province = {
					OR = {
						has_building = building_type:art_school
						has_building = building_type:arts_academy
					}
				}
			}
		}
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_alexander
			last_name = mavrocordatos
			artist = philosopher
			birth_date = 1641.8.7
			artist_skill = 0.60
			adm = 83
			dip = 92
			mil = 12
			culture = culture:greek_culture
			birth_location = location:constantinople
			save_scope_as = target_artist
			estate = estate_type:burghers_estate
			create_in_limbo = yes
		}

		ordered_known_country = {
			limit = {
				religion = religion:catholic
			}
			order_by = prestige
			max = 1
			save_scope_as = target_country
		}

		location:constantinople = {
			save_scope_as = target_location
		}

		capital = {
			save_scope_as = target_location2
		}
	}

	option = {
		name = flavor_byz.42.a

		change_gold_effect = { scale = -2
		}

		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
			add_cultural_influence = cultural_influence_mild_bonus
		}

		scope:target_artist = {
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add_and_extend
			}
			add_random_trait_from_category = artist
			move_country = root
		}
	}

	option = {
		name = flavor_byz.42.b

		change_gold_effect = { scale = -1
		}

		scope:target_artist = {
			add_artist_skill = 0.1
			move_country = root
		}
	}

	option = {
		name = flavor_byz.42.c

		scope:target_artist = {
			move_country = scope:target_country
		}

		add_prestige = prestige_mild_penalty
	}
}

flavor_byz.43 = { #hhttps://en.wikipedia.org/wiki/Heptanese_school_(painting)
	type = country_event
	title = flavor_byz.43.title
	desc = flavor_byz.43.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		tag = VEN
		from = 1670.1.1
		to = 1700.1.1
		monthly_chance = 3
	}

	trigger = {
		trigger_if = {
			limit = { this = c:VEN }
			NOT = { country_exists = c:BYZ }
		}
		own_entire_province = province_definition:ionian_islands_province
		location:corfu = {
			province = {
				any_location_in_province = {
					count = all
					controller = root
				}
			}
		}
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_byz.43.a

		culture = {
			add_cultural_tradition = cultural_tradition_severe_bonus
			add_cultural_influence = cultural_influence_severe_bonus
		}

		change_gold_effect = { scale = -1.5
		}
	}

	option = {
		name = flavor_byz.43.b

		add_prestige = prestige_mild_penalty
	}

	option = {
		name = flavor_byz.43.c

		trigger = {
			ruler_or_regent ?= {
				has_trait = scholar
			}
		}

		create_character = {
			artist = painter
			artist_skill = 0.6
			culture = culture:greek_culture
			birth_location = location:corfu
			birth_date = 1650.1.1
			estate = estate_type:burghers_estate
		}
	}

	option = {
		name = flavor_byz.43.d

		trigger = {
			own_entire_province = province_definition:crete_province
		}

		location:candia = {
			change_development = development_mild_bonus
		}
	}
}

flavor_byz.44 = { #https://en.wikipedia.org/wiki/Philotheos_Skoufos
	type = country_event
	title = flavor_byz.44.title
	desc = flavor_byz.44.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		tag = VEN
		from = 1645.1.1
		to = 1670.1.1
		monthly_chance = 3
	}

	trigger = {
		trigger_if = {
			limit = { this = c:VEN }
			NOT = { country_exists = c:BYZ }
		}

		own_entire_province = province_definition:ionian_islands_province
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		location:corfu = {
			save_scope_as = target_location
		}

		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		create_character = {
			first_name = name_philotheos
			last_name = skoufos
			artist = painter
			artist_skill = 0.6
			birth_date = 1620.1.1
			culture = culture:greek_culture
			birth_location = scope:target_location
			save_scope_as = target_artist
			religion = religion:orthodox
			adm = 64
			dip = 56
			mil = 22
			estate = estate_type:burghers_estate
			create_in_limbo = yes
		}

		ordered_known_country = {
			limit = {
				religion = religion:catholic
			}
			order_by = prestige
			max = 1
			save_scope_as = target_country
		}
	}

	option = {
		name = flavor_byz.44.a


		change_gold_effect = { scale = -1
		}

		scope:target_artist = {
			add_artist_skill = 0.05
			move_country = root
		}
	}

	option = {
		name = flavor_byz.44.b

		scope:target_artist = {
			move_country = scope:target_country
		}

		add_prestige = prestige_mild_penalty
	}
}

flavor_byz.45 = { # Reforming the Pronoiars. Could possibly be made into a mission or anything else
	type = country_event
	title = flavor_byz.45.title
	desc = flavor_byz.45.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1360.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		has_policy = pronoia_system
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
		event_illustration_estate_background_effect = { background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_byz.45.a

		unlock_policy_effect = { type = reformed_pronoia_system }
		add_policy = policy:reformed_pronoia_system

		add_stability = {
			value = stability_mild_penalty
			add = {
				value = societal_value:centralization_vs_decentralization
				divide = 10
				multiply = -1
			}
		}
	}

	option = {
		name = flavor_byz.45.b

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

flavor_byz.46 = { #Court factions, good military outcome
	hide_portraits = yes
	type = country_event
	title = flavor_byz.46.title
	desc = flavor_byz.46.desc

	trigger = {
		NOT = { has_variable = reformed_imperial_code_flag }
		any_cabinet_character = {
			count > 0
		}
		tag = BYZ
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		random_cabinet_character ?= {
			save_scope_as = target_character2
		}

		save_scope_as = target_country
	}

	option = {
		name = flavor_byz.46.a

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}

		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_byz.46.b

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}

		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_right
		}
	}
}

flavor_byz.47 = { #Court factions, bad military outcome
	hide_portraits = yes
	type = country_event
	title = flavor_byz.47.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_variable = court_wants_quantity
				}
				desc = flavor_byz.47.desc.a
			}
			triggered_desc = {
				trigger = {
					has_variable = court_wants_quality
				}
				desc = flavor_byz.47.desc.b
			}
			triggered_desc = {
				trigger = {
					has_variable = court_wants_land
				}
				desc = flavor_byz.47.desc.c
			}
			triggered_desc = {
				trigger = {
					has_variable = court_wants_navy
				}
				desc = flavor_byz.47.desc.d
			}
		}
	}

	trigger = {
		NOT = { has_variable = reformed_imperial_code_flag }
		any_cabinet_character = {
			count > 0
		}
		tag = BYZ

		NOT = { has_variable = court_wants_quantity }
		NOT = { has_variable = court_wants_quality }
		NOT = { has_variable = court_wants_land }
		NOT = { has_variable = court_wants_navy }
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		random_cabinet_character ?= {
			save_scope_as = target_character2
		}

		remove_variable = court_wants_quantity
		remove_variable = court_wants_quality
		remove_variable = court_wants_land
		remove_variable = court_wants_navy

		random_list = { #Chooses between court wanting to move values to one side
			1 = { set_variable = court_wants_quantity }
			1 = { set_variable = court_wants_quality }
			1 = { set_variable = court_wants_land }
			1 = { set_variable = court_wants_navy }
		}
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	option = {
		name = flavor_byz.47.a

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_quantity
					has_variable = court_wants_quality
				}
			}
		}

		change_societal_value = {
			type = quality_vs_quantity
			value = societal_value_move_to_right
		}

		if = {
			limit = {
				has_variable = court_wants_quantity
			}
			add_estate_satisfaction = {
				type = estate_type:nobles_estate
				value = estate_satisfaction_mild_bonus
			}
			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:nobles_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	option = {
		name = flavor_byz.47.b

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_quantity
					has_variable = court_wants_quality
				}
			}
		}

		change_societal_value = {
			type = quality_vs_quantity
			value = societal_value_move_to_left
		}

		if = {
			limit = {
				has_variable = court_wants_quality
			}
			add_estate_satisfaction = {
				type = estate_type:nobles_estate
				value = estate_satisfaction_mild_bonus
			}
			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:nobles_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	option = {
		name = flavor_byz.47.c

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_land
					has_variable = court_wants_navy
				}
			}
		}

		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_left
		}

		if = {
			limit = {
				has_variable = court_wants_land
			}
			add_estate_satisfaction = {
				type = estate_type:nobles_estate
				value = estate_satisfaction_mild_bonus
			}
			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:nobles_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	option = {
		name = flavor_byz.47.d

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_land
					has_variable = court_wants_navy
				}
			}
		}

		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_right
		}

		if = {
			limit = {
				has_variable = court_wants_navy
			}
			add_estate_satisfaction = {
				type = estate_type:nobles_estate
				value = estate_satisfaction_mild_bonus
			}
			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:nobles_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	after = {
		remove_variable = court_wants_quantity
		remove_variable = court_wants_quality
		remove_variable = court_wants_land
		remove_variable = court_wants_navy
	}
}

flavor_byz.48 = { #Court factions, good bureaucratic outcome
	hide_portraits = yes
	type = country_event
	title = flavor_byz.48.title
	desc = flavor_byz.48.desc

	trigger = {
		NOT = { has_variable = reformed_imperial_code_flag }
		any_cabinet_character = {
			count > 0
		}
		tag = BYZ
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		random_cabinet_character ?= {
			save_scope_as = target_character2
		}
	}

	option = {
		name = flavor_byz.48.a

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}

		change_societal_value = {
			type = aristocracy_vs_plutocracy
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_byz.48.b

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}

		change_societal_value = {
			type = aristocracy_vs_plutocracy
			value = societal_value_move_to_right
		}
	}
}

flavor_byz.49 = { #Court factions, bad bureaucratic outcome
	hide_portraits = yes
	type = country_event
	title = flavor_byz.49.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_variable = court_wants_aristocracy
				}
				desc = flavor_byz.49.desc.a
			}
			triggered_desc = {
				trigger = {
					has_variable = court_wants_plutocracy
				}
				desc = flavor_byz.49.desc.b
			}
			triggered_desc = {
				trigger = {
					has_variable = court_wants_outward
				}
				desc = flavor_byz.49.desc.c
			}
			triggered_desc = {
				trigger = {
					has_variable = court_wants_inward
				}
				desc = flavor_byz.49.desc.d
			}
		}
	}

	trigger = {
		NOT = { has_variable = reformed_imperial_code_flag }
		any_cabinet_character = {
			count > 0
		}
		tag = BYZ

		NOT = { has_variable = court_wants_aristocracy }
		NOT = { has_variable = court_wants_plutocracy }
		NOT = { has_variable = court_wants_outward }
		NOT = { has_variable = court_wants_inward }
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		random_cabinet_character ?= {
			save_scope_as = target_character2
		}

		random_list = { #Chooses between court wanting to move values to one side
			1 = { set_variable = court_wants_aristocracy }
			1 = { set_variable = court_wants_plutocracy }
			1 = { set_variable = court_wants_outward }
			1 = { set_variable = court_wants_inward }
		}
		event_illustration_government_estate_effect = yes
	}

	option = {
		name = flavor_byz.49.a

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_aristocracy
					has_variable = court_wants_plutocracy
				}
			}
		}

		change_societal_value = {
			type = aristocracy_vs_plutocracy
			value = societal_value_move_to_left
		}

		if = {
			limit = {
				has_variable = court_wants_aristocracy
			}
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_mild_bonus
			}

			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	option = {
		name = flavor_byz.49.b

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_aristocracy
					has_variable = court_wants_plutocracy
				}
			}
		}

		change_societal_value = {
			type = aristocracy_vs_plutocracy
			value = societal_value_move_to_right
		}

		if = {
			limit = {
				has_variable = court_wants_plutocracy
			}
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_mild_bonus
			}
			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	option = {
		name = flavor_byz.49.c

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_inward
					has_variable = court_wants_outward
				}
			}
		}

		if = {
			limit = {
				NOR = {
					current_age = age_1_traditions
					current_age = age_2_renaissance
				}
			}
			change_societal_value = {
				type = outward_vs_inward
				value = societal_value_move_to_left
			}
		}
		else = {
			add_prestige = prestige_weak_penalty
		}

		if = {
			limit = {
				has_variable = court_wants_outward
			}
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_mild_bonus
			}
			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	option = {
		name = flavor_byz.49.d

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_inward
					has_variable = court_wants_outward
				}
			}
		}

		if = {
			limit = {
				NOR = {
					current_age = age_1_traditions
					current_age = age_2_renaissance
				}
			}
			change_societal_value = {
				type = outward_vs_inward
				value = societal_value_move_to_right
			}
		}
		else = {
			add_prestige = prestige_weak_penalty
		}

		if = {
			limit = {
				has_variable = court_wants_inward
			}
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_mild_bonus
			}
			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	after = {
		remove_variable = court_wants_aristocracy
		remove_variable = court_wants_plutocracy
		remove_variable = court_wants_inward
		remove_variable = court_wants_outward
	}
}

flavor_byz.50 = { #Court factions, good trade outcome
	hide_portraits = yes
	type = country_event
	title = flavor_byz.50.title
	desc = flavor_byz.50.desc

	trigger = {
		NOT = { has_variable = reformed_imperial_code_flag }
		any_cabinet_character = {
			count > 0
		}
		tag = BYZ
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		random_cabinet_character ?= {
			save_scope_as = target_character2
		}
	}

	option = {
		name = flavor_byz.50.a

		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}

		if = {
			limit = {
				current_age_or_later = { age = age_4_reformation }
			}
			change_societal_value = {
				type = mercantilism_vs_free_trade
				value = societal_value_move_to_left
			}
		}
		else = {
			add_prestige = prestige_weak_bonus
		}
	}

	option = {
		name = flavor_byz.50.b

		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}

		if = {
			limit = {
				current_age_or_later = { age = age_4_reformation }
			}
			change_societal_value = {
				type = mercantilism_vs_free_trade
				value = societal_value_move_to_right
			}
		}
		else = {
			add_stability = stability_weak_bonus
		}
	}
}

flavor_byz.51 = { #Court factions, bad trade outcome
	hide_portraits = yes
	type = country_event
	title = flavor_byz.51.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_variable = court_wants_free_trade
				}
				desc = flavor_byz.51.desc.a
			}
			triggered_desc = {
				trigger = {
					has_variable = court_wants_mercantilism
				}
				desc = flavor_byz.51.desc.b
			}
			triggered_desc = {
				trigger = {
					has_variable = court_wants_capitalism
				}
				desc = flavor_byz.51.desc.c
			}
			triggered_desc = {
				trigger = {
					has_variable = court_wants_traditionalism
				}
				desc = flavor_byz.51.desc.d
			}
		}
	}

	trigger = {
		NOT = { has_variable = reformed_imperial_code_flag }
		any_cabinet_character = {
			count > 0
		}
		tag = BYZ
		NOT = { has_variable = court_wants_free_trade }
		NOT = { has_variable = court_wants_mercantilism }
		NOT = { has_variable = court_wants_capitalism }
		NOT = { has_variable = court_wants_traditionalism }
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		random_cabinet_character ?= {
			save_scope_as = target_character2
		}

		random_list = { #Chooses between estates wanting to move values to one side
			1 = { set_variable = court_wants_free_trade }
			1 = { set_variable = court_wants_mercantilism }
			1 = { set_variable = court_wants_capitalism }
			1 = { set_variable = court_wants_traditionalism }
		}
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:nobles_estate }

	}

	option = {
		name = flavor_byz.51.a

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_free_trade
					has_variable = court_wants_mercantilism
				}
			}
		}

		if = {
			limit = {
				current_age_or_later = { age = age_4_reformation }
			}
			change_societal_value = {
				type = mercantilism_vs_free_trade
				value = societal_value_move_to_left
			}
		}
		else = {
			add_prestige = prestige_weak_penalty
		}

		if = {
			limit = {
				has_variable = court_wants_free_trade
			}
			add_estate_satisfaction = {
				type = estate_type:burghers_estate
				value = estate_satisfaction_mild_bonus
			}
			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:burghers_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	option = {
		name = flavor_byz.51.b

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_free_trade
					has_variable = court_wants_mercantilism
				}
			}
		}

		if = {
			limit = {
				current_age_or_later = { age = age_4_reformation }
			}
			change_societal_value = {
				type = mercantilism_vs_free_trade
				value = societal_value_move_to_right
			}
		}
		else = {
			add_stability = stability_weak_bonus
		}

		if = {
			limit = {
				has_variable = court_wants_mercantilism
			}
			add_estate_satisfaction = {
				type = estate_type:burghers_estate
				value = estate_satisfaction_mild_bonus
			}
			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:burghers_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	option = {
		name = flavor_byz.51.c

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_capitalism
					has_variable = court_wants_traditionalism
				}
			}
		}

		change_societal_value = {
			type = capital_economy_vs_traditional_economy
			value = societal_value_move_to_left
		}

		if = {
			limit = {
				has_variable = court_wants_capitalism
			}
			add_estate_satisfaction = {
				type = estate_type:burghers_estate
				value = estate_satisfaction_mild_bonus
			}

			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:burghers_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	option = {
		name = flavor_byz.51.d

		trigger = {
			custom_tooltip = {
				text = byz_court_wants_to_force_societal_changes
				OR = {
					has_variable = court_wants_capitalism
					has_variable = court_wants_traditionalism
				}
			}
		}

		change_societal_value = {
			type = capital_economy_vs_traditional_economy
			value = societal_value_move_to_right
		}

		if = {
			limit = {
				has_variable = court_wants_traditionalism
			}
			add_estate_satisfaction = {
				type = estate_type:burghers_estate
				value = estate_satisfaction_mild_bonus
			}

			add_legitimacy = legitimacy_mild_penalty
		}
		else = {
			add_estate_satisfaction = {
				type = estate_type:burghers_estate
				value = estate_satisfaction_mild_penalty
			}
		}
	}

	after = {
		remove_variable = court_wants_free_trade
		remove_variable = court_wants_mercantilism
		remove_variable = court_wants_traditionalism
		remove_variable = court_wants_capitalism
	}
}

flavor_byz.52 = { #Reforming the Justinian Code. Getting rid of the court influence
	hide_portraits = yes
	type = country_event
	title = flavor_byz.52.title
	desc = flavor_byz.52.desc

	dynamic_historical_event = {
		tag = BYZ
		from = 1454.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	fire_only_once = yes

	trigger = {
		NOT = { has_variable = reformed_imperial_code_flag }
		any_cabinet_character = {
			count > 0
		}
		tag = BYZ
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:nobles background = pop_type:nobles }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		random_cabinet_character ?= {
			save_scope_as = target_character2
		}
	}

	option = {
		name = flavor_byz.52.a

		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_left
		}

		custom_tooltip = {
			text = BYZ_NO_MORE_COURT_EVENTS
			set_variable = reformed_imperial_code_flag
		}

	change_gold_effect = { scale = -2
		}
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_mild_penalty
		}
	}

	option = {
		name = flavor_byz.52.b

		custom_tooltip = BYZ_COURT_EVENTS_WILL_CONTINUE

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

flavor_byz.53 = { #Re-fortifying Theodosian Walls
	hide_portraits = yes
	type = country_event
	title = flavor_byz.53.title
	desc = flavor_byz.53.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		location:constantinople.owner = root
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		location:constantinople = {
			save_scope_as = target_province
		}

		set_variable = strengthened_theodosian_walls
	}

	option = { #Restore the city's walls to their old glory
		name = flavor_byz.53.a

		change_societal_value = {
			type = offensive_vs_defensive
			value = societal_value_move_to_right
		}

		scope:target_province = {
			change_building_level_in_location = {
				building = building_type:theodosian_walls
				value = 1
			}
		}

	change_gold_effect = { scale = -4
		}
	}

	option = { #Fortifying the city when the lands around us are threatened is not a goodidea
		name = flavor_byz.53.b

		change_societal_value = {
			type = offensive_vs_defensive
			value = societal_value_move_to_left
		}
	}
}

flavor_byz.54 = { #Dealing with Italian Influence
	hide_portraits = yes
	type = country_event
	title = flavor_byz.54.title
	desc = flavor_byz.54.desc
	image = "gfx/interface/icons/trade_goods/illustrations/_default.dds"

	fire_only_once = yes

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1400.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		location:constantinople.owner = root
		location:constantinople = {
			OR = {
				has_building = building_type:galata
				has_building = building_type:venetian_quarter
			}
		}
	}

	immediate = {
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		location:constantinople = {
			save_scope_as = target_location
			market = {
				save_scope_as = target_market
			}
			random_buildings_in_location = {
				limit = {
					building_type = building_type:galata
				}
				owner = {
					save_scope_as = target_country
				}
			} 
			random_buildings_in_location = {
				limit = {
					building_type = building_type:venetian_quarter
				}
				owner = {
					save_scope_as = target_country2
				}
			} 
		}
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_byz.54.a

		custom_tooltip = {
			text = byz_destroy_italian_quarters_tt
			scope:target_location = {
				destroy_building = "building(building_type:galata|scope:target_country)"
				destroy_building = "building(building_type:venetian_quarter|scope:target_country2)"
			}
		}

		if = {
			limit = {
				any_owned_location = {
					any_pop = {
						pop_type = pop_type:burghers
						culture = { has_culture_group = culture_group:italian_group }
					}
				}
			}
			custom_tooltip = {
				text = BYZ_ALL_ITALIAN_MERCHANTS_BECOME_UNHAPPY
				every_owned_location = {
					limit = {
						any_pop = {
							pop_type = pop_type:burghers
							culture = { has_culture_group = culture_group:italian_group }
						}
					}
					every_pop = {
						limit = {
							owner = root
							pop_type = pop_type:burghers
							culture = { has_culture_group = culture_group:italian_group }
						}
						add_pop_satisfaction = pop_satisfaction_extreme_penalty
					}
				}
			}
		}

		if = {
			limit = {
				country_exists = c:GEN
			}
			c:GEN = {
				add_opinion = {
					modifier = opinion_kicked_out_italians
					target = root
				}
			}
		}
		if = {
			limit = {
				country_exists = c:VEN
			}
			c:VEN = {
				add_opinion = {
					modifier = opinion_kicked_out_italians
					target = root
				}
			}
		}
	}

	option = {
		name = flavor_byz.54.b


		if = {
			limit = {
				country_exists = c:GEN
			}
			c:GEN = {
				add_opinion = {
					modifier = opinion_allowed_italian_influence_in_constantinople
					target = root
				}
			}
		}
		if = {
			limit = {
				country_exists = c:VEN
			}
			c:VEN = {
				add_opinion = {
					modifier = opinion_allowed_italian_influence_in_constantinople
					target = root
				}
			}
		}
	}
}

flavor_byz.55 = { #Become, *shudders*, Catholic
	type = country_event
	title = flavor_byz.55.title
	desc = flavor_byz.55.desc
	image = "gfx/interface/illustrations/international_organization_types/catholic_church.dds"

	fire_only_once = yes

	trigger = {
		is_great_power = no
		religion = religion:orthodox
		#When the Council of Florence is made, there should be a trigger for it to be ongoing
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1400.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	immediate = {
		ruler_or_regent ?= {
			save_scope_as = target_character
		}

		international_organization:catholic_church.leader_country = {
			save_scope_as = target_country
		}

		international_organization:catholic_church.leader_country.ruler_or_regent ?= {
			save_scope_as = target_character2
		}
	}

	option = { #Convert to Catholic
		name = flavor_byz.55.a

		change_religion = religion:catholic
		change_religion_for_ruler_and_family = { country = ROOT religion = religion:catholic }

		scope:target_country = {
			add_opinion = {
				modifier = opinion_joined_catholicism
				target = root
			}
		}

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_radical_penalty #No one would like it
		}

		international_organization:catholic_church = {
			add_country_to_international_organization = root
		}

		custom_tooltip = {
			text = BYZ_ALL_ORTHODOX_BECOME_UNHAPPY
			every_owned_location = {
				limit = {
					any_pop = {
						religion = religion:orthodox
					}
				}
				every_pop = {
					limit = {
						owner = root
						religion = religion:orthodox
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
				}
			}
		}
	}

	option = { #Stay Orthodox
		name = flavor_byz.55.b

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_extreme_bonus
		}
	}
}

#Restore Greek Cities in Anatolia
flavor_byz.57 = {
	type = country_event
	title = flavor_byz.57.title
	desc = flavor_byz.57.desc

	fire_only_once = yes

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	trigger = {
		culture = { has_culture_group = culture_group:greek_group }
		region:anatolia_region = {
			any_location_in_region = {
				percent = 1
				OR = {
					owner ?= root
					has_owner = no
					is_ownable = no
				}
			}
		}
	}
	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	option = { #Let us restore these cities
		name = flavor_byz.57.a

		custom_tooltip = {
			text = BYZ_RESTORE_GREEK_POPS_IN_ANATOLIAN_CITIES
			every_owned_non_rural_location = {
				limit = {
					region = region:anatolia_region
				}
				every_pop = {
					limit = {
						owner = root
						NOT = { culture = { has_culture_group = culture_group:greek_group } }
					}
					split_pop = {
						fraction = 0.1
						culture = root.culture
					}
				}
			}
		}
	}
	option = {
		name = flavor_byz.57.b

		custom_tooltip = {
			text = BYZ_ACCEPT_LOCAL_POPULATION
			every_owned_non_rural_location = {
				limit = {
					region = region:anatolia_region
				}
				every_pop = {
					limit = {
						owner = root
						NOT = { culture = { has_culture_group = culture_group:greek_group } }
					}
					add_pop_satisfaction = pop_satisfaction_extreme_bonus
				}
			}
		}
	}
}

#Some other court events?
#Something about returning in Crimea
#Something relating to Trebizond?
#Grikos event for if Byzantium ever returns in Italy

scripted_trigger owns_controls_gallipoli_neightboor_location = {
	#Neighboor locations of Gallipoli (including sea neighboors)
	OR = {
		OR = {
			owns = location:lapseki
			controls = location:lapseki
		}
		OR = {
			owns = location:canakkale
			controls = location:canakkale
		}
		OR = {
			owns = location:imbros
			controls = location:imbros
		}
		OR = {
			owns = location:rodoscuk
			controls = location:rodoscuk
		}
		OR = {
			owns = location:kesan
			controls = location:kesan
		}
		OR = {
			owns = location:enez
			controls = location:enez
		}
		OR = {
			owns = location:biga
			controls = location:biga
		}
	}
}

scripted_trigger is_turkish_nemesis = {
	culture = culture:turkish_culture
	is_rival_of = root
	owns_controls_gallipoli_neightboor_location = yes
}

flavor_byz.1000 = { #The Guns of Orbán - Be mindful - connected to flavor_byz.1001
	type = country_event
	title = flavor_byz.1000.title
	desc = flavor_byz.1000.desc
	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_cannons.dds"

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1420.1.1
		to = 1460.1.1
		monthly_chance = 10
	}

	historical_info = flavor_byz.1000.historical_info

	trigger = {
		owns = location:constantinople
		capital = location:constantinople

		any_neighbor_country = {
			is_turkish_nemesis = yes
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		location:constantinople = {
			save_scope_as = target_location
		}

		ordered_neighbor_country = {
			limit = {
				is_turkish_nemesis = yes
			}
			order_by = total_population
			max = 1

			save_scope_as = turkish_nemesis
		}

		create_character = {
			first_name = name_urban
			last_name = Magyar
			adm = 55
			dip = 30
			mil = 60
			birth_date = 1395.1.1
			culture = culture:hungarian
			birth_location = location:targoviste
			script = byz_orban_cannon_maker
			save_scope_as = cannon_maker
			estate = estate_type:burghers_estate
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_byz.1000.a

	change_gold_effect = { scale = -4
		}
		capital.market = {
			add_temporary_demand = {
				type = demand:great_bombard
				months = 48
			}
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_mild_penalty
		}

		add_country_modifier = { modifier = orbans_bombard_modifier years = 30 mode = add_and_extend }

		scope:cannon_maker = {
			move_country = root
		}
	}

	option = {
		name = flavor_byz.1000.b
		historical_option = yes

		custom_tooltip = orban_goes_elsewhere.tt

		hidden_effect = {
			scope:turkish_nemesis = {
				trigger_event_non_silently = {
					id = flavor_byz.1001
					days = { 10 20 }
				}
			}
		}
	}
}

#Event for the Turkish Nemesis
flavor_byz.1001 = { #The Bane of Babylon - # This event is triggered by flavor_byz.1000
	type = country_event
	title = flavor_byz.1001.title
	desc = flavor_byz.1001.desc
	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_cannons.dds"

	historical_info = flavor_byz.1001.historical_info


	trigger = {
		country_exists = c:BYZ #just to prevent bugs
	}

	immediate = {

		location:constantinople = {
			save_scope_as = target_location
		}

		c:BYZ = {
			save_scope_as = target_country
		}

		capital = {
			save_scope_as = capital_location
		}
	}

	option = {
		name = flavor_byz.1001.a
		historical_option = yes

	change_gold_effect = { scale = -4
		}
		capital.market = {
			add_temporary_demand = {
				type = demand:great_bombard
				months = 48
			}
		}

		add_country_modifier = { modifier = orbans_bombard_modifier years = 30 mode = add_and_extend }

		scope:cannon_maker = {
			move_country = root
		}
	}

	option = {
		name = flavor_byz.1001.b

	change_gold_effect = { scale = -1
		}

		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}

		hidden_effect = {
   			kill_character_silently = scope:cannon_maker
  		}
	}
}

flavor_byz.1100 = { #
	type = country_event
	title = flavor_byz.1100.title
	desc = flavor_byz.1100.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1338.1.1
		to = 1350.1.1
		monthly_chance = 10
	}

	trigger = {
		character:byz_barlaam_of_seminara ?= {
			is_alive = yes
			owner = ROOT
		}
		owns = location:mount_athos
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		location:mount_athos = {
			event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
			save_scope_as = target_location
		}

		character:byz_barlaam_of_seminara ?= {
			save_scope_as = target_character
			set_variable = hesychasm_activated_variable
		}
		ordered_known_country = {
			limit = {
				religion = religion:orthodox
				this != ROOT
			}
			order_by = religious_influence
			max = 1
			save_scope_as = target_country
		}

	}

	option = { #Leave him alone
		name = flavor_byz.1100.a
		historical_option = yes

		custom_tooltip = byz_may_trigger_other_event_tt
		add_stability = stability_mild_penalty
	}

	option = {	#Banish him
		name = flavor_byz.1100.b

		scope:target_character = {
			move_country = scope:target_country
		}
		scope:target_country = { trigger_event_silently = flavor_byz.1101 }
		custom_tooltip = slightly_worsen_relations_with_all_orthodox_tt
		hidden_effect = {
			every_known_country = {
				limit = { religion = religion:orthodox }
				add_opinion = {
					target = ROOT
					modifier = opinion_religious_hostilities
				}
			}
		}
	}

	option = {	#Off with his head!
		name = flavor_byz.1100.c

		kill_character = {
			target = scope:target_character
			reason = beheading
			killer = ruler
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_severe_bonus
		}
		add_religious_influence_if_valid = { VALUE = religious_influence_mild_penalty }
		custom_tooltip = worsen_relations_with_all_orthodox_tt
		hidden_effect = {
			every_known_country = {
				limit = { religion = religion:orthodox }
				add_opinion = {
					target = ROOT
					modifier = opinion_religious_hostilities
					scale = 2
				}
			}
		}
	}
}

flavor_byz.1101 = {
	type = country_event
	title = flavor_byz.1101.title
	desc = flavor_byz.1101.desc
	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		capital = { save_scope_as = target_location }
		c:BYZ = {
			save_scope_as = target_country
			ruler_or_regent ?= { save_scope_as = target_character3 }
		}
	}

	option = {
		name = flavor_byz.1101.a
		add_religious_influence_if_valid = { VALUE = religious_influence_mild_bonus }
	}
}

flavor_byz.1102 = { #
	hide_portraits = yes
	type = country_event
	title = flavor_byz.1102.title
	desc = flavor_byz.1102.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1340.1.1
		to = 1365.1.1
		monthly_chance = 2
	}

	trigger = {
		character:byz_barlaam_of_seminara ?= {
			is_alive = yes
			owner = ROOT
			has_variable = hesychasm_activated_variable
		}
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		capital = { save_scope_as = target_location }
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ordered_known_country = {
			limit = {
				religion = religion:catholic
				this != ROOT
			}
			order_by = religious_influence
			max = 1
			save_scope_as = target_country
		}
		character:byz_barlaam_of_seminara ?= { save_scope_as = target_character }
		ordered_character = {
			limit = {
				religion = religion:orthodox
				has_estate = estate_type:clergy_estate
				is_ruler = no
				is_regent = no
				NOT = { has_variable = hesychasm_activated_variable }
			}
			order_by = {
				value = total_abilities
			}
			save_scope_as = target_character2
		}
		ruler_or_regent ?= { save_scope_as = target_character3 }
	}

	option = {
		name = flavor_byz.1102.a
		historical_option = yes

		add_religious_influence_if_valid = { VALUE = religious_influence_severe_penalty }
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_radical_penalty
		}
	}

	option = {
		name = flavor_byz.1102.b

		scope:target_character = {
			move_country = scope:target_country
		}
		scope:target_country = { trigger_event_silently = flavor_byz.1101 }
		add_stability = stability_severe_penalty
		add_religious_influence_if_valid = { VALUE = religious_influence_weak_bonus }
	}
}

flavor_byz.1200 = { #A hand for peace
	type = country_event
	title = flavor_byz.1200.title
	desc = flavor_byz.1200.desc
	historical_info = flavor_byz.1200.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BYZ
		from = 1340.1.1
		to = 1365.1.1
		monthly_chance = 10
	}

	trigger = {
		ruler ?= {
			any_child = {
				character_can_marry_trigger = yes
				is_female = yes
			}
		}
		c:TUR.ruler_or_regent ?= {
			character_can_marry_trigger = yes
		}
		NOT = { is_at_war_with = c:TUR }
		is_subject = no
		NOR = {
			is_rival_of = c:TUR
			is_enemy_of = c:TUR
		}
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler ?= {
			random_child = {
				limit = {
					character_can_marry_trigger = yes
					is_female = yes
				}
				save_scope_as = theodora_scope
			}
		}
		c:TUR.ruler_or_regent ?= {
			save_scope_as = orhan_scope
		}
		character:byz_theodora_kantakouzene ?= {
			save_scope_as = theodora_scope
		}
	}

	option = {
		name = flavor_byz.1200.a
		historical_option = yes

		c:TUR = {
			trigger_event_non_silently = { id = flavor_byz.1201 }
		}
	}

	option = {
		name = flavor_byz.1200.b
		add_opinion = { target = c:TUR modifier = opinion_irritated }
	}
}

flavor_byz.1201 = { #
	type = country_event
	title = flavor_byz.1201.title
	desc = flavor_byz.1201.desc

	fire_only_once = yes
	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		character:byz_theodora_kantakouzene ?= {
			save_scope_as = theodora_scope
		}
		c:TUR.ruler_or_regent ?= {
			save_scope_as = orhan_scope
		}
	}

	option = {
		name = flavor_byz.1201.a
		historical_option = yes

		scope:orhan_scope = {
			marry_character = scope:theodora_scope
		}
		c:BYZ = {
			remove_rival = c:TUR
			trigger_event_non_silently = { id = flavor_byz.1202 }
		}
		remove_rival = c:BYZ
		create_alliance = { target = c:BYZ }
		add_opinion_mutual_effect = {
			target = c:BYZ
			modifier = opinion_dynastic_allies
		}
	}

	option = {
		name = flavor_byz.1201.b
		add_opinion = { target = c:BYZ modifier = opinion_irritated }
		c:BYZ = {
			trigger_event_non_silently = { id = flavor_byz.1203 }
		}
	}
}

flavor_byz.1202 = { #
	type = country_event
	title = flavor_byz.1202.title
	desc = flavor_byz.1202.desc

	fire_only_once = yes
	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		character:byz_theodora_kantakouzene ?= {
			save_scope_as = theodora_scope
		}
		character:tur_orhan ?= {
			save_scope_as = orhan_scope
		}
	}

	option = {
		name = flavor_byz.1202.a
		add_prestige = prestige_mild_bonus
	}
}

flavor_byz.1203 = { #
	hide_portraits = yes
	type = country_event
	title = flavor_byz.1203.title
	desc = flavor_byz.1203.desc

	fire_only_once = yes
	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		character:byz_theodora_kantakouzene ?= {
			save_scope_as = theodora_scope
		}
		character:tur_orhan ?= {
			save_scope_as = orhan_scope
		}
	}

	option = {
		name = flavor_byz.1203.a
		add_prestige = prestige_mild_penalty
	}
}


flavor_byz.1300 = { #Inviting Merchants to Populate Constantinople
	hide_portraits = yes
	type = country_event
	title = flavor_byz.1300.title
	desc = flavor_byz.1300.desc
	image = "gfx/interface/illustrations/situation/black_death.dds"

	historical_info = flavor_byz.1300.historical_info

	fire_only_once = yes

	illustration_tags = {
		10 = interior
		10 = regular
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1350.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		country_exists = c:BYZ
		had_situation_trigger = { situation = black_death }
		OR = {
			country_exists = c:VEN
			country_exists = c:GEN
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		location:constantinople = {
			save_scope_as = target_location
		}

		save_scope_as = target_country

		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_byz.1300.a

		c:VEN ?= {
			trigger_event_non_silently = { id = flavor_byz.1301 days = 1 }
		}

		c:GEN ?= {
			trigger_event_non_silently = { id = flavor_byz.1301 days = 1 }
		}

		add_stability = {
			value = stability_mild_penalty
			if = {
				limit = {
					NOR = {
						current_age = age_1_traditions
						current_age = age_2_renaissance
					}
				}
				add = {
					value = societal_value:outward_vs_inward
					divide = 20
					multiply = -1
				}
			}
		}

		set_variable = requested_aid_from_italian_merchants

		historical_option = yes
	}

	option = {
		name = flavor_byz.1300.b

		add_stability = {
			value = stability_mild_bonus
			if = {
				limit = {
					NOR = {
						current_age = age_1_traditions
						current_age = age_2_renaissance
					}
				}
				add = {
					value = societal_value:outward_vs_inward
					divide = 20
				}
			}
		}
	}
}

flavor_byz.1301 = { #Invitation event for the Italian Republics
	hide_portraits = yes
	type = country_event
	title = flavor_byz.1301.title
	desc = flavor_byz.1301.desc

	historical_info = flavor_byz.1301.historical_info

	illustration_tags = {
		10 = exterior
		10 = happy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character2
		}

		save_scope_as = target_country2

		capital = {
			save_scope_as = target_location2
		}
	}

	option = {
		name = flavor_byz.1301.a

		historical_option = yes

		add_migration = {
			owner = this
			from = root.capital.province_definition
			to = scope:target_location.province_definition
			culture = root.culture
			amount = 0.01
			months = 100
			type = pop_type:burghers
		}

		if = {
			limit = {
				this = c:VEN
			}
			scope:target_location = {
				change_building_level_in_location = {
					building = building_type:venetian_quarter
					value = 1
				}
			}
		}
		else_if = {
			limit = {
				this = c:GEN
			}
			scope:target_location = {
				change_building_level_in_location = {
					building = building_type:galata
					value = 1
				}
			}
		}

		c:BYZ ?= {
			trigger_event_silently = { id = flavor_byz.1302 days = 1 }
		}
	}

	option = {
		name = flavor_byz.1301.b

		c:BYZ ?= {
			trigger_event_silently = { id = flavor_byz.1303 days = 1 }
		}
	}
}

flavor_byz.1302 = { #Answer event - Positive
	hide_portraits = yes
	type = country_event
	title = flavor_byz.1302.title
	desc = flavor_byz.1302.desc

	illustration_tags = {
		10 = interior
		10 = happy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_byz.1302.a

		show_as_tooltip = {
			add_migration = {
			owner = scope:target_country2
			from = scope:target_location2.province_definition
			to = scope:target_location.province_definition
			culture = scope:target_country2.culture
			amount = 0.01
			months = 100
			type = pop_type:burghers
		}
		}
	}
}

flavor_byz.1303 = { #Answer event - Negative
	hide_portraits = yes
	type = country_event
	title = flavor_byz.1303.title
	desc = flavor_byz.1303.desc

	illustration_tags = {
		10 = interior
		10 = happy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_byz.1303.a

		custom_tooltip = BYZ_DEAL_REJECTED
	}
}

flavor_byz.1400 = { #Inviting the Northmen
	type = country_event
	title = flavor_byz.1400.title
	desc = flavor_byz.1400.desc

	fire_only_once = yes

	illustration_tags = {
		10 = interior
		10 = armed
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1450.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		location:constantinople.owner = root
		any_known_country = {
			culture = { has_culture_group = culture_group:scandinavian_group }
		}
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
		ordered_known_country = {
			limit = {
				culture = { has_culture_group = culture_group:scandinavian_group }
			}
			order_by = total_population
			max = 1
			save_scope_as = target_country
			create_character = {
				adm = { 10 40 }
				dip = { 10 40 }
				mil = { 40 75 }
				culture = scope:target_country.culture
				birth_location = scope:target_country.capital
				age = 30
				save_scope_as = varangian_character
				estate = estate_type:peasants_estate
				create_in_limbo = yes
				trait_category = general
			}
		}
		save_scope_as = target_country2
		location:constantinople = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_byz.1400.a

		scope:target_country = {
			trigger_event_silently = { id = flavor_byz.1401 days = 1 }
		}

		custom_tooltip = BYZ_IF_THEY_ACCEPT

		show_as_tooltip = {
			transfer_yearly_gold = {
				value = 0.5
				target = scope:target_country
			}
			add_migration = {
				owner = this
				from = scope:target_country.capital.province_definition
				to = scope:target_location.province_definition
				culture = scope:target_country.culture
				amount = 0.05
				months = 80
				type = pop_type:peasants
			}
		}
		scope:varangian_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_byz.1400.b
		add_prestige = prestige_mild_bonus
		hidden_effect = {
   			kill_character_silently = scope:varangian_character
  		}
	}
}

flavor_byz.1401 = { #Byzantium requests soldiers
	type = country_event
	title = flavor_byz.1401.title
	desc = flavor_byz.1401.desc

	illustration_tags = {
		10 = interior
		10 = regular
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		capital = {
			save_scope_as = target_location2
		}
	}

	option = {
		name = flavor_byz.1401.a

		scope:target_country2 = {
			transfer_yearly_gold = {
				value = 1
				target = scope:target_country
			}
		}

		add_migration = {
			owner = this
			from = root.capital.province_definition
			to = scope:target_location.province_definition
			culture = root.culture
			amount = 0.05
			months = 80
			type = pop_type:peasants
		}

		scope:varangian_character = {
			move_country = scope:target_country2
		}

		scope:target_country2 = {
			trigger_event_silently = { id = flavor_byz.1402 days = 1 }
		}
	}

	option = {
		name = flavor_byz.1401.b

		scope:target_country2 = {
			trigger_event_silently = { id = flavor_byz.1403 days = 1 }
		}
	}
}

flavor_byz.1402 = { #Response for Byz - Positive
	type = country_event
	title = flavor_byz.1402.title
	desc = flavor_byz.1402.desc

	illustration_tags = {
		10 = exterior
		10 = happy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_byz.1402.a

		show_as_tooltip = {
			transfer_yearly_gold = {
				value = 1
				target = scope:target_country
			}

			add_migration = {
				owner = this
				from = root.capital.province_definition
				to = scope:target_location.province_definition
				culture = root.culture
				amount = 0.05
				months = 80
				type = pop_type:peasants
			}

			scope:varangian_character = {
				move_country = scope:target_country2
			}
		}
	}
}

flavor_byz.1403 = { #Response for Byz - Negative
	type = country_event
	title = flavor_byz.1403.title
	desc = flavor_byz.1403.desc

	illustration_tags = {
		10 = exterior
		10 = angry
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_byz.1403.a

		custom_tooltip = BYZ_DEAL_REJECTED
	}
}

flavor_byz.1500 = { #Thessaloniki Commune
	type = country_event
	title = flavor_byz.1500.title
	desc = flavor_byz.1500.desc

	fire_only_once = yes

	illustration_tags = {
		10 = exterior
		10 = angry
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1340.1.1
		to = 1500.1.1
		monthly_chance = 5
	}

	trigger = {
		location:thessaloniki.owner ?= root
		any_active_disaster = {
			disaster_type = disaster_type:byzantine_succession_crisis
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:nobles_estate }

		location:thessaloniki = {
			save_scope_as = target_location
		}

		set_variable = {
			name = thessaloniki_pop_sat
			value = 0
		}
		set_variable = {
			name = num_of_thessaloniki_loops
			value = 1
		}

		scope:target_location = {
			every_pop = {
				limit = {
					pop_type = pop_type:nobles
				}
				add_pop_size = {
					value = pop_size
					multiply = -0.05
				}
			}

            every_pop = {
                limit = {
					owner = root
                    religion != root.religion
                    pop_type = pop_type:peasants
                }
				add_pop_satisfaction = pop_satisfaction_ultimate_penalty
				ROOT = {
					change_variable = {
						name = thessaloniki_pop_sat
						add = prev.pop_satisfaction
					}
					change_variable = {
						name = num_of_thessaloniki_loops
						add = 1
					}
				}
            }
        }

		change_variable = {
			name = thessaloniki_pop_sat
			add = 0.15
		}

		change_variable = {
			name = thessaloniki_pop_sat
			divide = var:num_of_thessaloniki_loops
		}
		clamp_variable = {
			name = thessaloniki_pop_sat
			max = 1
			min = 0.4
		}
	}

	option = {
		name = flavor_byz.1500.a

		show_as_tooltip = {
			scope:target_location = {
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:nobles
					}
					add_pop_size = {
						value = pop_size
						multiply = -0.05
					}
				}
				every_pop = {
					limit = {
						owner = root
						religion != root.religion
                    	pop_type = pop_type:peasants
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
				}
			}
		}

		custom_tooltip = {
			text = BYZ_DEAL_WITH_THESSALONIKI_COMMUNE
			trigger_event_silently = { id = flavor_byz.1501 years = 3 }
		}
	}
}
flavor_byz.1501 = { #Thessaloniki Commune - Outcomes
	hide_portraits = yes
	type = country_event
	title = flavor_byz.1501.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_variable = byz_commune_good_outcome
				}
				desc = flavor_byz.1501.desc.a
			}
			triggered_desc = {
				trigger = {
					has_variable = byz_commune_bad_outcome
				}
				desc = flavor_byz.1501.desc.b
			}
		}
	}

	fire_only_once = yes

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1340.1.1
		to = 1500.1.1
		monthly_chance = 5
	}

	trigger = {
		has_variable = thessaloniki_pop_sat
		location:thessaloniki.owner ?= root
		any_active_disaster = {
			disaster_type =  disaster_type:succession_crisis
		}
	}

	immediate = {
		location:thessaloniki = {
			save_scope_as = target_location
		}

		if = {
			limit = {
				scope:target_location = {
					any_pop = {
						pop_satisfaction >= var:thessaloniki_pop_sat
					}
				}
			}
			set_variable = byz_commune_good_outcome
		}
		else = {
			set_variable = byz_commune_bad_outcome
			create_rebel = {
				category = religious
				name = thessaloniki_uprising
				save_scope_as = thessaloniki_uprising
				culture = culture:greek_culture
				religion = root.religion
			}
			location:thessaloniki.province = {
				every_location_in_province = {
					limit = { owner ?= ROOT }
					every_pop = {
						limit = {
							owner = root
							OR = {
								pop_type = pop_type:burghers
								pop_type = pop_type:peasants
							}
							culture = culture:greek_culture
						}
						add_pop_satisfaction = pop_satisfaction_ultimate_penalty
						change_pop_allegiance = scope:thessaloniki_uprising
					}
				}
			}
			scope:thessaloniki_uprising = {
				add_rebel_progress = 1
			}
		}

		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:burghers_estate }

		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_byz.1501.a

		trigger = {
			has_variable = byz_commune_good_outcome
		}

		add_stability = {
			value = stability_mild_bonus
			add = {
				value = root.ruler_or_regent.adm
				divide = 20
			}
		}
		custom_tooltip = BYZ_STABILITY_DEPENDS_ON_RULER_ADM
	}

	option = {
		name = flavor_byz.1501.b

		trigger = {
			has_variable = byz_commune_bad_outcome
		}

		show_as_tooltip = {
			create_rebel = {
				category = religious
				name = thessaloniki_uprising
				save_scope_as = thessaloniki_uprising
				culture = culture:greek_culture
				religion = root.religion
			}
			location:thessaloniki.province = {
				every_location_in_province = {
					limit = { owner = ROOT }
					every_pop = {
						limit = {
							owner = root
							OR = {
								pop_type = pop_type:burghers
								pop_type = pop_type:peasants
							}
							culture = culture:greek_culture
						}
						add_pop_satisfaction = pop_satisfaction_ultimate_penalty
						change_pop_allegiance = scope:thessaloniki_uprising
					}
				}
			}
			scope:thessaloniki_uprising = {
				add_rebel_progress = 1
			}
		}
	}
}



flavor_byz.1502 = { #Greek Pagan Larper Spreads his Heresy!
	type = country_event
	title = flavor_byz.1502.title
	desc = flavor_byz.1502.desc
	fire_only_once = yes
	illustration_tags = {
		10 = angry
		10 = exterior
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1400.1.1
		to = 1453.5.29
		monthly_chance = 1
	}

	trigger = {
		character:greek_pagan_larper ?= {
			is_alive = yes
			owner = root
		}
	}

	immediate = {
		character:greek_pagan_larper = { save_scope_as = target_character }
		ruler_or_regent = { save_scope_as = target_character2 }
		ordered_country_in_diplomatic_range = {
			limit = {
				country_type = location
				this != root
			}
			order_by = average_country_literacy
			check_range_bounds = no
			max = 1
			save_scope_as = target_country
		}
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate	background = estate_type:clergy_estate }
	}

	option = {	#Banish him!
		name = flavor_byz.1502.a

		trigger = {
			exists = scope:target_country
		}

		scope:target_character = { move_country = scope:target_country }
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
	}

	option = {	#Kill him!
		name = flavor_byz.1502.b

		kill_character = {
			target = scope:target_character
			reason = beheading
			killer = scope:target_character2
		}

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_extreme_bonus
		}
	}

	option = {	#Allow him to continue only as an artist
		name = flavor_byz.1502.c

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_move_to_right
		}
	}

	option = {
		name = flavor_byz.1502.d

		trigger = {
			ruler_or_regent = { has_trait = tolerant }
		}

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_extreme_penalty
		}
		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_large_move_to_right
		}

		add_stability = stability_extreme_penalty
		custom_tooltip = {
			text = everyone_converts_tt
			ruler_or_regent ?= {
				change_character_religion = religion:hellenism_religion
				every_child = {
					limit = {
						is_heir = no
					}
					change_character_religion = religion:hellenism_religion
				}
			}
			heir ?= {
				change_character_religion = religion:hellenism_religion
			}
			consort ?= {
				change_character_religion = religion:hellenism_religion
			}
		}
	}

	option = {
		name = flavor_byz.1502.e

		trigger = {
			ruler_or_regent = { has_trait = tolerant }
		}

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_ultimate_penalty
		}

		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_huge_move_to_right
		}
		add_stability = stability_ultimate_penalty
		custom_tooltip = {
			text = everyone_converts_tt
			ruler_or_regent ?= {
				change_character_religion = religion:hellenism_religion
				every_child = {
					limit = {
						is_heir = no
					}
					change_character_religion = religion:hellenism_religion
				}
			}
			heir ?= {
				change_character_religion = religion:hellenism_religion
			}
			consort ?= {
				change_character_religion = religion:hellenism_religion
			}
		}
		capital = {
			ordered_pop = {
				limit = {
					NOT = { religion = religion:hellenism_religion }
				}
				max = 1
				order_by = pop_size
				check_range_bounds = no
				split_pop = {
					fraction = 0.10
					religion = religion:hellenism_religion
				}
			}
			custom_tooltip = {
				text = every_true_faith_pop_loses_20_satisfaction_tt
				every_pop = {
					limit = {
						owner = root
						religion = root.religion
					}
					add_pop_satisfaction = pop_satisfaction_severe_penalty
				}
			}
		}
	}
}

flavor_byz.1503 = {
	type = country_event
	title = flavor_byz.1503.title
	desc = flavor_byz.1503.desc
	historical_info = flavor_byz.1503.historical_info
	fire_only_once = yes
	image = "gfx/interface/illustrations/government/throne_rooms/throne_room_syrian.dds"

	illustration_tags = {
		10 = interior
		10 = angry
	}

	dynamic_historical_event = {
		tag = BYZ
		from = 1337.1.1
		to = 11400.6.1
		monthly_chance = 25
	}

	trigger = {
		is_situation_active = situation:rise_of_the_ottomans
		situation:rise_of_the_ottomans.var:strongest_beylik_variable = c:TUR
		c:AYD = {
			opinion = {
				target = c:BYZ
				value > -100
			}
			at_war = no
			trigger_if = {
				limit = {
					global_variable_list_size = {
						name = eligible_beylik_list
						value > 2
					}
				}
				OR = {
					situation:rise_of_the_ottomans.var:second_strongest_strongest_beylik_variable = c:AYD
					situation:rise_of_the_ottomans.var:third_strongest_strongest_beylik_variable = c:AYD
				}
			}
			trigger_else = { always = no }	#If the situation is not active or AYD is irrelevant, never fire this event
			NOR = {
				is_subject_of = c:TUR
				c:TUR = { is_subject_of = prev }
				has_mutual_scripted_relation = {
					type = relation_type:alliance
					target = c:TUR
				}
				has_truce_with = c:TUR
			}
		}
		at_war = no
	}

	immediate = {
		#event_illustration_estate_background_effect = { background = estate_type:crown_estate AYD}
		ruler_or_regent = { save_scope_as = target_character1 }
		c:AYD.ruler_or_regent = { save_scope_as = target_character2 }
	}

	option = {
		name = flavor_byz.1503.a

		add_opinion_mutual_effect = {
			modifier = ayd_byz_cooperation
			target = c:AYD
		}
		add_trust_mutual_effect = {
			modifier = trust_common_enemy
			target = c:AYD
		}
	}

	option = {
		name = flavor_byz.1503.b

		add_government_power = government_power_weak_bonus
	}
}