namespace = flavor_hab

flavor_hab.1 = { #Johann Ribi von Lenzburg
	type = country_event
	title = flavor_hab.1.title
	desc = flavor_hab.1.desc
	#historical_info = flavor_hab.1.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1358.1.1
		to = 1374.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		create_character = {
			first_name = name_john
			last_name = Ribi_von_Lenzburg
			birth_date = 1320.1.1 #unknown between 1310-1320
			birth_location = location:aarau
			culture = culture:danube_bavarian
			adm = 32
			dip = 72
			mil = 45
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
		}
	}

	trigger = {
		country_exists = c:PAP
		religion = religion:catholic
	}

	option = {
		name = flavor_hab.1.a
		historical_option = yes

		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.1.b

		scope:target_character = {
			move_country = c:PAP
		}
		c:PAP = {
			add_opinion = {
				target = root
				modifier = good_papal_relations
			}
		}
	}
}

flavor_hab.2 = { #Liber certarum historiarum
	type = country_event
	title = flavor_hab.2.title
	desc = flavor_hab.2.desc
	#historical_info = flavor_hab.2.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1337.1.1
		to = 1347.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		create_character = {
			first_name = name_john
			last_name = von_viktring
			birth_date = 1270.1.1 #unknown
			birth_location = location:klagenfurt #unknown
			culture = culture:danube_bavarian
			adm = 47
			dip = 61
			mil = 24
			artist_skill = 0.70
			artist = writer
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_artist
		}
		ruler.dynasty ?= {
			save_scope_as = ruler_dynasty
		}
		random_neighbor_country = {
			save_scope_as = exile_destination
		}
	}

	trigger = {
		has_ruler = yes
		ruler.dynasty = dynasty:habsburg_dynasty
	}

	option = {
		name = flavor_hab.2.a
		historical_option = yes

		scope:target_artist = {
			move_country = root
		}
		change_gold_effect = { scale = -2 }
		capital = {
			create_art = {
				artist = scope:target_artist
				type = work_of_art_type:chronicle
				quality = 67
				key = liber_certarum_historiarum
			}
		}
		add_prestige = prestige_weak_bonus
	}

	option = {
		name = flavor_hab.2.b

		add_legitimacy = legitimacy_weak_penalty
		scope:target_artist = {
			move_country = scope:exile_destination
		}
	}
}

flavor_hab.3 = { #Loss of the Habsburg
	type = country_event
	title = flavor_hab.3.title
	desc = flavor_hab.3.desc
	#historical_info = flavor_hab.3.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1337.1.1
		to = 1537.1.1
		monthly_chance = 100
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	trigger = {
		at_war = no
		has_ruler = yes
		NOT = {
			owns = location:aarau
			any_subject_or_below = {
				owns = location:aarau
			}
		}
		owns = location:vienna
		ruler = { dynasty = dynasty:habsburg_dynasty }
	}

	option = {
		name = flavor_hab.3.a

		add_prestige = prestige_severe_penalty
		add_legitimacy = legitimacy_severe_penalty
	}
}

flavor_hab.4 = { #Goldenes Dachl Innsbruck
	type = country_event
	title = flavor_hab.4.title
	desc = flavor_hab.4.desc
	historical_info = flavor_hab.4.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1499.1.1
		to = 1517.1.1
		monthly_chance = 4
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		create_character = {
			first_name = name_nicholas # alternative Niklas
			last_name = turing
			min_age = 30 #brithdate unknown
			birth_location = location:memmingen
			culture = culture:swabian
			adm = 53
			dip = 51
			mil = 14
			artist = architect
			artist_skill = 0.81
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = target_artist
		}
		random_neighbor_country = {
			save_scope_as = exile_destination
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		owns = location:innsbruck
	}

	option = {
		name = flavor_hab.4.a
		historical_option = yes

		change_gold_effect = { scale = -3 }
		scope:target_artist = { move_country = root }
		add_prestige = prestige_severe_bonus
		location:innsbruck = {
			create_art = {
				artist = scope:target_artist
				quality = 82
				type = work_of_art_type:monument
				key = golden_roof
			}
		}
	}

	option = {
		name = flavor_hab.4.b

		add_prestige = prestige_weak_penalty
		scope:target_artist = {
			move_country = scope:exile_destination
		}
	}
}

flavor_hab.5 = { #Meteorite of Ensisheim
	type = country_event
	title = flavor_hab.5.title
	desc = flavor_hab.5.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1470.1.1
		to = 1520.1.1
		monthly_chance = 2
	}

	image = "gfx/interface/illustrations/event/backgrounds/special/comet_sighted.dds"

	trigger = {
		owns = location:ensisheim
	}

	option = {
		name = flavor_hab.5.a
		add_stability = stability_mild_bonus
		add_religious_influence = religious_influence_mild_bonus
		location:ensisheim = {
			change_max_raw_material_workers = -1
		}
	}
}

flavor_hab.6 = { #Generallandtag
	type = country_event
	title = flavor_hab.6.title
	desc = flavor_hab.6.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1400.1.1
		to = 1520.1.1
		monthly_chance = 50
	}

	trigger = {
		owns = location:vienna
		owns = location:graz
		owns = location:innsbruck
		owns = location:lienz
		has_primary_or_accepted_culture = culture:danube_bavarian
		has_primary_or_accepted_culture = culture:southern_bavarian
		is_active_parliament = yes
	}

	option = {
		name = flavor_hab.6.a
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_minor_move_to_left }
		change_parliament_issue_support = 0.5
	}
}

flavor_hab.7 = { #Reichshofrat
	type = country_event
	title = flavor_hab.7.title
	desc = flavor_hab.7.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1490.1.1
		to = 1520.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	trigger = {
		is_leader_of_international_organization = international_organization:hre
	}

	option = {
		name = flavor_hab.7.a
		historical_option = yes

		unlock_government_reform_effect = { type = reichshofrat_reform }
	}

	option = {
		name = flavor_hab.7.b

		add_stability = stability_mild_bonus
	}
}

flavor_hab.8 = { #Monastery Reform of Melk
	type = country_event
	title = flavor_hab.8.title
	desc = flavor_hab.8.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1400.1.1
		to = 1430.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	trigger = {
		owns = location:melk
		religion = religion:catholic
	}

	option = {
		name = flavor_hab.8.a
		historical_option = yes

		grant_estate_privilege = estate_privilege:austrian_monastery_reform_melk
		set_variable = grant_austrian_monastery_reform_melk
		religion:catholic = {
			add_reform_desire = reform_desire_weak_decrease
		}
	}

	option = {
		name = flavor_hab.8.b

		religion:catholic = {
			add_reform_desire = reform_desire_weak_increase
		}
	}
}

flavor_hab.9 = { #Concordat of Vienna
	type = country_event
	title = flavor_hab.9.title
	desc = flavor_hab.9.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1430.1.1
		to = 1460.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	trigger = {
		country_exists = c:PAP
		opinion = { target = c:PAP value >= 0 }
		is_leader_of_international_organization = international_organization:hre
	}

	option = {
		name = flavor_hab.9.a
		historical_option = yes

		set_variable = vienna_concordat_accepted
		grant_estate_privilege = estate_privilege:vienna_concordat_privilege
	}

	option = {
		name = flavor_hab.9.b

		religion:catholic = {
			add_reform_desire = reform_desire_weak_increase
		}
	}
}

flavor_hab.10 = { #Cathedral of Graz Fresco
	hide_portraits = yes
	type = country_event
	title = flavor_hab.10.title
	desc = flavor_hab.10.desc
	historical_info = flavor_hab.10.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1455.1.1
		to = 1485.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		create_character = {
			first_name = name_thomas
			last_name = von_villach
			birth_date = 1435.1.1 #unknown
			birth_location = location:villach
			culture = culture:southern_bavarian
			adm = 61
			dip = 56
			mil = 32
			artist = painter
			artist_skill = 0.77
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = target_artist
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		owns = location:graz
		location:graz = {
			has_building = building_type:cathedral
		}
	}

	option = {
		name = flavor_hab.10.a
		historical_option = yes

		scope:target_artist = { move_country = root }
		location:graz = {
			create_art = {
				artist = scope:target_artist
				quality = 78
				type = work_of_art_type:painting
				key = landplagenbild
			}
		}
	}
}

flavor_hab.11 = { #AEIOU
	type = country_event
	title = flavor_hab.11.title
	desc = flavor_hab.11.desc
	historical_info = flavor_hab.11.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1430.1.1
		to = 1460.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		is_leader_of_international_organization = international_organization:hre
		has_ruler = yes
		ruler = {
			dip >= 60
		}
	}

	option = {
		name = flavor_hab.11.a

		add_prestige = prestige_severe_bonus
		add_legitimacy = legitimacy_severe_bonus
	}
}

flavor_hab.12 = { #Kaspar Schlick
	hide_portraits = yes
	type = country_event
	title = flavor_hab.12.title
	desc = flavor_hab.12.desc
	#historical_info = flavor_hab.12.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = BOH
		from = 1420.1.1
		to = 1449.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:burghers   background = pop_type:burghers }

		create_character = {
			first_name = name_casper
			last_name = schlick
			birth_date = 1396.1.1
			birth_location = location:cheb
			culture = culture:east_franconian
			adm = 76
			dip = 82
			mil = 43
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = target_character
		}
		ruler = { save_scope_as = target_ruler }
	}

	trigger = {
		has_ruler = yes
		is_leader_of_international_organization = international_organization:hre
	}

	option = {
		name = flavor_hab.12.a
		historical_option = yes

		add_legitimacy = legitimacy_mild_penalty
		scope:target_character = { move_country = root }
	}

	option = {
		name = flavor_hab.12.b

		add_legitimacy = legitimacy_mild_bonus
		scope:target_character = { banish_character = yes }
	}
}

flavor_hab.13 = { #Cameralism in Austria
	type = country_event
	title = flavor_hab.13.title
	desc = flavor_hab.13.desc
	#historical_info = flavor_hab.13.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1660.1.1
		to = 1700.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:burghers   background = pop_type:burghers }

		create_character = {
			first_name = name_philip.name_william
			last_name = von_hornick
			birth_date = 1640.1.23
			birth_location = location:frankfurt
			adm = 84
			dip = 65
			mil = 23
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = target_character_1
		}
		create_character = {
			first_name = name_john.name_william
			last_name = von_schroder
			birth_date = 1640.11.15
			birth_location = location:hassfurt
			adm = 59
			dip = 87
			mil = 32
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = target_character_2
		}
	}

	trigger = {
		has_policy = cameralism_policy
	}

	option = {
		name = flavor_hab.13.a

		add_legitimacy = legitimacy_mild_bonus
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_right }
		scope:target_character_1 = {
			move_country = root
		}
		scope:target_character_2 = { banish_character = yes }
	}

	option = {
		name = flavor_hab.13.b

		add_prestige = prestige_mild_bonus
		change_societal_value = { type = outward_vs_inward value = societal_value_move_to_left }
		change_societal_value = { type = land_vs_naval value = societal_value_move_to_left }
		scope:target_character_2 = {
			move_country = root
		}
		scope:target_character_1 = { banish_character = yes }
	}
}

flavor_hab.14 = { #Tractatus de iuribus incorporalibus
	type = country_event
	title = flavor_hab.14.title
	desc = flavor_hab.14.desc
	historical_info = flavor_hab.14.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1640.1.1
		to = 1680.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:burghers   background = pop_type:burghers }

		ruler = { save_scope_as = target_ruler }
	}

	trigger = {
		has_ruler = yes
		months_since_peace >= 48
	}

	option = {
		name = flavor_hab.14.a
		historical_option = yes

		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_right }
		set_variable = hab_tractatus_incorporalibus_granted
		grant_estate_privilege = estate_privilege:hab_tractatus_incorporalibus
	}

	option = {
		name = flavor_hab.14.b

		add_stability = stability_mild_bonus
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_left }
	}
}

flavor_hab.15 = { #Founding of the Wiener Zeitung
	hide_portraits = yes
	type = country_event
	title = flavor_hab.15.title
	desc = flavor_hab.15.desc
	historical_info = flavor_hab.15.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1680.1.1
		to = 1720.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		ruler = { save_scope_as = target_ruler }
	}

	trigger = {
		has_ruler = yes
		has_advance = newspapers_advance
	}

	option = {
		name = flavor_hab.15.a
		historical_option = yes

		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
		add_policy = policy:free_press
	}

	option = {
		name = flavor_hab.15.b

		add_prestige = prestige_mild_bonus
		add_policy = policy:censored_press
	}

	option = {
		name = flavor_hab.15.c

		add_legitimacy = legitimacy_mild_bonus
		add_policy = policy:state_press_only
	}
}

flavor_hab.16 = { #Melchior Khlesl
	type = country_event
	title = flavor_hab.16.title
	desc = flavor_hab.16.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1572.1.1
		to = 1630.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:burghers   background = pop_type:burghers }

		create_character = {
			first_name = name_melchior
			last_name = khlesl
			birth_date = 1552.2.19
			birth_location = location:vienna
			adm = 65
			dip = 71
			mil = 79
			estate = estate_type:clergy_estate
			religion = religion:catholic
			create_in_limbo = yes
			save_scope_as = target_character
		}
	}

	trigger = {
		religion = religion:catholic
		"religion_percentage_in_country(religion:lutheran)" > 0
	}


	option = {
		name = flavor_hab.16.a

		custom_tooltip = flavor_hab.16.a.tt
		hidden_effect = {
			every_pop = {
				limit = {
					owner = root
					religion = religion:lutheran
				}
				add_pop_satisfaction = pop_satisfaction_severe_penalty
			}
		}
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.16.b

		custom_tooltip = flavor_hab.16.b.tt
		hidden_effect = {
			every_pop = {
				limit = {
					owner = root
					religion = religion:lutheran
				}
				add_pop_satisfaction = pop_satisfaction_severe_bonus
			}
		}
		scope:target_character = { banish_character = yes }
	}
}

flavor_hab.17 = { #Expulsion of Lutherans in Salzburg
	hide_portraits = yes
	type = country_event
	title = flavor_hab.17.title
	desc = flavor_hab.17.desc
	historical_info = flavor_hab.17.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = SLZ
		from = 1700.1.1
		to = 1750.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		region:carpathia_region = {
			random_location_in_region = {
				limit = {
					owner != root
					is_discovered_by = root
				}
				save_scope_as = escape_target1
			}
		}
		region:north_german_region = {
			random_location_in_region = {
				limit = {
					owner != root
					dominant_religion = religion:lutheran
					is_discovered_by = root
				}
				save_scope_as = escape_target2
			}
		}
		region:north_german_region = {
			random_location_in_region = {
				limit = {
					owner != root
					dominant_religion = religion:lutheran
					is_discovered_by = root
				}
				save_scope_as = escape_target3
			}
		}
	}

	trigger = {
		religion = religion:catholic
		own_entire_area = area:salzburg_area
		any_province = {
			area = area:salzburg_area
			religion_percentage = {
				religion = religion:lutheran
				value > 0
			}
		}
	}

	option = {
		name = flavor_hab.17.a
		historical_option = yes

		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_left }

		custom_tooltip = flavor_hab.17.a.tt
		hidden_effect = {
			area:salzburg_area  = {
				every_location_in_area = {
					every_pop = {
						limit = {
							religion = religion:lutheran
						}
						split_pop = {
							fraction = 0.1
							religion = religion:catholic
						}
					}
				}
			}
			every_province = {
				limit = {
					area = area:salzburg_area
					religion_percentage = {
						religion = religion:lutheran
						value > 0
					}
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target1.province_definition
					religion = religion:lutheran
					amount = 0.200
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target2.province_definition
					religion = religion:lutheran
					amount = 0.200
					months = 60
				}
				add_migration = {
					owner = prev
					from = this.province_definition
					to = scope:escape_target3.province_definition
					religion = religion:lutheran
					amount = 0.200
					months = 60
				}
			}
		}
	}

	option = {
		name = flavor_hab.17.b

		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_right }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_extreme_penalty }
	}
}

flavor_hab.18 = { #Geheime Kabinettskanzlei
	type = country_event
	title = flavor_hab.18.title
	desc = flavor_hab.18.desc
	historical_info = flavor_hab.18.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1690.1.1
		to = 1740.1.1
		monthly_chance = 3
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hab.18.a
		historical_option = yes

		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_left }
		set_variable = hab_geheime_kabinettskanzlei
	}

	option = {
		name = flavor_hab.18.b

		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_right }
	}
}

flavor_hab.19 = { #Prince Eugene of Savoy
	type = country_event
	title = flavor_hab.19.title
	desc = flavor_hab.19.desc
	historical_info = flavor_hab.19.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1683.1.1
		to = 1736.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_eugene
			religion = religion:catholic
			estate = estate_type:nobles_estate
			birth_date = 1663.10.18
			birth_location = location:paris
			culture = culture:arpitan
			dynasty = dynasty:savoie_carignan_dynasty
			adm = 79
			dip = 82
			mil = 89
			save_scope_as = target_character
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
	}

	option = {
		name = flavor_hab.19.a
		historical_option = yes

		scope:target_character = { move_country = root }
		add_army_tradition = army_tradition_weak_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_weak_bonus }
	}

	option = {
		name = flavor_hab.19.b

		add_legitimacy = legitimacy_weak_bonus
		scope:target_character = { banish_character = yes }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_weak_penalty }
	}
}

flavor_hab.20 = { #Ludwig van Beethoven
	type = country_event
	title = flavor_hab.20.title
	desc = flavor_hab.20.desc
	historical_info = flavor_hab.20.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1791.1.1
		to = 1827.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_louis
			last_name = van_Beethoven
			birth_date = 1770.12.16
			birth_location = location:bonn
			artist_skill = 0.96
			artist = composer
			estate = estate_type:burghers_estate
			save_scope_as = target_artist
			script = hab_ludwig_van_beethoven
			add_trait = trait:workaholic
		}

		capital = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_hab.20.a
		historical_option = yes

		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 90
				location = root.capital
				type = work_of_art_type:symphony
				key = beethoven_first_symphony
			}
		}
	}
}

flavor_hab.21 = { #Wolfgang Amadeus Mozart
	type = country_event
	title = flavor_hab.21.title
	desc = flavor_hab.21.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1774.1.1
		to = 1791.1.1
		monthly_chance = 12
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_wolfgang.name_amadeus
			last_name = Mozart
			birth_date = 1756.1.27
			birth_location = location:salzburg
			artist_skill = 1.0
			artist = composer
			estate = estate_type:burghers_estate
			script = hab_mozart_script
			save_scope_as = target_artist
			add_trait = trait:workaholic
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.21.a

		change_gold_effect = { scale = -2 }
		add_prestige = prestige_extreme_bonus
		scope:target_artist = { move_country = root }
	}

	option = {
		name = flavor_hab.21.b
		scope:target_artist = { banish_character = yes }
	}
}

flavor_hab.22 = { #Resettlements into Hungary
	hide_portraits = yes
	type = country_event
	title = flavor_hab.22.title
	desc = flavor_hab.22.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = HAB
		from = 1700.1.1
		to = 1800.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants
  background = pop_type:peasants }

		random_province = {
			limit = {
				area = area:transylvania_area
			}
			save_scope_as = target_province
		}
	}

	trigger = {
		own_entire_area = area:transylvania_area
	}

	option = {
		name = flavor_hab.22.a
		historical_option = yes

		change_gold_effect = { scale = -2 }
		add_migration = {
			owner = root
			from = capital.province_definition
			to = scope:target_province.province_definition
			type = pop_type:peasants
			amount = 0.2
			months = 120
		}

	}
	option = {
		name = flavor_hab.22.b

		add_stability = stability_mild_bonus
	}
}

flavor_hab.23 = { #Klemens von Metternich
	type = country_event
	title = flavor_hab.23.title
	desc = flavor_hab.23.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1798.1.1
		to = 1837.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_clement.name_wenceslas
			dynasty = dynasty:von_metternich_dynasty
			adm = 72
			dip = 94
			mil = 82
			birth_date = 1773.5.15
			birth_location = location:coblenz
			culture = culture:danube_bavarian
			estate = estate_type:nobles_estate
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
		}
	}

	option = {
		name = flavor_hab.23.a

		add_government_power = government_power_weak_bonus
		add_prestige = prestige_mild_bonus
	}
}

flavor_hab.24 = { #Johann Wenzel Radetzky
	type = country_event
	title = flavor_hab.24.title
	desc = flavor_hab.24.desc
	historical_info = flavor_hab.24.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1791.1.1
		to = 1837.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = armed
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_john.name_wenceslas
			last_name = von_radetzky
			adm = 81
			dip = 72
			mil = 89
			birth_date = 1766.11.2
			birth_location = location:benesov
			culture = culture:czech
			estate = estate_type:nobles_estate
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	trigger = {
		OR = {
			root = {
				has_accepted_culture = culture:czech
			}
			any_subject = {
				has_primary_or_accepted_culture = culture:czech
			}
		}
	}

	option = {
		name = flavor_hab.24.a
		historical_option = yes

		add_army_tradition = army_tradition_weak_bonus
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.24.b

		add_prestige = prestige_mild_bonus
		add_legitimacy = legitimacy_mild_bonus
		scope:target_character = { banish_character = yes }
	}
}

flavor_hab.25 = { #Schönbrunn Palace
	type = country_event
	title = flavor_hab.25.title
	desc = flavor_hab.25.desc
	historical_info = flavor_hab.25.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = HAB
		from = 1736.1.1
		to = 1790.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler ?= {
			save_scope_as = target_ruler
		}

		create_character = {
			first_name = name_nicholas
			last_name = von_pacassi
			birth_date = 1716.3.5
			birth_location = location:wiener_neustadt
			artist_skill = 0.78
			artist = architect
			estate = estate_type:burghers_estate
			save_scope_as = target_artist
			create_in_limbo = yes
		}
	}

	trigger = {
		owns = location:vienna
		government_type = government_type:monarchy
		has_ruler = yes
		location:vienna = {
			is_capital = yes
			num_civil_constructions < 1
			OR = {
				location_rank = location_rank:town
				location_rank = location_rank:city
			}
			market = {
				is_traded_in_market = goods:goods_gold
				is_traded_in_market = goods:fine_cloth
			}
		}
	}

	option = {
		name = flavor_hab.25.a
		historical_option = yes
		scope:target_artist = { move_country = root }

		change_gold_effect = { scale = -12 }
		location:vienna = {
			construct_building = { building_type = building_type:schonbrunn_palace }
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:nobles
				}
				add_pop_satisfaction = pop_satisfaction_mild_bonus
			}
		}

	}

	option = {
		name = flavor_hab.25.b

		add_legitimacy = legitimacy_mild_penalty
		scope:target_artist = { banish_character = yes }
	}
}

flavor_hab.26 = { #Joseph Haydn
	type = country_event
	title = flavor_hab.26.title
	desc = flavor_hab.26.desc
	historical_info = flavor_hab.26.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1764.1.1
		to = 1809.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_joseph
			last_name = haydn
			birth_date = 1732.4.1
			birth_location = location:austria_baden
			artist_skill = 0.92
			artist = composer
			estate = estate_type:burghers_estate
			save_scope_as = target_artist
			script = hab_haydn
			add_trait = trait:workaholic
			create_in_limbo = yes
		}
	}

	trigger = {
		country_rank = country_rank:rank_empire
	}

	option = {
		name = flavor_hab.26.a
		historical_option = yes

		change_gold_effect = { scale = -4 }
		scope:target_artist = {
			move_country = root
		}
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 93
				location = root.capital
				type = work_of_art_type:symphony
				key = the_creation
			}
		}
	}

	option = {
		name = flavor_hab.26.b

		scope:target_artist = { banish_character = yes }
	}
}

flavor_hab.27 = { #Imperial Colors
	type = country_event
	title = flavor_hab.27.title
	desc = flavor_hab.27.desc

	historical_info = flavor_hab.27.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1750.1.1
		to = 1836.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	trigger = {
		government_type = government_type:monarchy
		country_rank = country_rank:rank_empire
	}

	option = {
		name = flavor_hab.27.a
		historical_option = yes
		set_variable = hab_imperial_flag
		add_prestige = prestige_mild_bonus
		hidden_effect = {
			change_country_flag = HAB_IMPERIAL
		}
		custom_tooltip = flavor_hab.27.a.tt
	}

	option = {
		name = flavor_hab.27.b
		add_legitimacy = legitimacy_mild_bonus
	}
}

flavor_hab.29 = { #Finishing the St. Stephen's Cathedral
	type = country_event
	title = flavor_hab.29.title
	desc = flavor_hab.29.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1340.1.1
		to = 1360.1.1
		monthly_chance = 1
	}

	immediate = {
		character:hab_albrecht_i_habsburg ?= { save_scope_as = albrecht }
		location:vienna = {
			create_art = {
				quality = 80
				type = work_of_art_type:monument
				key = st_stephens_cathedral
			}
		}
	}

	trigger = {
		has_ruler = yes
		owns = location:vienna
	}

	option = {
		name = flavor_hab.29.a
		change_gold_effect = { scale = -6 }
		show_as_tooltip = {
			location:vienna = {
				create_art = {
					quality = 80
					type = work_of_art_type:monument
					key = st_stephens_cathedral
				}
			}
		}
	}

	option = {
		name = flavor_hab.29.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			destroy_art = work_of_art:st_stephens_cathedral
		}
	}
}

flavor_hab.30 = { #University of Vienna
	type = country_event
	title = flavor_hab.30.title
	desc = flavor_hab.30.desc

	fire_only_once = yes

	historical_info = flavor_hab.30.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1350.1.1
		to = 1370.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:vienna
		location:vienna = {
			NOT = {
				has_building = building_type:university
			}
		}
		gold > 400
	}

	option = {
		name = flavor_hab.30.a
		historical_option = yes
		location:vienna = {
			change_prosperity = prosperity_very_weak_bonus
		}
		culture = {
			add_cultural_influence = cultural_influence_mild_bonus
		}
		location:vienna = {
			construct_building = {
				building_type = building_type:university
			}
		}
	}

	option = {
		name = flavor_hab.30.b
		add_prestige = prestige_mild_penalty
		culture = {
			add_cultural_influence = cultural_influence_mild_penalty
		}
	}
}

flavor_hab.31 = { #Vienna Gesera
	type = country_event
	title = flavor_hab.31.title
	desc = flavor_hab.31.desc

	fire_only_once = yes

	historical_info = flavor_hab.31.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1420.1.1
		to = 1450.1.1
		monthly_chance = 1
	}

	immediate = {
		location:vienna = {
			save_scope_as = root_location
		}
		if = {
			limit = {
				any_neighbor_country = {
					culture = { has_culture_group = culture_group:german_group }
					modifier:tolerance_heathen > 2
				}
			}
			save_scope_as = target_country
		}
		if = {
			limit = {
				exists = scope:target_country
			}
			scope:target_country = {
				random_owned_location = {
					save_scope_as = target_location
				}
			}
		}
	}

	trigger = {
		owns = location:vienna
		location:vienna = {
			any_pop = {
				OR = {
					culture = culture:ashkenazi
					religion = religion:judaism
				}
			}
		}
	}

	option = {
		name = flavor_hab.31.a
		historical_option = yes
		add_prestige = prestige_severe_penalty
		add_stability = stability_mild_bonus
		location:vienna = {
			change_prosperity = prosperity_severe_penalty
		}
		if = {
			limit = {
				exists = scope:target_country
			}
			add_migration = {
				owner = this
				from = scope:root_location.province_definition
				to = scope:target_location.province_definition
				culture = culture:ashkenazi
				amount = 1
				months = 10
			}
		}
		else = {
			custom_tooltip = {
				text = flavor_hab.31.a.tt
				location:vienna = {
					every_pop = {
						limit = {
							OR = {
								culture = culture:ashkenazi
								religion = religion:judaism
							}
						}
						add_pop_size = {
							value = pop_size
							multiply = -1
						}
					}
				}
			}
		}
	}

	option = {
		name = flavor_hab.31.b
		add_prestige = prestige_mild_bonus
		add_stability = stability_severe_penalty
		location:vienna = {
			change_prosperity = prosperity_ultimate_penalty
		}
		custom_tooltip = {
			text = flavor_hab.31.b.tt
			location:vienna = {
				every_pop = {
					limit = {
						owner = root
						NOT = {
							OR = {
								culture = culture:ashkenazi
								religion = religion:judaism
							}
						}
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
				}
			}
		}
	}
}

flavor_hab.32 = { #Paracelsus
	type = country_event
	title = flavor_hab.32.title
	desc = flavor_hab.32.desc

	fire_only_once = yes

	historical_info = flavor_hab.32.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1530.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:vienna
		character:swi_paracelsus ?= {
			is_alive = no
		}
	}

	immediate = {
		create_character = {
			first_name = Theophrastus
			last_name = von_hohenheim
			nickname = Paracelsus
			adm = 76
			dip = 53
			mil = 42
			birth_date = 1493.1.1
			birth_location = location:schwyz
			culture = culture:high_alemannic
			estate = estate_type:peasants_estate
			save_scope_as = target_character
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.32.a
		historical_option = yes
		change_gold_effect = { scale = -2 }
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.32.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.33 = { #Oswald von Wolkenstein
	type = country_event
	title = flavor_hab.33.title
	desc = flavor_hab.33.desc

	fire_only_once = yes

	historical_info = flavor_hab.33.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1420.1.1
		to = 1440.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:vienna
		any_owned_location = {
			area = area:tirol_area
			count >= 10
		}
	}

	immediate = {
		create_character = {
			first_name = Oswald
			last_name = von_Wolkenstein
			adm = { 50 70 }
			dip = { 70 85 }
			mil = { 20 40 }
			artist_skill = 0.75
			artist = writer
			birth_date = 1376.1.1
			birth_location = location:brixen
			culture = culture:southern_bavarian
			estate = estate_type:peasants_estate
			save_scope_as = target_character
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.33.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		culture = {
			add_cultural_influence = cultural_influence_weak_bonus
		}
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.33.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.34 = { #Petrus Zwicker
	type = country_event
	title = flavor_hab.34.title
	desc = flavor_hab.34.desc

	fire_only_once = yes

	historical_info = flavor_hab.34.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1440.1.1
		to = 1460.1.1
		monthly_chance = 1
	}

	trigger = {
		religion = religion:catholic
		any_owned_location = {
			any_pop = {
				religion != religion:catholic
				religion.group = religion_group:christian
			}
		}
	}

	immediate = {
		create_character = {
			first_name = name_peter
			last_name = Zwicker
			adm = { 50 80 }
			dip = { 50 80 }
			mil = { 20 50 }
			min_age = 35
			birth_location = location:lidzbark
			culture = culture:prussian
			estate = estate_type:clergy_estate
			save_scope_as = target_character
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.34.a
		historical_option = yes
		add_stability = stability_weak_penalty
		add_religious_influence_if_valid = { VALUE = religious_influence_weak_bonus }
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.34.b
		add_legitimacy = legitimacy_weak_bonus
		add_religious_influence_if_valid = { VALUE = religious_influence_weak_penalty }
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.35 = { #Peasant Uprising in Salzburg
	hide_portraits = yes
	type = country_event
	title = flavor_hab.35.title
	desc = flavor_hab.35.desc

	fire_only_once = yes

	historical_info = flavor_hab.35.historical_info

	dynamic_historical_event = {
		tag = HAB
		tag = SLZ
		from = 1520.1.1
		to = 1550.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	trigger = {
		owns = location:salzburg
		stability < 10
		location:salzburg = {
			any_pop = {
				pop_type = pop_type:peasants
			}
		}
		estate_satisfaction:peasants_estate < 0.3
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:clergy   background = pop_type:clergy }
		create_rebel = {
			name = hab_salzburger_peasant_revolt
			category = estate
			estate = peasants_estate
			save_scope_as = salzburger_rebel
		}
	}

	option = {
		name = flavor_hab.35.a
		change_gold_effect = { scale = -6 }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_bonus }
		location:salzburg = {
			change_control = control_mild_penalty
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:peasants
				}
				add_pop_satisfaction = pop_satisfaction_mild_bonus
			}
		}
		destroy_rebel = scope:salzburger_rebel
	}

	option = {
		name = flavor_hab.35.b
		historical_option = yes
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_extreme_penalty }
		location:salzburg = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:peasants
				}
				add_pop_satisfaction = pop_satisfaction_ultimate_penalty
				change_pop_allegiance = scope:salzburger_rebel
			}
		}
		set_variable = hab_peasant_rebels_joining
	}
}

flavor_hab.36 = { #The Peasant Rebellion Spreads
	hide_portraits = yes
	type = country_event
	title = flavor_hab.36.title
	desc = flavor_hab.36.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = SLZ
		from = 1520.1.1
		to = 1550.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	trigger = {
		has_variable = hab_peasant_rebels_joining
		any_rebel = {
			rebel_name_key = hab_salzburger_peasant_revolt
		}
		any_owned_rural_location = {
			count >= 3
			area = area:salzburg_area
			average_satisfaction < 0.40
		}
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:clergy   background = pop_type:clergy }
		random_owned_location = {
		 	limit = {
				area = area:salzburg_area
				this != location:salzburg
		 	}
			save_scope_as = rebel_spread_1
		}
		random_owned_location = {
		 	limit = {
				area = area:salzburg_area
				NOT = { this = scope:rebel_spread_1 }
				this != location:salzburg
		 	}
			save_scope_as = rebel_spread_2
		}
		random_rebel = {
            limit = {
                rebel_name_key = hab_salzburger_peasant_revolt
            }
            save_scope_as = salzburger_rebel
        }
	}

	option = {
		name = flavor_hab.36.a
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_penalty }
		scope:rebel_spread_1 = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:peasants
				}
				add_pop_satisfaction = pop_satisfaction_extreme_penalty
				change_pop_allegiance = scope:salzburger_rebel
			}
		}
		scope:rebel_spread_2 = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:peasants
				}
				add_pop_satisfaction = pop_satisfaction_extreme_penalty
				change_pop_allegiance = scope:salzburger_rebel
			}
		}
	}

	after = {
		remove_variable = hab_peasant_rebels_joining
	}
}

flavor_hab.37 = { #Imperial Ascendancy
	type = country_event
	title = flavor_hab.37.title
	desc = flavor_hab.37.desc

	fire_only_once = yes

	historical_info = flavor_hab.37.historical_info

	immediate = {
		ruler = {
			save_scope_as = austria_first_emperor
		}
		set_variable = {
			name = austria_first_emperor_variable
			value = scope:austria_first_emperor
		}
	}

	trigger = {
		is_leader_of_international_organization = international_organization:hre
		has_ruler = yes
		international_organization:hre = {
			international_organization_has_policy = policy:golden_bull_policy
		}
	}

	option = {
		name = flavor_hab.37.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_bonus
		add_prestige = prestige_severe_bonus
	}
}

flavor_hab.38 = { #The Tomb of the First Emperor
	type = country_event
	title = flavor_hab.38.title
	desc = flavor_hab.38.desc

	fire_only_once = yes

	historical_info = flavor_hab.38.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1337.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
		var:austria_first_emperor_variable ?= {
			save_scope_as = first_emperor
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = austria_first_emperor_variable
		var:austria_first_emperor_variable ?= {
			is_alive = no
		}
		owns = location:vienna
		location:vienna = {
			any_work_of_art_in_location = {
				this = work_of_art:st_stephens_cathedral
			}
		}
	}

	option = {
		name = flavor_hab.38.a
		change_gold_effect = { scale = -8 }
		location:vienna = {
			create_art = {
				quality = 85
				type = work_of_art_type:monument
				key = tomb_of_the_first_emperor
			}
		}
	}

	option = {
		name = flavor_hab.38.b
		add_prestige = prestige_mild_penalty
	}

	after = {
		remove_variable = austria_first_emperor_variable
	}
}

flavor_hab.39 = { #Reichstürkenhilfe
	type = country_event
	title = flavor_hab.39.title
	desc = flavor_hab.39.desc

	fire_only_once = yes

	historical_info = flavor_hab.39.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1337.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		is_leader_of_international_organization = international_organization:hre
		has_ruler = yes
		is_at_war_with = c:TUR
	}

	option = {
		name = flavor_hab.39.a
		historical_option = yes
		change_imperial_authority = { value = imperial_authority_mild_penalty }
		international_organization:hre = {
			add_gold = {
				value = root.monthly_income_trade_and_tax
				multiply = 4
			}
		}
		change_gold_effect = { scale = 2 }
	}

	option = {
		name = flavor_hab.39.b
		add_prestige = prestige_mild_bonus
		change_imperial_authority = { value = imperial_authority_mild_bonus }
		change_societal_value = { type = belligerent_vs_conciliatory value = societal_value_move_to_right }
	}
}

flavor_hab.40 = { #The Frauenstein Madonna
	type = country_event
	title = flavor_hab.40.title
	desc = flavor_hab.40.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1510.1.1
		to = 1520.1.1
		monthly_chance = 10
	}

	immediate = {
		create_character = {
			first_name = name_gregory
			last_name = Erhart
			birth_date = 1465.1.1
			birth_location = location:ulm
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.7
			culture = culture:swabian
			artist = sculptor
			save_scope_as = target_character
			script = hab_gregor_erhart
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		owns = location:kirchdorf
		location:kirchdorf = {
			has_building = building_type:temple
		}
		is_leader_of_international_organization = international_organization:hre
		has_ruler = yes
	}

	option = {
		name = flavor_hab.40.a
		change_gold_effect = { scale = -3 }
        scope:target_character = {
            move_country = root
        }
		location:kirchdorf = {
			create_art = {
				quality = 60
				artist = scope:target_character
				type = work_of_art_type:statue
				key = frauenstein_madonna
			}
		}
	}

	option = {
		name = flavor_hab.40.b
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		location:kirchdorf = {
			change_prosperity = prosperity_very_weak_bonus
		}
		location:kirchdorf = {
			create_art = {
				quality = 60
				artist = scope:target_character
				type = work_of_art_type:statue
				key = frauenstein_madonna
			}
		}
	}
}

flavor_hab.41 = { #The Ambras Castle
	type = country_event
	title = flavor_hab.41.title
	desc = flavor_hab.41.desc

	fire_only_once = yes

	historical_info = flavor_hab.41.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1560.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		owns = location:innsbruck
	}

	option = {
		name = flavor_hab.41.a
		historical_option = yes
		set_variable = unlocked_ambras_castle
		add_legitimacy = legitimacy_mild_bonus
		location:innsbruck = {
			construct_building = {
				building_type = building_type:ambras_castle
			}
		}
	}

	option = {
		name = flavor_hab.41.b
		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_hab.42 = { #The Trial of Martin Siebenbürger
	type = country_event
	title = flavor_hab.42.title
	desc = flavor_hab.42.desc

	fire_only_once = yes

	historical_info = flavor_hab.42.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1520.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	trigger = {
		has_variable = siebenburger_trial
		owns = location:vienna
	}

	immediate = {
		create_character = {
			first_name = name_martin
			last_name = Siebenburger
			birth_date = 1475.1.1
			birth_location = location:sibiu
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			culture = culture:german_transylvanian
			save_scope_as = target_character
			script = hab_martin_siebenburger
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.42.a
		add_prestige = prestige_severe_bonus
        scope:target_character = {
            move_country = root
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_penalty }
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_severe_penalty }
	}

	option = {
		name = flavor_hab.42.b
		historical_option = yes
		kill_character = {
			target = scope:target_character
			reason = execution
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
	}

	after = {
		remove_variable = siebenburger_trial
	}
}

flavor_hab.43 = { #A Merchant of Influence
	type = country_event
	title = flavor_hab.43.title
	desc = flavor_hab.43.desc

	fire_only_once = yes

	historical_info = flavor_hab.43.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1520.1.1
		to = 1539.1.1
		monthly_chance = 1
	}

	trigger = {
		exists = dynasty:fugger_dynasty
		dynasty:fugger_dynasty = {
			any_character_in_dynasty = {
				is_alive = yes
			}
		}
	}

	immediate = {
		create_character = {
			first_name = name_gabriel
			last_name = von_Salamanca
			birth_date = 1489.1.1
			birth_location = location:burgos
			estate = estate_type:burghers_estate
			adm = { 60 90 }
			dip = { 20 70 }
			mil = { 20 70 }
			culture = culture:castilian
			save_scope_as = target_character
			script = hab_gabriel_salamanca
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.43.a
		historical_option = yes
        scope:target_character = {
            move_country = root
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_penalty }
	}

	option = {
		name = flavor_hab.43.b
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_hab.44 = { #An Appeal for Salamanca's Dismissal
	type = country_event
	title = flavor_hab.44.title
	desc = flavor_hab.44.desc

	fire_only_once = yes

	historical_info = flavor_hab.44.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1520.1.1
		to = 1539.1.1
		monthly_chance = 1
	}

	immediate = {
		character:hab_gabriel_salamanca ?= { save_scope_as = target_character }
	}

	trigger = {
		character:hab_gabriel_salamanca ?= {
			is_alive = yes
			in_cabinet = yes
		}
		num_loans >= 5
		monthly_balance < 0
	}

	option = {
		name = flavor_hab.44.a
		add_prestige = prestige_mild_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_penalty }
	}

	option = {
		name = flavor_hab.44.b
		historical_option = yes
		add_prestige = prestige_mild_penalty
		remove_from_cabinet = scope:target_character
		scope:target_character = {
			add_character_modifier = { modifier = refuses_to_serve_in_cabinet days = -1 mode = add_and_extend }
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_hab.45 = { #The Wiener Neustadt Blood Court
	type = country_event
	title = flavor_hab.45.title
	desc = flavor_hab.45.desc

	fire_only_once = yes

	historical_info = flavor_hab.45.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1520.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		owns = location:vienna
		location:vienna = {
			any_pop = {
				pop_type = pop_type:burghers
			}
		}
		has_ruler = yes
		government_type = government_type:monarchy
		"estate_power(estate_type:crown_estate)" <= 0.33
	}

	option = {
		name = flavor_hab.45.a
		historical_option = yes
		add_legitimacy = legitimacy_mild_bonus
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_severe_penalty }
		location:vienna = {
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:burghers
				}
				add_pop_size = {
					value = pop_size
					multiply = -0.1
				}
				add_pop_satisfaction = pop_satisfaction_ultimate_penalty
			}
		}
		set_variable = siebenburger_trial
	}

	option = {
		name = flavor_hab.45.b
		add_legitimacy = legitimacy_severe_penalty
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_hab.46 = { #Fall of Hungary
	hide_portraits = yes
	type = country_event
	title = flavor_hab.46.title
	desc = flavor_hab.46.desc

	fire_only_once = yes

	historical_info = flavor_hab.46.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		country_exists = c:HUN
		country_exists = c:TUR
		NOT = { in_union_with = c:HUN }
		c:HUN = {
			has_royal_marriage_with = root
			has_truce_with = c:TUR
		}
		c:TUR = {
			any_owned_location = {
				previous_owner = c:HUN
				region = region:carpathia_region
			}
		}
	}

	option = {
		name = flavor_hab.46.a
		historical_option = yes
		add_casus_belli = {	target = c:HUN	type = casus_belli:cb_claim_throne	}
		every_known_country = {
			limit = {
				is_neighbor_of = c:HUN
			}
			add_opinion = { target = root modifier = hab_claimed_hungary }
		}
	}

	option = {
		name = flavor_hab.46.b
		add_prestige = prestige_mild_penalty
	}
}

flavor_hab.47 = { #A Palace of Splendor
	type = country_event
	title = flavor_hab.47.title
	desc = flavor_hab.47.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1430.1.1
		to = 1580.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ruler = yes
		owns = location:vienna
		root.gold >= root.yearly_gold
		num_loans < 1
	}

	option = {
		name = flavor_hab.47.a
		add_prestige = prestige_mild_bonus
		add_legitimacy = legitimacy_mild_bonus
		change_gold_effect = { scale = -8 }
		location:vienna = {
			create_art = {
				quality = 80
				type = work_of_art_type:palace
				key = hofburg
			}
		}
	}

	option = {
		name = flavor_hab.47.b
		add_prestige = prestige_mild_penalty
		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_hab.48 = { #Bernhard von Cles
	type = country_event
	title = flavor_hab.48.title
	desc = flavor_hab.48.desc

	fire_only_once = yes

	historical_info = flavor_hab.48.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1520.1.1
		to = 1539.1.1
		monthly_chance = 1
	}

	trigger = {
		religion = religion:catholic
		any_neighbor_country = {
			religion = religion:lutheran
		}
	}

	immediate = {
		create_character = {
			first_name = name_bernard
			last_name = von_Cles
			birth_date = 1485.3.11
			birth_location = location:cles
			estate = estate_type:clergy_estate
			adm = { 60 80 }
			dip = { 20 80 }
			mil = { 20 40 }
			culture = culture:southern_bavarian
			save_scope_as = target_character
			script = hab_von_cles
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.48.a
		historical_option = yes
        scope:target_character = {
            move_country = root
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
	}

	option = {
		name = flavor_hab.48.b
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_right }
	}
}

flavor_hab.49 = { #Georg Tannstetter
	type = country_event
	title = flavor_hab.49.title
	desc = flavor_hab.49.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1515.1.1
		to = 1535.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:vienna
	}

	immediate = {
		create_character = {
			first_name = name_george
			last_name = Tannstetter
			birth_date = 1482.4.1
			birth_location = location:neuburg_an_der_donau
			estate = estate_type:burghers_estate
			adm = { 60 80 }
			dip = { 20 80 }
			mil = { 20 40 }
			culture = culture:swabian
			save_scope_as = target_character
			script = hab_tannstetter
			create_in_limbo = yes
			artist_skill = 0.80
			artist = painter
		}
	}

	option = {
		name = flavor_hab.48.a
		change_gold_effect = { scale = -3 }
        scope:target_character = {
            move_country = root
		}
	}

	option = {
		name = flavor_hab.48.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.50 = { #Tannstetter Creates the Tabula Hungariae
	type = country_event
	title = flavor_hab.50.title
	desc = flavor_hab.50.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1515.1.1
		to = 1535.1.1
		monthly_chance = 10
	}

	immediate = {
		character:hab_tannstetter ?= { save_scope_as = target_character }
		location:vienna = {
			create_art = {
				quality = 70
				artist = scope:target_character
				type = work_of_art_type:painting
				key = tabula_hungariae
			}
		}
	}

	trigger = {
		character:hab_tannstetter ?= {
			is_alive = yes
		}
		country_exists = c:HUN
		owns = location:vienna
	}

	option = {
		name = flavor_hab.50.a
		culture = {
			add_cultural_tradition = cultural_tradition_weak_bonus
			add_cultural_influence = cultural_influence_weak_bonus
		}
		show_as_tooltip = {
			location:vienna = {
				create_art = {
					quality = 70
					artist = scope:target_character
					type = work_of_art_type:painting
					key = tabula_hungariae
				}
			}
		}
		c:HUN = {
			add_opinion = {
				modifier = hab_published_map_of_hungary
				target = root
			}
			reverse_add_opinion = {
				modifier = hab_published_map_of_hungary
				target = root
			}
		}
	}
}

flavor_hab.51 = { #Siege of Vienna
	type = country_event
	title = flavor_hab.51.title
	desc = flavor_hab.51.desc

	historical_info = flavor_hab.51.historical_info

	fire_only_once = yes

	after = {
		remove_variable = siege_of_vienna_var
	}

	option = {
		name = flavor_hab.51.a
		add_army_tradition = army_tradition_extreme_bonus
		set_variable = hab_fortify_vienna_variable
		set_variable = hab_church_bell_variable
	}
}

flavor_hab.52 = { #Fortifying Vienna
	type = country_event
	title = flavor_hab.52.title
	desc = flavor_hab.52.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1450.1.1
		to = 1700.1.1
		monthly_chance = 10
	}

	trigger = {
		has_variable = hab_fortify_vienna_variable
		at_war = no
		owns = location:vienna
	}

	after = {
		remove_variable = hab_fortify_vienna_variable
	}

	option = {
		name = flavor_hab.52.a
		change_gold_effect = { scale = -12 }
		add_army_tradition = army_tradition_severe_bonus
		location:vienna = {
			add_location_modifier = { modifier = walls_of_vienna months = -1 mode = add_and_extend }
		}
		change_societal_value = { type = offensive_vs_defensive value = societal_value_move_to_right }
	}

	option = {
		name = flavor_hab.52.b
		change_gold_effect = { scale = -3 }
		add_army_tradition = army_tradition_mild_bonus
		change_societal_value = { type = offensive_vs_defensive value = societal_value_minor_move_to_right }
	}

	option = {
		name = flavor_hab.52.c
		add_prestige = prestige_mild_penalty
	}
}

flavor_hab.53 = { #Tearing Down the Walls of Vienna
	type = country_event
	title = flavor_hab.53.title
	desc = flavor_hab.53.desc

	fire_only_once = yes

	historical_info = flavor_hab.53.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1750.1.1
		to = 1836.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:vienna
		location:vienna = {
			has_location_modifier = walls_of_vienna
		}
	}

	option = {
		name = flavor_hab.53.a
		historical_option = yes
		location:vienna = {
			remove_location_modifier = walls_of_vienna
			change_development  = development_severe_bonus
			change_prosperity = prosperity_mild_bonus
		}
	}

	option = {
		name = flavor_hab.53.b
		add_army_tradition = army_tradition_mild_bonus
		change_societal_value = { type = offensive_vs_defensive value = societal_value_move_to_right }
	}
}

flavor_hab.54 = { #Landtafel
	type = country_event
	title = flavor_hab.54.title
	desc = flavor_hab.54.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1334.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:prague
	}

	option = {
		name = flavor_hab.54.a
		change_gold_effect = { scale = -6 }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		location:prague = {
			create_art = {
				quality = 60
				type = work_of_art_type:mansion
				key = landtafel
			}
		}
	}

	option = {
		name = flavor_hab.54.b
		add_prestige = prestige_mild_penalty
	}
}

flavor_hab.55 = { #Military Frontier
	type = country_event
	title = flavor_hab.55.title
	desc = flavor_hab.55.desc

	historical_info = flavor_hab.55.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1550.1.1
		to = 1700.1.1
		monthly_chance = 5
	}

	trigger = {
		is_neighbor_of = c:TUR
		has_advance = military_border
	}

	option = {
		name = flavor_hab.55.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		add_army_tradition = army_tradition_mild_bonus
		change_societal_value = { type = offensive_vs_defensive value = societal_value_move_to_right }
		unlock_law_effect = { type = hab_military_frontier }
		add_policy = policy:frontier_maintained
	}
	option = {
		name = flavor_hab.55.b
		add_army_tradition = army_tradition_mild_penalty
	}
}

flavor_hab.56 = { #Populating the Military Frontier
	type = country_event
	title = flavor_hab.56.title
	desc = flavor_hab.56.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1550.1.1
		to = 1700.1.1
		monthly_chance = 1
	}

	immediate = {
		random_owned_location = {
			limit = {
				any_neighbor_location = { owner ?= c:TUR  }
			}
			save_scope_as = target_location_1
		}
		random_owned_location = {
			limit = {
				any_neighbor_location = { owner ?= c:TUR  }
				NOT = { this = scope:target_location_1 }
			}
			save_scope_as = target_location_2
		}
		capital = {
			save_scope_as = capital_location
		}
	}

	trigger = {
		at_war = no
		is_neighbor_of = c:TUR
		any_owned_location = {
			is_capital = no
			any_neighbor_location = {
				owner ?= c:TUR
			}
			count > 4
		}
		has_policy = frontier_maintained
	}

	option = {
		name = flavor_hab.56.a
		add_migration = {
			owner = root
			from = scope:capital_location.province_definition
			to = scope:target_location_1.province_definition
			culture = root.culture
			amount = 0.100
			months = 60
			type = pop_type:peasants
		}
		add_migration = {
			owner = root
			from = scope:capital_location.province_definition
			to = scope:target_location_2.province_definition
			culture = root.culture
			amount = 0.100
			months = 60
			type = pop_type:peasants
		}
	}
	option = {
		name = flavor_hab.56.b
		add_army_tradition = army_tradition_mild_penalty
	}
}

flavor_hab.57 = { #Peasant Revolt in Tirol
	type = country_event
	title = flavor_hab.57.title
	desc = flavor_hab.57.desc

	historical_info = flavor_hab.57.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		from = 1520.1.1
		to = 1540.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	trigger = {
		stability < 10
		area:tirol_area = {
			any_location_in_area = {
				any_pop = {
					pop_type = pop_type:peasants
				}
			}
		}
		estate_satisfaction:peasants_estate < 0.5
		any_owned_location = {
			area = area:tirol_area
			count >= 10
		}
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:clergy   background = pop_type:clergy }
		create_rebel = {
			name = hab_tirolean_peasant_revolt
			category = estate
			estate = peasants_estate
			save_scope_as = tirolean_rebel
		}
		create_character = {
			first_name = name_michael
			last_name = Gaismair
			birth_date = 1490.1.1
			birth_location = location:sterzing
			estate = estate_type:peasants_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			culture = culture:southern_bavarian
			script = hab_gaismair
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.57.a
		historical_option = yes
		change_gold_effect = { scale = -8 }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_extreme_penalty }
		kill_character = {
			target = scope:target_character
			reason = execution
		}
		destroy_rebel = scope:tirolean_rebel
	}

	option = {
		name = flavor_hab.57.b
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_extreme_penalty }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_extreme_penalty }
        scope:target_character = {
            move_country = root
        }
		custom_tooltip = {
			text = flavor_hab.57.b.tt
			every_owned_location = {
				limit = {
					area = area:tirol_area
				}
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:peasants
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:tirolean_rebel
				}
			}
		}
	}

	option = {
		name = flavor_hab.57.c
		trigger = {
			"estate_power(estate_type:peasants_estate)" > 0.7
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_ultimate_penalty }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_ultimate_penalty }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_ultimate_bonus }
		destroy_rebel = scope:tirolean_rebel
		scope:target_character = {
			move_country = root
		}
	}
}

flavor_hab.58 = { #An Elephant Gift
	type = country_event
	title = flavor_hab.58.title
	desc = flavor_hab.58.desc

	historical_info = flavor_hab.58.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1540.1.1
		to = 1580.1.1
		monthly_chance = 5
	}

	trigger = {
		country_exists = c:POR
		c:POR = {
			has_royal_marriage_with = root
			has_presence_in = area:taiwan_area
		}
	}

	option = {
		name = flavor_hab.58.a
		historical_option = yes
		add_prestige = prestige_mild_bonus
		c:POR = {
			add_opinion = {
				modifier = hab_gifted_an_elephant
				target = root
			}
			reverse_add_opinion = {
				modifier = hab_gifted_an_elephant
				target = root
			}
		}
	}
}

flavor_hab.59 = { #Expanding the Hofburg
	hide_portraits = yes
	type = country_event
	title = flavor_hab.59.title
	desc = flavor_hab.59.desc

	fire_only_once = yes

	historical_info = flavor_hab.59.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1337.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	immediate = {

		work_of_art:hofburg ?= {
			save_scope_as = target_art
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		owns = location:vienna
		work_of_art:hofburg ?= {
			location = location:vienna
		}
	}

	option = {
		name = flavor_hab.59.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		work_of_art:hofburg = {
			change_art_quality = 10
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
	}

	option = {
		name = flavor_hab.59.b
		add_prestige = prestige_mild_penalty
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
	}
}

flavor_hab.60 = { #Giovanni Pierluigi da Palestrina
	type = country_event
	title = flavor_hab.60.title
	desc = flavor_hab.60.desc

	fire_only_once = yes

	historical_info = flavor_hab.60.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1560.1.1
		to = 1570.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ruler = yes
	}

	immediate = {
		create_character = {
			first_name = name_john
			last_name = Pierluigi_da_Palestrina
			birth_date = 1525.1.1
			birth_location = location:palestrina
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.95
			culture = culture:median
			artist = composer
			save_scope_as = target_character
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	option = {
		name = flavor_hab.60.a
		change_gold_effect = { scale = -12 }
		add_prestige = prestige_mild_bonus
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
			add_cultural_influence = cultural_influence_mild_bonus
		}
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_trait = trait:prominent
		}
	}

	option = {
		name = flavor_hab.60.b
		historical_option = yes
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.61 = { #Pieter Bruegel
	type = country_event
	title = flavor_hab.61.title
	desc = flavor_hab.61.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1560.1.1
		to = 1570.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ruler = yes
	}

	immediate = {
		create_character = {
			first_name = name_peter
			last_name = Bruegel
			birth_date = 1525.1.1
			birth_location = location:breda
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.90
			culture = culture:low_franconian
			artist = painter
			save_scope_as = target_character
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	option = {
		name = flavor_hab.61.a
		historical_option = yes

		change_gold_effect = { scale = -6 }
		add_prestige = prestige_mild_bonus
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_trait = trait:prominent
		}
	}

	option = {
		name = flavor_hab.61.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.62 = { #Kaiserkrone
	type = country_event
	title = flavor_hab.62.title
	desc = flavor_hab.62.desc

	fire_only_once = yes

	historical_info = flavor_hab.62.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1600.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		government_type = government_type:monarchy
		has_ruler = yes
		ruler ?= { total_abilities >= 180 }
		owns = location:vienna
		is_leader_of_international_organization = international_organization:hre
	}

	option = {
		name = flavor_hab.62.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		add_prestige = prestige_severe_bonus
		add_legitimacy = legitimacy_severe_bonus
		location:vienna = {
			create_art = {
				quality = 85
				type = work_of_art_type:regalia
				key = kaiserkrone
			}
		}
	}

	option = {
		name = flavor_hab.62.b
		add_prestige = prestige_severe_penalty
		add_legitimacy = legitimacy_severe_penalty
		hidden_effect = {
			destroy_art = work_of_art:kaiserkrone
		}
	}
}

flavor_hab.64 = { #Institutionalizing the Geheimer Rat
	type = country_event
	title = flavor_hab.64.title
	desc = flavor_hab.64.desc

	fire_only_once = yes

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	dynamic_historical_event = {
		tag = HAB
		from = 1600.1.1
		to = 1700.1.1
		monthly_chance = 10
	}

	trigger = {
		has_advance = geheimrat
		has_reform = government_reform:privy_council
	}

	option = {
		name = flavor_hab.64.a
		unlock_government_reform_effect = { type = hab_geheimer_rat }
		custom_tooltip = flavor_hab.64.a.tt
	}

	option = {
		name = flavor_hab.64.b
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
	}
}

flavor_hab.65 = { #The Hammer of Heretics
	type = country_event
	title = flavor_hab.65.title
	desc = flavor_hab.65.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1590.1.1
		to = 1610.1.1
		monthly_chance = 1
	}

	trigger = {
		has_country_modifier = hab_recatholicization
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_martin
			last_name = Brenner
			birth_date = 1548.11.11
			birth_location = location:gunzburg
			estate = estate_type:clergy_estate
			adm = { 50 70 }
			dip = { 50 90 }
			mil = { 20 70 }
			culture = culture:swabian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.65.a
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_left }
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_weak_bonus
		}
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.65.b
		add_stability = stability_mild_bonus
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.66 = { #Gundakar von Liechtenstein
	type = country_event
	title = flavor_hab.66.title
	desc = flavor_hab.66.desc

	fire_only_once = yes

	historical_info = flavor_hab.66.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1620.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	trigger = {
		OR = {
			has_advance = geheimrat
			has_reform = government_reform:hab_geheimer_rat
			has_reform = government_reform:privy_council
		}
		OR = {
            NOT = {
                dynasty_exists = von_Liechtenstein_dynasty
            }
            dynasty:von_Liechtenstein_dynasty = {
                any_character_in_dynasty = {
                    is_heir = no
                    is_ruler = no
                    is_female = no
                    is_adult = yes
                    age_in_years > 30
                    this != character:hab_karl_liechtenstein
                    this != character:hab_maximilian_liechtenstein
                    this != character:hab_wenceslas_liechtenstein
                }
            }
        }
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		
		create_character = {
			first_name = Gundakar
			birth_date = 1580.1.30
			birth_location = location:hodonin
			dynasty = dynasty:von_Liechtenstein_dynasty
			estate = estate_type:nobles_estate
			adm = { 50 70 }
			dip = { 50 90 }
			mil = { 20 70 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
			script = hab_gundakar_liechtenstein
		}
	}

	option = {
		name = flavor_hab.66.a
		historical_option = yes
		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_weak_bonus
		}
		scope:target_character = {
			move_country = root
		}
	}
}

flavor_hab.67 = { #Karl von Liechtenstein
	type = country_event
	title = flavor_hab.67.title
	desc = flavor_hab.67.desc

	fire_only_once = yes

	historical_info = flavor_hab.67.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1620.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	trigger = {
		has_ruler = yes
		OR = {
			has_advance = geheimrat
			has_reform = government_reform:hab_geheimer_rat
			has_reform = government_reform:privy_council
		}
		OR = {
            NOT = {
                dynasty_exists = von_Liechtenstein_dynasty
            }
            dynasty:von_Liechtenstein_dynasty = {
                any_character_in_dynasty = {
                    is_heir = no
                    is_ruler = no
                    is_female = no
                    is_adult = yes
                    age_in_years > 30
                    this != character:hab_gundakar_liechtenstein
                    this != character:hab_maximilian_liechtenstein
                    this != character:hab_wenceslas_liechtenstein
                }
            }
        }
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = target_ruler
		}

		create_character = {
			first_name = name_charles
			birth_date = 1569.7.30
			birth_location = location:hodonin
			dynasty = dynasty:von_Liechtenstein_dynasty
			estate = estate_type:nobles_estate
			adm = { 50 70 }
			dip = { 50 90 }
			mil = { 20 70 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
			script = hab_karl_liechtenstein
		}
	}

	option = {
		name = flavor_hab.67.a
		historical_option = yes
		add_legitimacy = legitimacy_mild_bonus
		scope:target_character = {
			move_country = root
		}
	}
}

flavor_hab.68 = { #Maximilian von Liechtenstein
	type = country_event
	title = flavor_hab.68.title
	desc = flavor_hab.68.desc

	fire_only_once = yes

	historical_info = flavor_hab.68.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1620.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	trigger = {
		OR = {
			has_advance = geheimrat
			has_reform = government_reform:hab_geheimer_rat
			has_reform = government_reform:privy_council
		}
		OR = {
            NOT = {
                dynasty_exists = von_Liechtenstein_dynasty
            }
            dynasty:von_Liechtenstein_dynasty = {
                any_character_in_dynasty = {
                    is_heir = no
                    is_ruler = no
                    is_female = no
                    is_adult = yes
                    age_in_years > 30
                    this != character:hab_karl_liechtenstein
                    this != character:hab_gundakar_liechtenstein
                    this != character:hab_wenceslas_liechtenstein
                }
            }
        }
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		
		create_character = {
			first_name = name_maximilian
			birth_date = 1578.11.6
			birth_location = location:hodonin
			dynasty = dynasty:von_Liechtenstein_dynasty
			estate = estate_type:nobles_estate
			adm = { 30 70 }
			dip = { 30 70 }
			mil = { 70 90 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
			script = hab_maximilian_liechtenstein
		}
	}

	option = {
		name = flavor_hab.68.a
		historical_option = yes
		add_army_tradition = army_tradition_mild_bonus
		scope:target_character = {
			move_country = root
			add_random_trait_from_category = general
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add_and_extend
			}
		}
	}
}

flavor_hab.69 = { #Maximilian Trauttmansdorff
	type = country_event
	title = flavor_hab.69.title
	desc = flavor_hab.69.desc

	fire_only_once = yes

	historical_info = flavor_hab.69.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1620.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	trigger = {
		OR = {
			has_advance = geheimrat
			has_reform = government_reform:hab_geheimer_rat
			has_reform = government_reform:privy_council
		}
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		
		create_character = {
			first_name = name_maximilian
			birth_date = 1578.6.23
			birth_location = location:graz
			dynasty = dynasty:trauttmansdorff_dynasty
			estate = estate_type:nobles_estate
			adm = { 60 80 }
			dip = { 80 95 }
			mil = { 20 50 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.69.a
		historical_option = yes
		add_legitimacy = legitimacy_mild_bonus
		scope:target_character = {
			move_country = root
		}
	}
}

flavor_hab.70 = { #Franz von Dietrichstein
	type = country_event
	title = flavor_hab.70.title
	desc = flavor_hab.70.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1600.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	historical_info = flavor_hab.70.historical_info

	trigger = {
		OR = {
			has_advance = geheimrat
			has_reform = government_reform:hab_geheimer_rat
			has_reform = government_reform:privy_council
		}
	}

	immediate = {
		create_character = {
			first_name = name_francis.name_seraphin
			last_name = von_Dietrichstein
			birth_date = 1570.8.22
			birth_location = location:madrid
			estate = estate_type:clergy_estate
			adm = { 50 80 }
			dip = { 70 90 }
			mil = { 20 40 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.70.a
		historical_option = yes
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		scope:target_character = {
			move_country = root
		}
	}
}

flavor_hab.71 = { #Gerhard von Questenberg
	type = country_event
	title = flavor_hab.71.title
	desc = flavor_hab.71.desc

	fire_only_once = yes

	historical_info = flavor_hab.71.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1600.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	trigger = {
		OR = {
			has_advance = geheimrat
			has_reform = government_reform:hab_geheimer_rat
			has_reform = government_reform:privy_council
		}
	}

	immediate = {
		create_character = {
			first_name = name_gerard
			last_name = von_Questenberg
			birth_date = 1586.1.1
			birth_location = location:cologne
			estate = estate_type:burghers_estate
			adm = { 50 80 }
			dip = { 50 80 }
			mil = { 20 40 }
			culture = culture:ripuarian_franconian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.71.a
		historical_option = yes
		add_prestige = prestige_mild_bonus
		scope:target_character = {
			move_country = root
		}
	}
}

flavor_hab.72 = { #Johann Baptist Verda
	type = country_event
	title = flavor_hab.72.title
	desc = flavor_hab.72.desc

	fire_only_once = yes

	historical_info = flavor_hab.72.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1610.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	trigger = {
		OR = {
			has_advance = geheimrat
			has_reform = government_reform:hab_geheimer_rat
			has_reform = government_reform:privy_council
		}
	}

	immediate = {
		create_character = {
			first_name = name_john.name_baptiste
			last_name = Verda
			birth_date = 1582.1.1
			birth_location = location:graz
			estate = estate_type:burghers_estate
			adm = { 50 80 }
			dip = { 50 80 }
			mil = { 20 40 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.72.a
		historical_option = yes
		add_prestige = prestige_mild_bonus
		scope:target_character = {
			move_country = root
		}
	}
}

flavor_hab.73 = { #Nicolas Esterhazy
	type = country_event
	title = flavor_hab.73.title
	desc = flavor_hab.73.desc

	fire_only_once = yes

	historical_info = flavor_hab.73.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1610.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	trigger = {
		OR = {
			has_advance = geheimrat
			has_reform = government_reform:hab_geheimer_rat
			has_reform = government_reform:privy_council
		}
		has_accepted_culture = culture:hungarian
		"culture_percentage_in_country(culture:hungarian)" > 0
	}

	immediate = {
		create_character = {
			first_name = name_nicholas
			last_name = Esterhazy
			birth_date = 1583.4.8
			birth_location = location:trnava
			estate = estate_type:nobles_estate
			dynasty = dynasty:Esterhazy_dynasty
			adm = { 50 80 }
			dip = { 50 80 }
			mil = { 60 80 }
			culture = culture:hungarian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.73.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
		}
	}

	option = {
		name = flavor_ven.73.b
		add_army_tradition = army_tradition_mild_bonus
		scope:target_character = {
			move_country = root
		}
		scope:target_character = {
			add_random_trait_from_category = general
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add_and_extend
			}
		}
	}
}

flavor_hab.74 = { #Vilem Slavata
	type = country_event
	title = flavor_hab.74.title
	desc = flavor_hab.74.desc

	fire_only_once = yes

	historical_info = flavor_hab.74.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1620.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	trigger = {
		OR = {
			has_advance = geheimrat
			has_reform = government_reform:hab_geheimer_rat
			has_reform = government_reform:privy_council
		}
		has_accepted_culture = culture:czech
		"culture_percentage_in_country(culture:czech)" > 0
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		
		create_character = {
			first_name = name_william
			birth_date = 1572.12.1
			birth_location = location:kutna_hora
			dynasty = dynasty:slavata_dynasty
			estate = estate_type:nobles_estate
			adm = { 60 80 }
			dip = { 80 95 }
			mil = { 20 50 }
			culture = culture:czech
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.74.a
		historical_option = yes
		add_legitimacy = legitimacy_mild_bonus
		scope:target_character = {
			move_country = root
		}
	}
}

flavor_hab.75 = { #Geheimer Rat Growing Inefficient
	type = country_event
	title = flavor_hab.75.title
	desc = flavor_hab.75.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1660.1.1
		to = 1705.1.1
		monthly_chance = 1
	}

	trigger = {
		OR = {
			AND = {
				has_advance = geheimrat
				has_reform = government_reform:hab_geheimer_rat
			}
			has_reform = government_reform:privy_council
		}
		any_courtier = {
			count > 20
		}
	}

	option = {
		name = flavor_hab.75.a
		change_gold_effect = { scale = -6 }
		add_country_modifier = {
			modifier = geheimer_konferenz
			years = 15
			mode = add_and_extend
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_hab.75.b
		add_country_modifier = {
			modifier = abolished_the_geheimer_rat
			years = 15
			mode = add_and_extend
		}
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
		set_variable = abolished_geheimer_rat
		remove_reform = government_reform:hab_geheimer_rat
	}
}

flavor_hab.76 = { #The Marian Column
	type = country_event
	title = flavor_hab.76.title
	desc = flavor_hab.76.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1600.1.1
		to = 1700.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:scharding
		has_ruler = yes
		religion = religion:catholic
		situation:war_of_religions = {
			situation_has_ended = yes
		}
		is_leader_of_international_organization = international_organization:hre
		international_organization:hre = {
			international_organization_has_policy = policy:only_imperial_religion_policy
		}
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
		location:scharding = {
			create_art = {
				quality = 60
				type = work_of_art_type:statue
				key = marian_column
			}
		}
	}

	option = {
		name = flavor_hab.76.a
		change_gold_effect = { scale = -6 	}
		add_army_tradition = army_tradition_mild_bonus
		show_as_tooltip = {
			location:scharding = {
				create_art = {
					quality = 60
					type = work_of_art_type:statue
					key = marian_column
				}
			}
		}
	}

	option = {
		name = flavor_hab.76.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			destroy_art = work_of_art:marian_column
		}
	}
}

flavor_hab.77 = { #Antonio Cesti
	type = country_event
	title = flavor_hab.77.title
	desc = flavor_hab.77.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1650.1.1
		to = 1670.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ruler = yes
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
		create_character = {
			first_name = name_anthony
			last_name = Cesti
			birth_date = 1623.8.5
			birth_location = location:arezzo
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.78
			culture = culture:tuscan
			save_scope_as = target_character
			create_in_limbo = yes

			artist = composer
		}
	}

	option = {
		name = flavor_hab.77.a
		change_gold_effect = { scale = -4 }
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
			add_cultural_influence = cultural_influence_mild_bonus
		}
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.77.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.78 = { #Disempowering the Tirolean Parliament
	type = country_event
	title = flavor_hab.78.title
	desc = flavor_hab.78.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		from = 1650.1.1
		to = 1700.1.1
		monthly_chance = 10
	}

	trigger = {
		any_owned_location = {
			area = area:tirol_area
			count >= 10
		}
		"estate_power(estate_type:nobles_estate)" > 0.5
		societal_value:centralization_vs_decentralization < 25
	}

	option = {
		name = flavor_hab.78.a
		add_stability = stability_severe_penalty
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_left
		}
		custom_tooltip = {
			text = flavor_hab.78.a.tt
			every_owned_location = {
				limit = {
					area = area:tirol_area
				}
				every_pop = {
					limit = {
						owner = root
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
				}
			}
		}
	}

	option = {
		name = flavor_hab.78.b
		add_government_power = government_power_severe_penalty
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_right
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
		custom_tooltip = {
			text = flavor_hab.78.b.tt
			every_owned_location = {
				limit = {
					area = area:tirol_area
				}
				every_pop = {
					limit = {
						owner = root
					}
					add_pop_satisfaction = pop_satisfaction_severe_bonus
				}
			}
		}
	}
}

flavor_hab.79 = { #St Stephens Cathedral Bell
	hide_portraits = yes
	type = country_event
	title = flavor_hab.79.title
	desc = flavor_hab.79.desc

	fire_only_once = yes

	historical_info = flavor_hab.79.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	immediate = {
		random_work_of_art = {
			limit = { this = work_of_art:st_stephens_cathedral }
			save_scope_as = target_art
		}
	}

	trigger = {
		has_variable = hab_church_bell_variable
		owns = location:vienna
		location:vienna = {
			any_work_of_art_in_location = {
				this = work_of_art:st_stephens_cathedral
			}
		}
		has_ruler = yes
	}

	option = {
		name = flavor_hab.79.a
		historical_option = yes
		add_prestige = prestige_mild_bonus
		change_gold_effect = { scale = -6 }
		work_of_art:st_stephens_cathedral = {
			change_art_quality = 10
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_hab.79.b
		add_prestige = prestige_mild_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}

	after = {
		remove_variable = hab_church_bell_variable
	}
}

flavor_hab.80 = { #König Ottokars Glück und Ende
	type = country_event
	title = flavor_hab.80.title
	desc = flavor_hab.80.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1820.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	immediate = {
		character:boh_otakar_ii_premyslid ?= { save_scope_as = otakar }
		create_character = {
			first_name = name_francis
			last_name = Grillparzer
			birth_date = 1791.1.21
			birth_location = location:vienna
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.85
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes

			artist = composer
		}
	}

	option = {
		name = flavor_hab.80.a
        scope:target_character = {
            move_country = root
        }
		scope:target_character = {
			add_trait = trait:prominent
		}
		add_prestige = prestige_mild_bonus
	}

	option = {
		name = flavor_hab.80.b
		culture = {
			add_cultural_influence = cultural_influence_mild_bonus
		}
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.81 = { #Kingdom of Galicia-Lodomeria
	hide_portraits = yes
	type = country_event
	title = flavor_hab.81.title
	desc = flavor_hab.81.desc

	fire_only_once = yes

	historical_info = flavor_hab.81.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1337.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		any_owned_location = {
			area = area:lesser_poland_area
			count >= 10
		}
		any_owned_location = {
			area = area:red_ruthenia_area
			count >= 10
		}
	}

	option = {
		name = flavor_hab.81.a
		historical_option = yes
		custom_tooltip = flavor_hab.81.a.tt
        hidden_effect = {
			random_owned_location = {
				limit = {
					OR = {
						area = area:lesser_poland_area
						area = area:red_ruthenia_area
					}
				}
				save_scope_as = target_location
			}
			scope:target_location = {
				create_country_from_location = {
					save_scope_as = galicia_lodomeria
					set_country_rank = country_rank:rank_kingdom
				}
			}
			scope:galicia_lodomeria = {
				form_country = formable_country:GLD_f
				change_country_color = map_galicia_lodomeria
				set_new_ruler = root.ruler
				change_religion = religion:catholic
				change_religion_for_ruler_and_family = { country = scope:galicia_lodomeria religion = religion:catholic }
				make_subject_of = {
					target = root
					type = subject_type:vassal
				}
			}
			every_owned_location = {
				limit = {
					OR = {
						area = area:lesser_poland_area
						area = area:red_ruthenia_area
					}
				}
				change_location_owner = scope:galicia_lodomeria
				add_core = scope:galicia_lodomeria
				change_integration_level = core
			}
		}
	}

	option = {
		name = flavor_hab.81.b
		custom_tooltip = flavor_hab.81.b.tt
		hidden_effect = {
			area:lesser_poland_area = {
				every_location_in_area = {
					change_control = control_severe_bonus
				}
			}
			area:red_ruthenia_area = {
				every_location_in_area = {
					change_control = control_severe_bonus
				}
			}
		}
	}
}

flavor_hab.82 = { #Johann Anton von Pergen
	type = country_event
	title = flavor_hab.82.title
	desc = flavor_hab.82.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1760.1.1
		to = 1775.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ruler = yes
	}

	immediate = {
		ruler = { save_scope_as = target_ruler }
		create_character = {
			first_name = name_john.name_anthony
			last_name = von_Pergen
			birth_date = 1725.2.15
			birth_location = location:vienna
			estate = estate_type:burghers_estate
			adm = { 70 90 }
			dip = { 70 90 }
			mil = { 20 40 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.82.a
        scope:target_character = {
            move_country = root
        }
		add_government_power = government_power_severe_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
	}

	option = {
		name = flavor_hab.82.b
		add_government_power = government_power_severe_penalty
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.83 = { #A Monument to Triumph
	type = country_event
	title = flavor_hab.83.title
	desc = flavor_hab.83.desc

	fire_only_once = yes

	historical_info = flavor_hab.83.historical_info

	trigger = {
		current_year > 1750
		owns = location:innsbruck
	}
	option = {
		name = flavor_hab.83.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		add_prestige = prestige_mild_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
		location:innsbruck = {
			change_prosperity = prosperity_severe_bonus
		}
		location:innsbruck = {
			create_art = {
				quality = 65
				type = work_of_art_type:statue
				key = triumphal_arch
			}
		}
	}

	option = {
		name = flavor_hab.83.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			destroy_art = work_of_art:triumphal_arch
		}
	}
}

flavor_hab.84 = { #Bocskais Uprising
	type = country_event
	title = flavor_hab.84.title
	desc = flavor_hab.84.desc

	historical_info = flavor_hab.84.historical_info

	dynamic_historical_event = {
		tag = HAB
		tag = HUN
		from = 1600.1.1
		to = 1630.1.1
		monthly_chance = 10
	}

	trigger = {
		any_owned_location = {
			area = area:slovakia_area
			count >= 20
		}
		religion:calvinist = {
			is_religion_enabled = yes
		}
		NOT = { has_reform = government_reform:religious_tolerance }
		area:slovakia_area = {
			any_location_in_area = {
				owner = root
				any_pop = {
					religion = religion:calvinist
				}
			}
		}
	}

	fire_only_once = yes


	immediate = {
		create_character = {
			first_name = name_stephen
			adm = { 30 50 }
			dip = { 20 40 }
			mil = { 40 80 }
			birth_date = 1557.1.1
			birth_location = location:cluj
			religion = religion:calvinist
			culture = culture:hungarian
			dynasty = dynasty:bocskai_dynasty
			estate = estate_type:nobles_estate
			create_in_limbo = yes
			script = hab_bocskai
			save_scope_as = target_character
		}
		create_rebel = {
			category = estate
			estate = nobles_estate
			name = bocskai_uprising
			save_scope_as = bocskai_uprising_scope
		}
	}

	option = {
		name = flavor_hab.84.a
		historical_option = yes
		custom_tooltip = {
			text = flavor_hab.84.a.tt
			every_owned_location = {
				limit = {
					area = area:slovakia_area
				}
				every_pop = {
					limit = {
						owner = root
						OR = {
							pop_type = pop_type:nobles
							religion = religion:lutheran
							religion = religion:calvinist
						}
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:bocskai_uprising_scope
				}
			}
		}

		scope:bocskai_uprising_scope = { add_rebel_progress = 0.5 }

		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }

		set_variable = hab_bethlen_uprising
	}

	option = {
		name = flavor_hab.84.b
		custom_tooltip = {
			text = flavor_hab.84.b.tt
			every_owned_location = {
				limit = {
					area = area:slovakia_area
				}
				change_control = control_severe_penalty
			}
		}

		add_legitimacy = legitimacy_severe_penalty
		destroy_rebel = scope:bocskai_uprising_scope
	}
}

flavor_hab.85 = { #Bethlens Uprising
	type = country_event
	title = flavor_hab.85.title
	desc = flavor_hab.85.desc

	historical_info = flavor_hab.85.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1620.1.1
		to = 1640.1.1
		monthly_chance = 10
	}

	trigger = {
		has_variable = hab_bethlen_uprising
		any_owned_location = {
			area = area:slovakia_area
			count >= 20
		}
		religion:calvinist = {
			is_religion_enabled = yes
		}
		NOT = { has_reform = government_reform:religious_tolerance }
		area:slovakia_area = {
			any_location_in_area = {
				owner = root
				any_pop = {
					religion = religion:calvinist
				}
			}
		}
	}

	fire_only_once = yes


	immediate = {
		character:hab_bocskai ?= { save_scope_as = bocskai }
		
		create_character = {
			first_name = name_gabriel
			adm = { 30 70 }
			dip = { 20 70 }
			mil = { 40 80 }
			birth_date = 1580.1.1
			birth_location = location:hunedoara
			dynasty = dynasty:bethlen_dynasty
			religion = religion:calvinist
			culture = culture:hungarian
			estate = estate_type:nobles_estate
			create_in_limbo = yes
			script = hab_bethlen
			save_scope_as = target_character
		}
		create_rebel = {
			category = estate
			estate = nobles_estate
			name = bethlen_uprising
			save_scope_as = bethlen_uprising_scope
		}
	}

	option = {
		name = flavor_hab.85.a
		historical_option = yes
		custom_tooltip = {
			text = flavor_hab.85.a.tt
			every_owned_location = {
				limit = {
					area = area:slovakia_area
				}
				every_pop = {
					limit = {
						owner = root
						OR = {
							pop_type = pop_type:nobles
							religion = religion:lutheran
							religion = religion:calvinist
						}
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:bethlen_uprising_scope
				}
			}
		}

		scope:bethlen_uprising_scope = { add_rebel_progress = 0.5 }

		add_stability = stability_severe_penalty

		set_variable = hab_rakoczi_uprising
	}

	option = {
		name = flavor_hab.85.b
		add_government_power = government_power_severe_penalty
		add_religious_influence_if_valid = { VALUE = religious_influence_severe_penalty }
		add_reform = government_reform:religious_tolerance
		destroy_rebel = scope:bethlen_uprising_scope
	}

	after = {
		remove_variable = hab_bethlen_uprising
	}
}

flavor_hab.86 = { #Rakoczis Uprising
	type = country_event
	title = flavor_hab.86.title
	desc = flavor_hab.86.desc

	historical_info = flavor_hab.86.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1700.1.1
		to = 1715.1.1
		monthly_chance = 10
	}

	trigger = {
		has_variable = hab_rakoczi_uprising
		any_owned_location = {
			area = area:slovakia_area
			count >= 20
		}
	}

	fire_only_once = yes


	immediate = {
		create_character = {
			first_name = name_francis
			adm = { 30 70 }
			dip = { 20 70 }
			mil = { 40 80 }
			birth_date = 1676.3.27
			birth_location = location:zemplin
			dynasty = dynasty:rakoczi_dynasty
			religion = religion:calvinist
			culture = culture:hungarian
			estate = estate_type:nobles_estate
			create_in_limbo = yes
			script = hab_rakoczi
			save_scope_as = target_character
		}
		create_rebel = {
			category = estate
			estate = nobles_estate
			name = rakoczi_uprising
			save_scope_as = rakoczi_uprising_scope
		}
	}

	option = {
		name = flavor_hab.86.a
		historical_option = yes
		custom_tooltip = {
			text = flavor_hab.86.a.tt
			every_owned_location = {
				limit = {
					area = area:slovakia_area
				}
				every_pop = {
					limit = {
						owner = root
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:rakoczi_uprising_scope
				}
			}
		}

		scope:rakoczi_uprising_scope = { add_rebel_progress = 0.9 }

		add_stability = stability_ultimate_penalty
	}

	option = {
		name = flavor_hab.85.b
		add_government_power = government_power_ultimate_penalty
		custom_tooltip = {
			text = flavor_hab.85.b.tt
			every_owned_location = {
				limit = {
					area = area:slovakia_area
				}
				change_control = control_ultimate_penalty
			}
		}
		destroy_rebel = scope:rakoczi_uprising_scope
	}

	after = {
		remove_variable = hab_rakoczi_uprising
	}
}

flavor_hab.88 = { #Primož Trubar's Religious Mission
	type = country_event
	title = flavor_hab.88.title
	desc = flavor_hab.88.desc

	fire_only_once = yes

	historical_info = flavor_hab.88.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1550.1.1
		to = 1580.1.1
		monthly_chance = 1
	}

	trigger = {
		religion = religion:catholic
		religion:lutheran = { is_religion_enabled = yes }
		any_owned_location = {
			area = area:slovenia_area
			count >= 10
		}
	}

	immediate = {
		create_character = {
			first_name = name_primoz
			last_name = Trubar
			birth_date = 1508.6.8
			birth_location = location:vienna
			estate = estate_type:clergy_estate
			adm = { 20 60 }
			dip = { 20 60 }
			mil = { 20 40 }
			culture = culture:slovene
			religion = religion:lutheran
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.88.a
		historical_option = yes
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		custom_tooltip = {
			text = flavor_hab.88.a.tt
			area:slovenia_area = {
				every_location_in_area = {
					every_pop = {
						limit = {
							culture = culture:slovene
							owner = root
						}
						split_pop = {
							fraction = 0.1
							religion = religion:lutheran
						}
					}
				}
			}
		}
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}

	option = {
		name = flavor_hab.88.b
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
        scope:target_character = {
            move_country = root
        }
		custom_tooltip = {
			text = flavor_hab.88.b.tt
			area:slovenia_area = {
				every_location_in_area = {
					every_pop = {
						limit = {
							culture = culture:slovene
							owner = root
						}
						split_pop = {
							fraction = 0.3
							religion = religion:lutheran
						}
					}
				}
			}
		}
	}
}

flavor_hab.90 = { #Böhmer Publishes the Regesta Imperii
	type = country_event
	title = flavor_hab.90.title
	desc = flavor_hab.90.desc

	fire_only_once = yes

	historical_info = flavor_hab.90.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1820.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		exists = international_organization:hre
		exists = international_organization:hre.leader_country
		location:frankfurt = { is_owned_by_international_organization = international_organization:hre }
	}

	immediate = {
		create_character = {
			first_name = name_john.name_frederick
			last_name = Bohmer
			birth_date = 1795.4.22
			birth_location = location:frankfurt
			estate = estate_type:burghers_estate
			adm = { 30 80 }
			dip = { 30 80 }
			mil = { 20 40 }
			culture = culture:rhine_franconian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.90.a
        scope:target_character = {
            move_country = root
        }
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
			add_cultural_influence = cultural_influence_mild_penalty
		}
	}

	option = {
		name = flavor_hab.90.b
		historical_option = yes
		change_imperial_authority = { value = imperial_authority_mild_bonus }
		add_prestige = prestige_mild_bonus
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.91 = { #The Biedermeier Era
	type = country_event
	title = flavor_hab.91.title
	desc = flavor_hab.91.desc

	fire_only_once = yes

	historical_info = flavor_hab.91.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1815.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	trigger = {
		stability > 60
		at_war = no
	}

	option = {
		name = flavor_hab.91.a
		historical_option = yes
        add_prestige = prestige_mild_bonus
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
			add_cultural_influence = cultural_influence_mild_bonus
		}
	}
}

flavor_hab.92 = { #Johann Strauss
	type = country_event
	title = flavor_hab.92.title
	desc = flavor_hab.92.desc

	fire_only_once = yes

	historical_info = flavor_hab.92.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1825.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_john
			last_name = Strauss
			birth_date = 1804.3.14
			birth_location = location:vienna
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.95
			culture = culture:danube_bavarian
			artist = composer
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.92.a
		add_prestige = prestige_mild_bonus
		scope:target_character = {
			move_country = root
			add_trait = trait:prominent
		}
	}

	option = {
		name = flavor_hab.92.b
		historical_option = yes
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
			add_cultural_influence = cultural_influence_mild_bonus
		}
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.93 = { #Imperial Artillery
	type = country_event
	title = flavor_hab.93.title
	desc = flavor_hab.93.desc

	fire_only_once = yes

	historical_info = flavor_hab.93.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1737.1.1
		to = 1770.1.1
		monthly_chance = 10
	}

	trigger = {
		has_advance = imperial_artillery
		OR = {
            NOT = {
                dynasty_exists = von_Liechtenstein_dynasty
            }
            dynasty:von_Liechtenstein_dynasty = {
                any_character_in_dynasty = {
                    is_heir = no
                    is_ruler = no
                    is_female = no
                    is_adult = yes
                    age_in_years > 30
                    this != character:hab_karl_liechtenstein
                    this != character:hab_maximilian_liechtenstein
                    this != character:hab_gundakar_liechtenstein
                }
            }
        }
	}

	immediate = {
		create_character = {
			first_name = name_joseph.name_wenceslas
			last_name = von_Liechtenstein
			dynasty = dynasty:von_Liechtenstein_dynasty
			birth_date = 1696.8.9
			birth_location = location:prague
			estate = estate_type:nobles_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 80 90 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
			script = hab_wenceslas_liechtenstein
		}
	}

	option = {
		name = flavor_hab.93.a
		historical_option = yes
		add_army_tradition = army_tradition_mild_bonus
		scope:target_character = {
			move_country = root
			add_random_trait_from_category = general
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add_and_extend
			}
		}
	}
}

flavor_hab.94 = { #Multicultural Empire
	type = country_event
	title = flavor_hab.94.title
	desc = flavor_hab.94.desc

	fire_only_once = yes

	historical_info = flavor_hab.94.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	trigger = {
		has_advance = multicultural_empire
	}

	option = {
		name = flavor_hab.94.a
		historical_option = yes
		add_stability = stability_severe_bonus
	}
}

flavor_hab.95 = { #Wiener Klassik
	type = country_event
	title = flavor_hab.95.title
	desc = flavor_hab.95.desc

	fire_only_once = yes

	historical_info = flavor_hab.95.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	trigger = {
		has_advance = wiener_klassik
	}

	option = {
		name = flavor_hab.95.a
		historical_option = yes
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
			add_cultural_influence = cultural_influence_mild_bonus
		}
	}
}

flavor_hab.96 = { #The Pragmatic Sanction
	type = country_event
	title = flavor_hab.96.title
	desc = flavor_hab.96.desc

	fire_only_once = yes

	historical_info = flavor_hab.96.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1334.1.1
		to = 1836.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		ruler = { save_scope_as = target_ruler }
		heir = { save_scope_as = target_heir }
	}

	trigger = {
		has_ruler = yes
		heir ?= {
			is_female = yes
		}
		exists = international_organization:hre
		is_member_of_international_organization = international_organization:hre
		international_organization:hre = {
			modifier:hre_allow_female_emperors = yes
		}
		is_leader_of_international_organization = international_organization:hre
	}

	option = {
		name = flavor_hab.96.a
		historical_option = yes
		add_legitimacy = legitimacy_mild_bonus
		ruler ?= {
			add_dip = 5
		}
	}
}

flavor_hab.97 = { #Marianna Martines
	type = country_event
	title = flavor_hab.97.title
	desc = flavor_hab.97.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1775.1.1
		to = 1795.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_marianne
			last_name = Martines
			birth_date = 1744.5.4
			birth_location = location:vienna
			estate = estate_type:burghers_estate
			female = yes
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 10 20 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
			artist = composer
			artist_skill = 0.75
		}
	}

	option = {
		name = flavor_hab.97.a
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.97.b
		add_prestige = prestige_weak_bonus
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.98 = { #Antonio Salieri
	type = country_event
	title = flavor_hab.98.title
	desc = flavor_hab.98.desc

	fire_only_once = yes

	historical_info = flavor_hab.98.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1785.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	immediate = {
		create_character = {
			first_name = name_anthony
			last_name = Salieri
			birth_date = 1750.8.18
			birth_location = location:legnago
			estate = estate_type:burghers_estate
			adm = { 40 70 }
			dip = { 40 70 }
			mil = { 10 40 }
			culture = culture:venetian
			save_scope_as = target_character
			create_in_limbo = yes
			artist = composer
			artist_skill = 0.8
		}
	}

	option = {
		name = flavor_hab.98.a
		historical_option = yes
		add_prestige = prestige_mild_bonus
		change_gold_effect = { scale = -3 }
        scope:target_character = {
            move_country = root
		}
	}

	option = {
		name = flavor_hab.98.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.99 = { #Proclaiming the Austrian Empire
	type = country_event
	title = flavor_hab.99.title
	desc = flavor_hab.99.desc

	fire_only_once = yes

	historical_info = flavor_hab.99.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1750.1.1
		to = 1836.1.1
		monthly_chance = 10
	}

	trigger = {
		NOT = {
			country_rank = country_rank:rank_empire
		}
		is_subject = no
		NOT = {
			exists = international_organization:hre
		}
		has_ruler = yes
		is_great_power = yes
	}

	option = {
		name = flavor_hab.99.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_bonus
		set_country_rank_effect = { rank = country_rank:rank_empire }
		every_neighbor_country = {
			limit = {
				NOT = {
					is_allied_with = { target = root }
					is_subject_of = root
				}
			}
			add_opinion = {
				target = root
				modifier = hab_proclaimed_austrian_empire
			}
		}
		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_large_move_to_left
		}
	}

	option = {
		name = flavor_hab.99.b
		add_legitimacy = legitimacy_severe_penalty
		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_large_move_to_right
		}
	}
}

flavor_hab.100 = { #Johann Lukas von Hildebrandt
	type = country_event
	title = flavor_hab.100.title
	desc = flavor_hab.100.desc

	fire_only_once = yes

	historical_info = flavor_hab.100.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1700.1.1
		to = 1720.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:vienna
	}

	immediate = {
		create_character = {
			first_name = name_john.name_lucas
			last_name = von_Hildebrandt
			birth_date = 1668.11.14
			birth_location = location:genoa
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.85
			culture = culture:danube_bavarian
			artist = architect
			save_scope_as = target_character
			script = hab_hildebrandt
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.100.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		scope:target_character = {
			move_country = root
			add_trait = trait:architectural_visionary
		}
	}

	option = {
		name = flavor_hab.100.b
		add_prestige = prestige_weak_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.101 = { #The Belvedere Palace
	type = country_event
	title = flavor_hab.101.title
	desc = flavor_hab.101.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1720.1.1
		to = 1740.1.1
		monthly_chance = 10
	}

	immediate = {
		character:hab_hildebrandt ?= { save_scope_as = target_character }
	}

	trigger = {
		character:hab_hildebrandt ?= {
			is_alive = yes
		}
		owns = location:vienna
	}

	option = {
		name = flavor_hab.101.a
		location:vienna = {
			change_prosperity = prosperity_mild_bonus
			change_development = development_severe_bonus
		}
		location:vienna = {
			construct_building = {
				building_type = building_type:belvedere_palace
			}
		}
	}

	option = {
		name = flavor_hab.101.b
		add_prestige = prestige_mild_penalty
	}
}

flavor_hab.102 = { #Composing the Kaiserhymne
	hide_portraits = yes
	type = country_event
	title = flavor_hab.102.title
	desc = flavor_hab.102.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1780.1.1
		to = 1800.1.1
		monthly_chance = 10
	}

	immediate = {
		ruler = { save_scope_as = target_ruler }
		character:hab_haydn ?= { save_scope_as = target_character1 }
		create_character = {
			first_name = name_laurence.name_leopold
			last_name = Haschka
			birth_date = 1749.9.1
			birth_location = location:vienna
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.8
			culture = culture:danube_bavarian
			artist = writer
			save_scope_as = target_character2
			script = hab_haschka
			create_in_limbo = yes
		}
		location:vienna = {
			create_art = {
				quality = 70
				type = work_of_art_type:symphony
				key = kaiserhymne
				artist = scope:target_character1
			}
		}
	}

	trigger = {
		character:hab_haydn ?= {
			is_alive = yes
		}
		has_ruler = yes
		owns = location:vienna
	}

	option = {
		name = flavor_hab.102.a
		change_gold_effect = { scale = -6 }
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
			add_cultural_influence = cultural_influence_mild_penalty
		}
		show_as_tooltip = {
			location:vienna = {
				create_art = {
					quality = 70
					type = work_of_art_type:symphony
					key = kaiserhymne
					artist = scope:target_character1
				}
			}
		}
        scope:target_character2 = {
            move_country = root
		}
	}

	option = {
		name = flavor_hab.102.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
			destroy_art = work_of_art:kaiserhymne
			kill_character_silently = scope:target_character2
		}
	}
}

flavor_hab.103 = { #Regulating the Danube
	type = country_event
	title = flavor_hab.103.title
	desc = flavor_hab.103.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1770.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:vienna
	}

	immediate = {
		create_character = {
			first_name = name_john.name_sigmund
			last_name = Hubert
			birth_date = 1736.6.6
			birth_location = location:sopron
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			script = hab_hubert
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.103.a
		change_gold_effect = { scale = -8 }
		location:vienna = {
			change_prosperity = prosperity_weak_penalty
			every_pop = {
				add_pop_size = {
					value = pop_size
					multiply = -0.05
				}
			}
		}
        scope:target_character = {
            move_country = root
        }
	}

	option = {
		name = flavor_hab.103.b
		change_gold_effect = { scale = -3 }
		location:vienna = {
			change_prosperity = prosperity_severe_penalty
			every_pop = {
				add_pop_size = {
					value = pop_size
					multiply = -0.1
				}
			}
		}
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}

	option = {
		name = flavor_hab.103.c
		add_stability = stability_severe_penalty
		location:vienna = {
			change_prosperity = prosperity_ultimate_penalty
			change_development = development_mild_penalty
			every_pop = {
				add_pop_size = {
					value = pop_size
					multiply = -0.2
				}
			}
		}
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

#Privilegium Maius Event Chain
flavor_hab.1000 = { #Forge the Privilegium Maius
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1000.title
	desc = flavor_hab.1000.desc
	#historical_info = flavor_hab.1000.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = STY
		tag = TIR
		from = 1345.1.1
		to = 1370.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler ?= {
			save_scope_as = target_ruler
		}
		international_organization:hre.leader_country = {
			save_scope_as = target_emperor_country
		}
		international_organization:hre.leader_country.ruler = {
			save_scope_as = target_emperor
		}
		root = {
			save_scope_as = origin_country
		}
	}

	trigger = {
		has_ruler = yes
		is_member_of_international_organization = international_organization:hre
		NOT = {
			is_leader_of_international_organization = international_organization:hre
		}
		international_organization:hre = {
			international_organization_has_leader = yes
			leader_country = {
				has_ruler = yes
			}
		}
		owns = location:vienna
		ruler = { dynasty = dynasty:habsburg_dynasty }
	}

	option = {
		name = flavor_hab.1000.a
		historical_option = yes

		scope:target_emperor_country = {
			trigger_event_non_silently = { #Offer the Emperor without bribe
				id = flavor_hab.1001
			}
		}
	}

	option = {
		name = flavor_hab.1000.b

		change_gold_effect = { scale = -6  }
		scope:target_emperor_country = {
			trigger_event_non_silently = { #Offer the Emperor a bribe
				id = flavor_hab.1002
			}
			add_gold = {
				value = scope:origin_country.monthly_income_trade_and_tax
				multiply = 6
			}
		}
	}
}

flavor_hab.1001 = { #Emperors Response to non bribe Demand
	type = country_event
	title = flavor_hab.1001.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					character:pap_francesco_petrarca = {
						is_alive = yes
					}
				}
				desc = flavor_hab.1001.desc_petrarca
			}
			triggered_desc = {
				desc = flavor_hab.1001.desc_default
			}
		}
	}
	#historical_info = flavor_hab.1001.historical_info

	fire_only_once = yes

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		if = {
			limit = { exists = character:pap_francesco_petrarca }
			character:pap_francesco_petrarca = {
				save_scope_as = target_judge
			}
		}
	}

	option = {
		name = flavor_hab.1001.a
		historical_option = yes

		custom_tooltip = flavor_hab.1001.a.tt
		hidden_effect = {
			scope:target_emperor_country = {
				random_list =  {
					90 = {
						trigger_event_silently = { #Emperor Doubt the Document
							id = flavor_hab.1003
							days = 20
						}
					}
					10 = {
						trigger_event_silently = { #Emperor Forgery is not discovered
							id = flavor_hab.1004
							days = 20
						}
					}
				}
			}
		}
	}

	option = {
		name = flavor_hab.1001.b

		scope:origin_country = {
			trigger_event_non_silently = { #Habsburg - Privilege Granted
				id = flavor_hab.1005
			}
		}
	}
}

flavor_hab.1002 = { #The Habsburgs bribed us
	type = country_event
	title = flavor_hab.1002.title
	desc = flavor_hab.1002.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hab.1002.a

		add_gold = {
			value = scope:origin_country.monthly_income_trade_and_tax
			multiply = 6
		}
		scope:origin_country = {
			trigger_event_non_silently = { #Habsburg - Privilege Granted
				id = flavor_hab.1005
			}
		}
	}

	option = {
		name = flavor_hab.1002.b

		scope:target_emperor_country = {
			trigger_event_non_silently = { #Emperor What do we do with the forgery?
				id = flavor_hab.1003
				days = 20
			}
		}
		scope:origin_country = {
			trigger_event_non_silently = { #Habsburg - Bribe rejected
				id = flavor_hab.1006
			}
		}
	}
}

flavor_hab.1003 = { #Forgery is discovered
	type = country_event
	title = flavor_hab.1003.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					character:pap_francesco_petrarca = {
						is_alive = yes
					}
				}
				desc = flavor_hab.1003.desc_petrarca
			}
			triggered_desc = {
				desc = flavor_hab.1003.desc_default
			}
		}
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_hab.1003.a

		scope:origin_country = {
			trigger_event_non_silently = { #Habsburg - Privilege accepted
				id = flavor_hab.1007
			}
		}
	}
}

flavor_hab.1004 = { #Forgery is not discovered
	type = country_event
	title = flavor_hab.1004.title
	desc = flavor_hab.1004.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_hab.1004.a

		scope:origin_country = {
			trigger_event_non_silently = { #Habsburg - Privilege Granted
				id = flavor_hab.1005
			}
		}
	}
}

flavor_hab.1005 = { #Habsburg - Privilege Granted
	type = country_event
	title = flavor_hab.1005.title
	desc = flavor_hab.1005.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_hab.1005.a

		set_variable = privilegium_maius_granted
		add_reform = government_reform:libertas_affectandi
		change_heir_selection = heir_selection:austrian_cognatic_primogeniture
		unlock_government_reform_effect = { type = austrian_archduchy_reform }
		add_reform = government_reform:austrian_archduchy_reform

	}
}

flavor_hab.1006 = { #Bribe Rejected
	type = country_event
	title = flavor_hab.1006.title
	desc = flavor_hab.1006.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_hab.1006.a

		add_gold = {
			value = scope:origin_country.monthly_income_trade_and_tax
			multiply = 6
		}
	}
}

flavor_hab.1007 = { #Habsburg - Privilege Accepted
	type = country_event
	title = flavor_hab.1007.title
	desc = flavor_hab.1007.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_hab.1007.a

		set_variable = privilegium_maius_accepted
		add_reform = government_reform:libertas_affectandi
		change_heir_selection = heir_selection:austrian_cognatic_primogeniture
	}
}

flavor_hab.1008 = { #Grant ourselves the Privilegium Maius
	type = country_event
	title = flavor_hab.1008.title
	desc = flavor_hab.1008.desc
	#historical_info = flavor_hab.1008.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = STY
		tag = TIR
		from = 1380.1.1
		to = 1700.1.1
		monthly_chance = 50
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler ?= {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		is_leader_of_international_organization = international_organization:hre
		owns = location:vienna
		ruler = { dynasty = dynasty:habsburg_dynasty }
		NOT = {
			has_variable = privilegium_maius_granted
		}
	}

	option = {
		name = flavor_hab.1008.a
		historical_option = yes

		set_variable = privilegium_maius_granted
		unlock_government_reform_effect = { type = austrian_archduchy_reform }
		add_reform = government_reform:austrian_archduchy_reform
	}
}

flavor_hab.1009 = { #Rudolfine House Rules - formerly flavor_hab.28
	type = country_event
	title = flavor_hab.1009.title
	desc = flavor_hab.1009.desc

	historical_info = flavor_hab.1009.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = STY
		tag = TIR
		from = 1380.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	immediate = {
		ruler = {
			save_scope_as = target_ruler
		}
		random_character = {
			limit = {
				is_sibling_of = root.ruler
				is_ruler = no
				is_female = no
				is_married = no
			}
			save_scope_as = brother
		}
	}

	trigger = {
		has_ruler = yes
		any_character = {
			is_sibling_of = root.ruler
			is_ruler = no
			is_female = no
			is_married = no
		}
		OR = {
			has_variable = privilegium_maius_granted
			has_variable = privilegium_maius_accepted
		}
	}

	option = {
		name = flavor_hab.1009.a
		historical_option = yes
		add_stability = stability_mild_bonus
		add_legitimacy = legitimacy_mild_penalty
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
		unlock_policy_effect = { type = dop_rudolfine_house_rules }
		add_policy = policy:dop_rudolfine_house_rules
	}

	option = {
		name = flavor_hab.1009.b
		add_stability = stability_mild_penalty
		add_legitimacy = legitimacy_mild_bonus
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }
	}
}

flavor_hab.1100 = { #The current rulers capital
	type = country_event
	title = flavor_hab.1100.title
	desc = flavor_hab.1100.desc
	#historical_info = flavor_hab.1100.historical_info

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		previous_ruler ?= {
			save_scope_as = target_old_ruler
		}
	}

	trigger = {
		tag = HAB
		at_war = no
		government_type = government_type:monarchy
		NOT = {
			has_variable = decided_on_permanent_capital
		}
		previous_ruler = {
			exists = yes
		}
		OR = {
			owns = location:vienna
			owns = location:innsbruck
			owns = location:graz
		}
	}

	option = { #Capital of the Duchy of Austria
		name = flavor_hab.1100.a

		trigger = {
			owns = location:vienna
			location:vienna = {
				is_capital = no
			}
		}

		set_capital = location:vienna
		location:vienna = {
			add_location_modifier = {
				modifier = habsburg_capital
				years = 10
				mode = add_and_extend
			}
		}
	}

	option = { #Capital of the Duchy of Tyrol
		name = flavor_hab.1100.b

		trigger = {
			owns = location:innsbruck
			location:innsbruck = {
				is_capital = no
			}
		}

		set_capital = location:innsbruck
		location:innsbruck = {
			add_location_modifier = {
				modifier = habsburg_capital
				years = 10
				mode = add_and_extend
			}
		}
	}

	option = { #Capital of the Duchy of Styria
		name = flavor_hab.1100.c

		trigger = {
			owns = location:graz
			location:graz = {
				is_capital = no
			}
		}

		set_capital = location:graz
		location:graz = {
			add_location_modifier = {
				modifier = habsburg_capital
				years = 10
				mode = add_and_extend
			}
		}
	}

	option = { #Fallback to keep it where the current capital is
		name = flavor_hab.1100.d
	}
}

flavor_hab.1101 = { #Permanent Capital for the Habsburgs
	type = country_event
	title = flavor_hab.1101.title
	desc = flavor_hab.1101.desc
	#historical_info = flavor_hab.1101.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1550.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		at_war = no
		has_ruler = yes
		government_type = government_type:monarchy
		OR = {
			owns = location:vienna
			owns = location:innsbruck
			owns = location:graz
		}
	}

	option = {
		name = flavor_hab.1101.a
		custom_tooltip = flavor_hab.1101.tt

		trigger = {
			owns = location:vienna
		}

		set_variable = decided_on_permanent_capital
		set_capital = location:vienna
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }
	}

	option = {
		name = flavor_hab.1101.b
		custom_tooltip = flavor_hab.1101.tt

		trigger = {
			owns = location:innsbruck
		}

		set_variable = decided_on_permanent_capital
		set_capital = location:innsbruck
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }
	}

	option = {
		name = flavor_hab.1101.c
		custom_tooltip = flavor_hab.1101.tt

		trigger = {
			owns = location:graz
		}

		set_variable = decided_on_permanent_capital
		set_capital = location:graz
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }
	}

	option = {
		name = flavor_hab.1101.d

		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
	}
}

#Mining in the Alps!
flavor_hab.1200 = { #The beginning of Silver Mining in Schwaz
	type = country_event
	title = flavor_hab.1200.title
	desc = flavor_hab.1200.desc
	#historical_info = flavor_hab.1200.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = STY
		tag = TIR
		from = 1380.1.1
		to = 1420.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants
  background = pop_type:peasants }
	}

	trigger = {
		owns = location:schwaz
	}

	option = {
		name = flavor_hab.1200.a
		historical_option = yes

		location:schwaz = {
			change_raw_material = goods:silver
			add_location_modifier = {
				modifier = mining_rush
				years = 50
				mode = add_and_extend
			}
		}

	}
}

flavor_hab.1201 = { #Schwaz Silver Mine
	type = country_event
	title = flavor_hab.1201.title
	desc = flavor_hab.1201.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = STY
		tag = TIR
		from = 1400.1.1
		to = 1440.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	trigger = {
		owns = location:schwaz
		owns = location:innsbruck
		location:schwaz = {
			raw_material = goods:silver
			rgo_workers >= 6
		}
	}

	option = {
		name = flavor_hab.1201.a
		historical_option = yes

		add_prestige = prestige_mild_bonus
		location:schwaz = {
			change_building_level_in_location = { building = building_type:schwaz_mine value = 1 }
		}
	}
}

flavor_hab.1202 = { #Schladminger Bergbrief
	type = country_event
	title = flavor_hab.1202.title
	desc = flavor_hab.1202.desc

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_iron.dds"

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = STY
		tag = TIR
		from = 1400.1.1
		to = 1440.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		create_character = {
			first_name = name_leonard
			last_name = Egkelzain
			min_age = 30
			birth_location = location:schladming
			culture = culture:danube_bavarian
			adm = 81
			dip = 57
			mil = 21
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = target_character
		}
	}

	trigger = {
		owns = location:schladming
		has_policy = german_mining_law
	}

	option = {
		name = flavor_hab.1202.a
		historical_option = yes

		change_gold_effect = { scale = -2 }
		scope:target_character = {
			move_country = root
		}
		custom_tooltip = flavor_hab.1202.a.tt
		hidden_effect = {
			every_owned_location = {
				limit = {
					OR = {
						raw_material = goods:silver
						raw_material = goods:iron
						raw_material = goods:goods_gold
						raw_material = goods:copper
						raw_material = goods:lead
						raw_material = goods:tin
						raw_material = goods:gems
						raw_material = goods:alum
						raw_material = goods:marble
						raw_material = goods:mercury
						raw_material = goods:coal
						raw_material = goods:stone
						raw_material = goods:saltpeter
					}
				}
				add_location_modifier = {
					modifier = schladming_bergordnung
					years = 100
					mode = add_and_extend
				}
			}
		}
	}
}

#Maximilian I the Renaissance Prince Event Chain
flavor_hab.1300 = { #Maximilian as Patron of the Arts
	type = country_event
	title = flavor_hab.1300.title
	desc = flavor_hab.1300.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1480.1.1
		to = 1530.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = { save_scope_as = target_ruler }
	}

	trigger = {
		ruler ?= { total_abilities >= 180 }
		owns = location:vienna
		owns = location:graz
		owns = location:innsbruck
		is_leader_of_international_organization = international_organization:hre
		has_advance = patron_of_art
	}

	option = {
		name = flavor_hab.1300.a
		historical_option = yes

		custom_tooltip = flavor_hab.1300.a.tt
		change_gold_effect = { scale = -6 }
		set_variable = habsburg_renaissance_prince
	}

	option = {
		name = flavor_hab.1300.b

		add_prestige = prestige_severe_penalty
		add_legitimacy = legitimacy_severe_penalty
	}
}

flavor_hab.1301 = { #College of Poets - Conrad Celtes
	type = country_event
	title = flavor_hab.1301.title
	desc = flavor_hab.1301.desc
	#historical_info = flavor_hab.1301.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1480.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		create_character = {
			first_name = name_conrad
			last_name = celtes
			#birth_date = 1459.2.1
			min_age = 30
			birth_location = location:schweinfurt
			culture = culture:east_franconian
			adm = 83
			dip = 91
			mil = 54
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = target_character
		}
		ruler = { save_scope_as = target_ruler }
	}

	trigger = {
		has_ruler = yes
		has_variable = habsburg_renaissance_prince
		owns = location:vienna
		location:vienna = {
			has_building = building_type:university
		}
	}

	option = {
		name = flavor_hab.1301.a
		historical_option = yes

		change_gold_effect = { scale = -1 }
		scope:target_character = { move_country = root }
		location:vienna = {
			construct_building = {
				building_type = building_type:college_of_poets
			}
		}
	}

	option = {
		name = flavor_hab.1301.b

		add_legitimacy = legitimacy_mild_penalty
		scope:target_character = { banish_character = yes }
	}
}

flavor_hab.1302 = { #Theuerdank
	type = country_event
	title = flavor_hab.1302.title
	desc = flavor_hab.1302.desc
	#historical_info = flavor_hab.1302.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1480.1.1
		to = 1550.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:burghers_estate }

		ruler = { save_scope_as = target_ruler }
	}

	trigger = {
		has_ruler = yes
		ruler = {
			is_female = no
			is_married = yes
			age_in_years > 40
		}
		has_variable = habsburg_renaissance_prince

	}

	option = {
		name = flavor_hab.1302.a

		capital = {
			create_art = {
				artist = scope:target_ruler
				quality = 73
				type = work_of_art_type:novel
				key = theuerdank
			}
		}
	}
}

flavor_hab.1303 = { #Johannes Cuspinian
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1303.title
	desc = flavor_hab.1303.desc
	#historical_info = flavor_hab.1303.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1493.1.1
		to = 1530.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:burghers   background = pop_type:burghers }

		create_character = {
			first_name = name_john # alternative Johannes
			last_name = cuspinian
			birth_date = 1473.1.1
			birth_location = location:schweinfurt
			culture = culture:east_franconian
			adm = 83
			dip = 96
			mil = 64
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = target_character
		}
		ruler = { save_scope_as = target_ruler }
	}

	trigger = {
		has_ruler = yes
		has_variable = habsburg_renaissance_prince
		owns = location:vienna
		location:vienna = {
			has_building = building_type:university
		}
	}

	option = {
		name = flavor_hab.1303.a

		change_gold_effect = { scale = -2 }
		scope:target_character = { move_country = root }
		add_country_modifier = {
            modifier = cuspinian_educator
            years = 20
            mode = add_and_extend
        }
	}

	option = {
		name = flavor_hab.1303.b

		change_gold_effect = { scale = -2 }
		scope:target_character = { move_country = root }
		add_country_modifier = {
            modifier = cuspinian_diplomacy
            years = 20
            mode = add_and_extend
        }
	}

	option = {
		name = flavor_hab.1303.c

		add_legitimacy = legitimacy_mild_penalty
		scope:target_character = { banish_character = yes }
	}
}

#Austrian Noble Revolts against Friedrich III
flavor_hab.1400 = { #Mailberger Bund and Noble resistance
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1400.title
	desc = flavor_hab.1400.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1440.1.1
		to = 1470.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler.dynasty = {
			random_character_in_dynasty = {
				limit = {
					is_heir = no
					is_ruler = no
					is_female = no
					OR = {
						is_adolescent = yes
						is_adult = yes
					}
				}
				save_scope_as = target_pretender
			}
		}
		ruler = {
			save_scope_as = target_ruler
		}

		if = {
			limit = {
				NOT = {
					any_rebel = {
						rebel_name_key = mailberger_noble_rebels
					}
				}
			}
			create_rebel = {
				category = estate
				name = mailberger_noble_rebels
				save_scope_as = target_mailberger_noble_rebels
				estate = nobles_estate
			}
		}
		else = {
			random_rebel = {
				limit = {
					rebel_name_key = mailberger_noble_rebels
				}
				save_scope_as = target_mailberger_noble_rebels
				add_rebel_progress = rebel_progress_mild_penalty
			}
		}
	}

	trigger = {
		has_ruler = yes
		area:austria_area = {
			any_location_in_area = {
				owner = root
			}
		}
		owns = location:hollabrunn
		ruler.dynasty = {
			any_character_in_dynasty = {
				is_heir = no
				is_ruler = no
				is_female = no
				is_close_relative = root.ruler
				OR = {
					is_adolescent = yes
					is_adult = yes
				}
			}
		}
	}

	option = {
		name = flavor_hab.1400.a

		custom_tooltip = {
			text = mailberger_noble_rebels_joining
			every_owned_location = {
				limit = {
					area = area:austria_area
				}
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:nobles
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:target_mailberger_noble_rebels
				}
			}
		}
	}
}

flavor_hab.1401 = { #Ulrich von Eyczing declares for the rebels
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1401.title
	desc = flavor_hab.1401.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1440.1.1
		to = 1475.1.1
		monthly_chance = 20
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_ulrick
			last_name = von_eyczing
			birth_date = 1395.1.1 #unknown
			birth_location = location:hollabrunn
			culture = culture:danube_bavarian
			adm = 53
			dip = 42
			mil = 81
			estate = estate_type:nobles_estate
			save_scope_as = target_rebel
		}

		random_rebel = {
			limit = {
				rebel_name_key = mailberger_noble_rebels
			}
			save_scope_as = target_mailberger_noble_rebels
			add_rebel_progress = rebel_progress_mild_penalty
		}
	}

	trigger = {
		any_rebel = {
			rebel_name_key = mailberger_noble_rebels
		}
	}

	option = {
		name = flavor_hab.1401.a
		historical_option = yes

		scope:target_rebel = {
			change_character_allegiance = scope:target_mailberger_noble_rebels
		}
	}

	option = {
		name = flavor_hab.1401.b

		add_legitimacy = legitimacy_mild_penalty
		change_gold_effect = { scale = -2 }
	}
}

flavor_hab.1402 = { #Mailberger Bund Demands Privileges
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1402.title
	desc = flavor_hab.1402.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1440.1.1
		to = 1475.1.1
		monthly_chance = 20
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		random_rebel = {
			limit = {
				rebel_name_key = mailberger_noble_rebels
			}
			save_scope_as = target_mailberger_noble_rebels
			add_rebel_progress = rebel_progress_mild_penalty
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		any_rebel = {
			rebel_name_key = mailberger_noble_rebels
			rebel_progress >= 0.5
		}
		num_possible_estate_privileges:nobles_estate > 0
	}

	option = {
		name = flavor_hab.1402.a
		historical_option = yes

		"estate(estate_type:nobles_estate)" = {
			random_possible_privilege = {
				root = { grant_estate_privilege = prev }
			}
		}
		destroy_rebel = scope:target_mailberger_noble_rebels
	}

	option = {
		name = flavor_hab.1402.b

		add_legitimacy = legitimacy_mild_bonus
	}
}

flavor_hab.1403 = { #Styrian Noble Rebellion
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1403.title
	desc = flavor_hab.1403.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1460.1.1
		to = 1480.1.1
		monthly_chance = 4
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}

		if = {
			limit = {
				NOT = {
					any_rebel = {
						rebel_name_key = styria_noble_rebels
					}
				}
			}
			create_rebel = {
				category = estate
				name = styria_noble_rebels
				save_scope_as = target_styria_noble_rebels
				estate = nobles_estate
			}
		}
		else = {
			scope:target_styria_noble_rebels = {
			add_rebel_progress = rebel_progress_severe_penalty
			}
		}
	}

	trigger = {
		has_ruler = yes
		area:styria_area = {
			any_location_in_area = {
				owner = root
			}
		}
		at_war = yes
	}

	option = {
		name = flavor_hab.1403.a

		custom_tooltip = {
			text = styria_noble_rebels_joining
			every_owned_location = {
				limit = {
					area = area:styria_area
				}
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:nobles
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:target_styria_noble_rebels
				}
			}
		}
	}
}

flavor_hab.1500 = { #Georg von Peuerbach
	type = country_event
	title = flavor_hab.1500.title
	desc = flavor_hab.1500.desc
	#historical_info = flavor_hab.1500.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1446.1.1
		to = 1461.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:burghers   background = pop_type:burghers }

		create_character = {
			first_name = name_george
			last_name = von_peuerbach
			birth_date = 1423.5.30
			birth_location = location:linz
			culture = culture:danube_bavarian
			adm = 85
			dip = 73
			mil = 39
			estate = estate_type:peasants_estate
			artist_skill = 0.78
			artist = scientist
			create_in_limbo = yes
			save_scope_as = target_artist
			script = georg_von_peuerbach
		}
	}

	trigger = {
		owns = location:vienna
		location:vienna = {
			has_building = building_type:university
		}
	}

	option = {
		name = flavor_hab.1500.a
		historical_option = yes

		change_gold_effect = { scale = -2 }
		scope:target_artist = { move_country = root }
		trigger_event_silently = {
			id = flavor_hab.1501
			years = 5
		}
	}

	option = {
		name = flavor_hab.1500.b

		scope:target_artist = { banish_character = yes }
	}
}

flavor_hab.1501 = { #Georg von Peuerbach
	type = country_event
	title = flavor_hab.1501.title
	desc = flavor_hab.1501.desc

	fire_only_once = yes

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants
  background = pop_type:peasants }

		character:georg_von_peuerbach = { save_scope_as = target_artist }
	}

	option = {
		name = flavor_hab.1501.a
		historical_option = yes

		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 77
				type = work_of_art_type:treatise
				key = theoricae_novae_planetarum
			}
		}
		trigger_event_silently = {
			id = flavor_hab.1502
			years = 2
		}
	}
}

flavor_hab.1502 = { #Regiomontanus / Johannes Müller
	type = country_event
	title = flavor_hab.1502.title
	desc = flavor_hab.1502.desc
	#historical_info = flavor_hab.1502.historical_info

	fire_only_once = yes

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:burghers   background = pop_type:burghers }

		character:georg_von_peuerbach = { save_scope_as = target_artist }

		create_character = {
			first_name = name_john # alternative Johannes
			last_name = muller
			birth_date = 1436.6.30
			birth_location = location:hassfurt
			culture = culture:east_franconian
			adm = 85
			dip = 73
			mil = 39
			estate = estate_type:peasants_estate
			create_in_limbo = yes
			save_scope_as = target_character
		}
		random_neighbor_country = {
			save_scope_as = exile_destination
		}
	}

	option = {
		name = flavor_hab.1502.a

		add_prestige = prestige_mild_bonus
		scope:target_character = { move_country = root }
	}

	option = {
		name = flavor_hab.1502.b

		add_research_progress = research_progress_mild_bonus
		scope:target_character = { move_country = root }
	}
}

flavor_hab.1600 = { #Mandate of Ofen - start of religious policies in Austria
	type = country_event
	title = flavor_hab.1600.title
	desc = flavor_hab.1600.desc
	#historical_info = flavor_hab.1600.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1510.1.1
		to = 1541.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_john
			last_name = faber
			birth_date = 1478.6.30
			birth_location = location:waldsee
			adm = 47
			dip = 72
			mil = 78
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
		}
		ruler = {
			save_scope_as = target_ruler
		}
		if = {
			limit = {
				location:buda = {
					location_in_any_relation_to_target_country = { target = root }
				}
			}
			save_scope_as = target_location
		}
		else = {
			capital = {
				save_scope_as = target_location
			}
		}
	}

	trigger = {
		religion:lutheran = {
			is_religion_enabled = yes
		}
		has_ruler = yes
		religion = religion:catholic
		"religion_percentage_in_country(religion:lutheran)" > 0
	}

	option = {
		name = flavor_hab.1600.a
		historical_option = yes

		scope:target_character = { move_country = root }
		unlock_policy_effect = { type = mandate_of_ofen }
		add_policy = policy:mandate_of_ofen
	}

	option = {
		name = flavor_hab.1600.b
		scope:target_character = { banish_character = yes }
	}
}

flavor_hab.1601 = { #Johann Pfauser becomes Court Preacher in Austria
	type = country_event
	title = flavor_hab.1601.title
	desc = flavor_hab.1601.desc
	historical_info = flavor_hab.1601.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1540.1.1
		to = 1569.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_john
			last_name = pfauser
			birth_date = 1520.1.1 #unknown
			birth_location = location:konstanz
			religion = religion:lutheran
			adm = 72
			dip = 75
			mil = 43
			estate = estate_type:clergy_estate
			save_scope_as = target_character
			script = johann_pfauser_script
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		religion:lutheran = {
			is_religion_enabled = yes
		}
		has_ruler = yes
		religion = religion:catholic
		"religion_percentage_in_country(religion:lutheran)" > 0
		has_policy = mandate_of_ofen
	}

	option = {
		name = flavor_hab.1601.a
		historical_option = yes

		add_policy = policy:no_censorship
		scope:target_character = { move_country = root }
	}

	option = {
		name = flavor_hab.1601.b

		custom_tooltip = flavor_hab.conversion.tt
		hidden_effect = {
			every_owned_location = {
				every_pop = {
					limit = {
						religion = religion:catholic
					}
					split_pop = {
						fraction = 0.05
						religion = religion:lutheran
					}
				}
			}
		}

		scope:target_character = { banish_character = yes }
	}
}

flavor_hab.1602 = { #Protestant Nobles demand lutheran confession for Austria
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1602.title
	desc = flavor_hab.1602.desc
	#historical_info = flavor_hab.1602.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1545.1.1
		to = 1575.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
		character:johann_pfauser_script = {
			save_scope_as = lutheran_court_preacher
		}
	}

	trigger = {
		religion:lutheran = {
			is_religion_enabled = yes
		}
		has_ruler = yes
		religion = religion:catholic
		any_pop = {
			pop_type = pop_type:nobles
			religion = religion:lutheran
		}
	}

	option = {
		name = flavor_hab.1602.a
		historical_option = yes

		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		custom_tooltip = flavor_hab.conversion.tt
		hidden_effect = {
			every_owned_location = {
				every_pop = {
					limit = {
						religion = religion:catholic
					}
					split_pop = {
						fraction = 0.05
						religion = religion:lutheran
					}
				}
			}
		}
	}

	option = {
		name = flavor_hab.1602.b

		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_penalty }
		add_stability = stability_severe_penalty
	}

	option = {
		name = flavor_hab.1602.c

		trigger = {
			scope:lutheran_court_preacher = {
				is_alive = yes
				NOT = {
					has_character_modifier = refuses_to_serve_in_cabinet
				}
			}
		}

		change_religion = religion:lutheran
		change_religion_for_ruler_and_family = { country = ROOT religion = religion:lutheran }
		custom_tooltip = flavor_hab.conversion.tt
		hidden_effect = {
			every_owned_location = {
				every_pop = {
					limit = {
						religion = religion:catholic
					}
					split_pop = {
						fraction = 0.25
						religion = religion:lutheran
					}
				}
			}
		}
	}
}

flavor_hab.1603 = { #Harnessed Diet of Augsburg and Augsburg Interim
	type = country_event
	title = flavor_hab.1603.title
	desc = flavor_hab.1603.desc
	historical_info = flavor_hab.1603.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1540.1.1
		to = 1560.1.1
		monthly_chance = 3
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
	}

	trigger = {
		"religion_percentage_in_country(religion:lutheran)" > 0
		international_organization:hre = {
			any_international_organization_member = {
				is_protestant = yes
			}
			any_international_organization_member = {
				religion = religion:catholic
			}
		}
		religion:lutheran = {
			is_religion_enabled = yes
		}
	}

	option = {
		name = flavor_hab.1603.a
		historical_option = yes

		add_prestige = prestige_mild_penalty
		custom_tooltip = {
			text = flavor_hab.1603.a.all
			international_organization:hre = {
				every_international_organization_member = {
					limit = {
						this != root
					}
					add_opinion = { target = root modifier = religious_compromise }
				}
			}
		}
	}

	option = {
		name = flavor_hab.1603.b
		custom_tooltip = {
			text = flavor_hab.1603.b.catholics
			international_organization:hre = {
				every_international_organization_member = {
					limit = {
						religion = religion:catholic
						this != root
					}
					add_opinion = { target = root modifier = favors_catholics_catholics }
				}
			}
		}

		custom_tooltip = {
			text = flavor_hab.1603.b.protestants
			international_organization:hre = {
				every_international_organization_member = {
					limit = {
						is_protestant = yes
						this != root
					}
					add_opinion = { target = root modifier = favors_catholics_protestants }
				}
			}
		}

		set_variable = hab_enable_recatholicization
	}

	option = {
		name = flavor_hab.1603.c
		custom_tooltip = {
			text = flavor_hab.1603.c.catholics
			international_organization:hre = {
				every_international_organization_member = {
					limit = {
						religion = religion:catholic
						this != root
					}
					add_opinion = { target = root modifier = favors_protestants_catholics }
				}
			}
		}

		custom_tooltip = {
			text = flavor_hab.1603.c.protestants
			international_organization:hre = {
				every_international_organization_member = {
					limit = {
						is_protestant = yes
						this != root
					}
					add_opinion = { target = root modifier = favors_protestants_protestants }
				}
			}
		}
	}
}

flavor_hab.1604 = { #Jesuit Colleges in Bohemia
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1604.title
	desc = flavor_hab.1604.desc
	#historical_info = flavor_hab.1604.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1560.1.1
		to = 1590.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		random_owned_location = {
			limit = {
				OR = {
					location_rank = location_rank:town
					location_rank = location_rank:city
				}
				NOT = {
					has_building = building_type:jesuit_college
				}
				any_pop = {
					religion = religion:lutheran
				}
			}
			save_scope_as = jesuit_target1
		}
		random_owned_location = {
			limit = {
				NOT = { this = scope:jesuit_target1 }
				OR = {
					location_rank = location_rank:town
					location_rank = location_rank:city
				}
				NOT = {
					has_building = building_type:jesuit_college
				}
				any_pop = {
					religion = religion:lutheran
				}
			}
			save_scope_as = jesuit_target2
		}
	}

	trigger = {
		religion:lutheran = {
			is_religion_enabled = yes
		}
		has_ruler = yes
		religion = religion:catholic
		"religion_percentage_in_country(religion:lutheran)" > 0
		has_policy = jesuits_allowed
	}

	option = {
		name = flavor_hab.1604.a
		historical_option = yes

		set_variable = jesuit_colleges_sponsored

		scope:jesuit_target1 = {
			construct_building = {
				building_type = building_type:jesuit_college
			}
		}
		scope:jesuit_target2 = {
			construct_building = {
				building_type = building_type:jesuit_college
			}
		}
	}

	option = {
		name = flavor_hab.1604.b

		add_legitimacy = legitimacy_mild_penalty
		add_prestige = prestige_mild_penalty
		set_variable = jesuit_colleges_rejected
	}

	option = {
		name = flavor_hab.1604.c

		add_policy = policy:jesuits_not_allowed
		set_variable = jesuit_colleges_rejected
	}
}

flavor_hab.1605 = { #Lutherans are unhappy with Jesuit Colleges
	type = country_event
	title = flavor_hab.1605.title
	desc = flavor_hab.1605.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1590.1.1
		to = 1620.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants
  background = pop_type:peasants }
	}

	trigger = {
		religion:lutheran = {
			is_religion_enabled = yes
		}
		"religion_percentage_in_country(religion:lutheran)" > 0
		has_ruler = yes
		religion = religion:catholic
		has_variable = jesuit_colleges_sponsored
	}

	option = {
		name = flavor_hab.1605.a
		historical_option = yes

		custom_tooltip = flavor_hab.1605.a.tt
		hidden_effect = {
			every_pop = {
				limit = {
					owner = root
					religion = religion:lutheran
				}
				add_pop_satisfaction = pop_satisfaction_extreme_penalty
			}
		}
	}

	option = {
		name = flavor_hab.1605.b

		add_legitimacy = legitimacy_mild_penalty
		add_prestige = prestige_mild_penalty

		custom_tooltip = flavor_hab.1605.b.tt
		hidden_effect = {
			every_pop = {
				limit = {
					owner = root
					religion = religion:lutheran
				}
				add_pop_satisfaction = pop_satisfaction_weak_bonus
			}
		}
	}

	option = {
		name = flavor_hab.1605.c

		add_policy = policy:jesuits_not_allowed
		remove_variable = jesuit_colleges_sponsored
		set_variable = jesuit_colleges_rejected

		custom_tooltip = flavor_hab.1605.c.tt
		hidden_effect = {
			every_pop = {
				limit = {
					owner = root
					religion = religion:lutheran
				}
				add_pop_satisfaction = pop_satisfaction_severe_bonus
			}
		}
	}
}

flavor_hab.1606 = { #Pope and Spain is unhappy about Jesuit refusal
	type = country_event
	title = flavor_hab.1606.title
	desc = flavor_hab.1606.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1590.1.1
		to = 1620.1.1
		monthly_chance = 50
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:peasants
  background = pop_type:peasants }

		random_country = {
			limit = {
				religion = religion:catholic
				country_tax_base > 500
				NOT = {
					tag = PAP
				}
			}
			save_scope_as = catholic_strong_country
		}
	}

	trigger = {
		religion:lutheran = {
			is_religion_enabled = yes
		}
		has_ruler = yes
		religion = religion:catholic
		has_variable = jesuit_colleges_rejected
		religion:catholic = {
			any_country_in_religion = {
				NOT = {
					tag = PAP
				}
				country_tax_base > 500
				has_policy = jesuits_allowed
			}
		}
		country_exists = c:PAP
	}

	option = {
		name = flavor_hab.1606.a
		historical_option = yes

		add_policy = policy:jesuits_allowed

		c:PAP = {
			add_opinion = { target = root modifier = favors_catholics_catholics }
		}
		scope:catholic_strong_country = {
			add_opinion = { target = root modifier = favors_catholics_catholics }
		}
	}

	option = {
		name = flavor_hab.1606.b

		c:PAP = {
			add_opinion = { target = root modifier = favors_protestants_catholics }
		}
		scope:catholic_strong_country = {
			add_opinion = { target = root modifier = favors_protestants_catholics }
		}
	}
}

flavor_hab.1607 = { #Monastery Council of Austria
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1607.title
	desc = flavor_hab.1607.desc
	#historical_info = flavor_hab.1607.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1555.1.1
		to = 1585.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		religion:lutheran = {
			is_religion_enabled = yes
		}
		has_ruler = yes
		religion = religion:catholic
		"religion_percentage_in_country(religion:lutheran)" > 0
	}

	option = {
		name = flavor_hab.1607.a
		historical_option = yes

		custom_tooltip = flavor_hab.1607.a.tt
		set_variable = hab_monastery_reform_accepted
	}

	option = {
		name = flavor_hab.1607.b

		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}
}

flavor_hab.1608 = { #Confessio Bohemica
	hide_portraits = yes
	type = country_event
	title = flavor_hab.1608.title
	desc = flavor_hab.1608.desc
	historical_info = flavor_hab.1608.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1550.1.1
		to = 1600.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		religion = religion:catholic
		culture = culture:danube_bavarian
		OR = {
			has_presence_in = area:bohemia_area
			has_presence_in = area:moravia_area
		}
		"religion_percentage_in_country(religion:lutheran)" > 0
		OR = {
			root = {
				has_accepted_culture = culture:czech
			}
			any_subject = {
				has_primary_or_accepted_culture = culture:czech
			}
		}
	}

	option = {
		name = flavor_hab.1608.a
		historical_option = yes

		if = {
			limit = {
				c:BOH ?= {
					in_union_with = c:HAB
				}
			}
			c:BOH = {
				add_opinion = { target = root modifier = royal_letter_of_bohemia }
			}
		}
		add_prestige = prestige_severe_penalty
	}

	option = {
		name = flavor_hab.1608.b
		if = {
			limit = {
				c:BOH ?= {
					in_union_with = c:HAB
				}
			}
			c:BOH = {
				add_opinion = { target = root modifier = refused_royal_letter_of_bohemia }
			}
		}
		culture:czech = {
			change_cultural_view = {
				target = culture:danube_bavarian
				change = -1
			}
		}
		add_prestige = prestige_extreme_bonus
	}

	option = {
		name = flavor_hab.1608.c

		trigger = {
			modifier:tolerance_heretic >= 2
		}
		if = {
			limit = {
				c:BOH ?= {
					in_union_with = c:HAB
					religion = religion:lutheran
				}
			}
			c:BOH = {
				add_opinion = { target = root modifier = royal_letter_of_bohemia }
			}
		}
		culture:czech = {
			change_cultural_view = {
				target = culture:danube_bavarian
				change = 1
			}
		}
		culture:danube_bavarian = {
			change_cultural_view = {
				target = culture:czech
				change = 1
			}
		}
	}
}

flavor_hab.1609 = { #Austrian Recatholicization - formerly flavor_hab.63
	type = country_event
	title = flavor_hab.1609.title
	desc = flavor_hab.1609.desc

	fire_only_once = yes

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	dynamic_historical_event = {
		tag = HAB
		from = 1500.1.1
		to = 1700.1.1
		monthly_chance = 5
	}

	trigger = {
		religion = religion:catholic
		has_advance = edict_of_restitution
		any_owned_location = {
			dominant_religion = religion:lutheran
		}
		has_variable = hab_enable_recatholicization
	}

	option = {
		name = flavor_hab.1609.a
		add_stability = stability_mild_penalty
		add_religious_influence_if_valid = { VALUE = religious_influence_mild_bonus }
		add_country_modifier = {
			modifier = hab_recatholicization
			years = 25
			mode = add_and_extend
		}
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
	}

	option = {
		name = flavor_hab.1609.b
		add_stability = stability_weak_penalty
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_left }
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_weak_bonus
		}
	}

	option = {
		name = flavor_hab.1609.c
		add_stability = stability_weak_bonus
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_right }
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
	}

	after = {
		remove_variable = hab_enable_recatholicization
	}
}

flavor_hab.1700 = { #Founding a state owned bank for Austria
	type = country_event
	title = flavor_hab.1700.title
	desc = flavor_hab.1700.desc
	historical_info = flavor_hab.1700.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1680.1.1
		to = 1720.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		gold > { value = monthly_income_trade_and_tax multiply = 6 }
	}

	option = {
		name = flavor_hab.1700.a
		historical_option = yes

		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_penalty }
		add_gold_to_estate = {
			estate_type = estate_type:nobles_estate
			value = { value = root.estate_tax_base:nobles_estate multiply = -4 }
		}
		add_gold = {
			value = { value = root.estate_tax_base:nobles_estate multiply = 4 }
		}

		trigger_event_silently = {
			id = flavor_hab.1701
			years = 5
		}
	}

	option = {
		name = flavor_hab.1700.b

		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		trigger_event_silently = {
			id = flavor_hab.1701
			years = 5
		}
	}
}

flavor_hab.1701 = { #The fate of the state owned bank
	type = country_event
	title = flavor_hab.1701.title
	desc = flavor_hab.1701.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1680.1.1
		to = 1720.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_hab.1701.a

		trigger = {
			gold > { value = monthly_income_trade_and_tax multiply = 40 } #saved more than half + 10 months of income of the 5 years
		}

		change_gold_effect = { scale = -40 }
		add_inflation = inflation_extreme_bonus
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_huge_move_to_left }
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_huge_move_to_left }
	}

	option = {
		name = flavor_hab.1701.b

		trigger = {
			gold < { value = monthly_income_trade_and_tax multiply = 40 } #saved less than half + 10 months of income of the 5 years
		}

		add_prestige = prestige_extreme_penalty
		add_legitimacy = legitimacy_extreme_penalty
	}
}

flavor_hab.1800 = { #Mühlviertel Textile Production
	type = country_event
	title = flavor_hab.1800.title
	desc = flavor_hab.1800.desc
	historical_info = flavor_hab.1800.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1620.1.1
		to = 1680.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	trigger = {
		owns = location:linz
		OR = {
			owns = location:perg
			owns = location:freistadt
			owns = location:rohrbach
		}
	}

	option = {
		name = flavor_hab.1800.a
		historical_option = yes

		location:linz = {
			if = {
				limit = {
					location_rank = location_rank:rural_settlement
				}
				change_location_rank = location_rank:town
			}
			else = {
				change_development = development_mild_bonus
				change_prosperity = prosperity_severe_bonus
			}
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
		set_variable = hab_push_for_muhlviertel_textile_industry
	}
	option = {
		name = flavor_hab.1800.b

		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_minor_move_to_right }
		location:linz = {
			change_max_raw_material_workers = 2
		}
	}
}

flavor_hab.1801 = { #Mühlviertel Textile Production Success
	type = country_event
	title = flavor_hab.1801.title
	desc = flavor_hab.1801.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1670.1.1
		to = 1720.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	trigger = {
		owns = location:linz
		location:linz = {
			location_building_level = {
				building_type = building_type:cloth_manufactory
				value >= 4
			}
		}
		has_variable = hab_push_for_muhlviertel_textile_industry
	}

	option = {
		name = flavor_hab.1801.a

		remove_variable = hab_push_for_muhlviertel_textile_industry
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_minor_move_to_left }
		add_prestige = prestige_mild_bonus
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_hab.1802 = { #Mühlviertel Textile Production Failure
	type = country_event
	title = flavor_hab.1802.title
	desc = flavor_hab.1802.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1670.1.1
		to = 1720.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	trigger = {
		owns = location:linz
		location:linz = {
			location_building_level = {
				building_type = building_type:cloth_manufactory
				value < 4
			}
		}
		has_variable = hab_push_for_muhlviertel_textile_industry
	}

	option = {
		name = flavor_hab.1802.a

		location:linz = {
			change_development = development_mild_penalty
			change_prosperity = prosperity_severe_penalty
		}
		remove_variable = hab_push_for_muhlviertel_textile_industry
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_move_to_right }
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_severe_penalty }
	}
}

#Jewish Advisors of Leopold I
flavor_hab.1900 = {  #Samuel Oppenheimer
	type = country_event
	title = flavor_hab.1900.title
	desc = flavor_hab.1900.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1655.1.1
		to = 1703.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		create_character = {
			first_name = name_samuel
			last_name = oppenheimer
			birth_date = 1630.6.21
			birth_location = location:heidelberg
			adm = 78
			dip = 75
			mil = 46
			estate = estate_type:burghers_estate
			religion = religion:judaism
			create_in_limbo = yes
			save_scope_as = target_character
			script = hab_samuel_oppenheimer
		}
	}

	trigger = {
		owns = location:vienna
	}

	option = {
		name = flavor_hab.1900.a

		set_variable = samuel_oppenheimer_hired
		change_gold_effect = { scale = -2 }
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.1900.b
		scope:target_character = { banish_character = yes }
	}
}

flavor_hab.1901 = {  #Samson Wertheimer
	type = country_event
	title = flavor_hab.1901.title
	desc = flavor_hab.1901.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1680.1.1
		to = 1724.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		character:hab_samuel_oppenheimer = {
			save_scope_as = target_mentor
		}

		create_character = {
			first_name = name_samson
			last_name = wertheimer
			birth_date = 1658.1.17
			birth_location = location:worms
			adm = 84
			dip = 73
			mil = 41
			estate = estate_type:burghers_estate
			religion = religion:judaism
			create_in_limbo = yes
			save_scope_as = target_character
			script = hab_samson_wertheimer
		}
	}

	trigger = {
		character:hab_samuel_oppenheimer = {
			in_cabinet = yes
		}
		has_variable = samuel_oppenheimer_hired
	}

	option = {
		name = flavor_hab.1901.a

		change_gold_effect = { scale = -2 }
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hab.1901.b
		scope:target_character = { banish_character = yes }
	}
}

flavor_hab.1902 = { #The Court Bankers finance in wartime
	type = country_event
	title = flavor_hab.1902.title
	desc = flavor_hab.1902.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1655.1.1
		to = 1740.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		character:hab_samuel_oppenheimer = {
			if = {
				limit = {
					in_cabinet = yes
				}
			}
			save_scope_as = target_character
		}
		character:hab_samson_wertheimer = {
			if = {
				limit = {
					in_cabinet = yes
					character:hab_samuel_oppenheimer = {
						in_cabinet = no
					}
				}
			}
			save_scope_as = target_character
		}
	}

	trigger = {
		OR = {
			character:hab_samuel_oppenheimer = {
				in_cabinet = yes
			}
			character:hab_samson_wertheimer = {
				in_cabinet = yes
			}
		}
		at_war = yes
	}

	option = {
		name = flavor_hab.1901.a

		change_gold_effect = { scale = 12 }
		add_inflation = inflation_mild_penalty
	}
}

flavor_hab.1903 = { #The Court Bankers finance in wartime
	type = country_event
	title = flavor_hab.1903.title
	desc = flavor_hab.1903.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1655.1.1
		to = 1740.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

		character:hab_samuel_oppenheimer = {
			if = {
				limit = {
					in_cabinet = yes
				}
			}
			save_scope_as = target_character
		}
		character:hab_samson_wertheimer = {
			if = {
				limit = {
					in_cabinet = yes
					character:hab_samuel_oppenheimer = {
						in_cabinet = no
					}
				}
			}
			save_scope_as = target_character
		}
		location:vienna = {
			save_scope_as = target_location
		}
	}

	trigger = {
		OR = {
			character:hab_samuel_oppenheimer = {
				in_cabinet = yes
			}
			character:hab_samson_wertheimer = {
				in_cabinet = yes
			}
		}
		owns = location:vienna
		location:vienna = {
			num_civil_constructions > 4
		}
	}

	option = {
		name = flavor_hab.1903.a

		change_gold_effect = { scale = 8 }
		add_inflation = inflation_mild_penalty
	}
}

flavor_hab.2000 = { #Wenzel Anton Kaunitz - Diplomatic Revolution
	type = country_event
	title = flavor_hab.2000.title
	desc = flavor_hab.2000.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1737.1.1
		to = 1794.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_character = {
			first_name = name_wenceslas
			dynasty = dynasty:von_kaunitz_dynasty
			religion = religion:catholic
			estate = estate_type:nobles_estate
			birth_date = 1711.2.2
			female = no
			birth_location = location:vienna
			adm = 71
			dip = 87
			mil = 68
			save_scope_as = target_character
			create_in_limbo = yes
		}
		random_rival = {
			limit = {
				is_great_power = yes
				has_presence_in = continent:europe
				religion.group = religion_group:christian
			}
			save_scope_as = rival_country
		}
	}

	trigger = {
		has_embraced_institution = institution:enlightenment
		any_rival = {
			is_great_power = yes
			has_presence_in = continent:europe
			religion.group = religion_group:christian
		}
	}

	option = {
		name = flavor_hab.2000.a
		scope:target_character = { move_country = root }
		add_government_power = government_power_extreme_bonus
		add_prestige = prestige_mild_bonus

		every_rival = {
			add_opinion = {
				target = root
				modifier = hab_diplomatic_revolution
			}
		}
		remove_rival = scope:rival_country
		scope:rival_country = {
			trigger_event_non_silently = flavor_hab.2001
		}
	}

	option = {
		name = flavor_hab.2000.b

		scope:target_character = { move_country = root }
		add_legitimacy = legitimacy_weak_bonus
		add_prestige = prestige_mild_bonus
	}
}

flavor_hab.2001 = { #Diplomatic Revolution - Rivals Response
	type = country_event
	title = flavor_hab.2001.title
	desc = flavor_hab.2001.desc

	fire_only_once = yes

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hab.2001.a

		remove_rival = c:HAB
	}

	option = {
		name = flavor_hab.2001.b

		add_prestige = prestige_mild_bonus
	}
}

flavor_hab.2100 = { #Reforms of Maria Theresia and Joseph II
	type = country_event
	title = flavor_hab.2100.title
	desc = flavor_hab.2100.desc
	historical_info = flavor_hab.2100.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1750.1.1
		to = 1800.1.1
		monthly_chance = 4
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_embraced_institution = institution:enlightenment
		ruler ?= { total_abilities >= 170 }
	}

	option = {
		name = flavor_hab.2100.a
		historical_option = yes

		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_large_move_to_right }
		add_research_progress = research_progress_severe_bonus
		add_country_modifier = { modifier = reform_of_law years = 5 mode = add_and_extend }
		set_variable = hab_reforms_of_enlightenment
	}
}

flavor_hab.2101 = { #Pushback against enlightenment reforms
	type = country_event
	title = flavor_hab.2101.title
	desc = flavor_hab.2101.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1780.1.1
		to = 1830.1.1
		monthly_chance = 6
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = hab_reforms_of_enlightenment
		stability <= 25
	}

	option = {
		name = flavor_hab.2101.a
		historical_option = yes

		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_left }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_minor_move_to_left }
		remove_variable = hab_reforms_of_enlightenment
	}

	option = {
		name = flavor_hab.2101.b

		change_gold_effect = { scale = -8 }
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_minor_move_to_right }
		remove_variable = hab_reforms_of_enlightenment

	}

	option = {
		name = flavor_hab.2101.c

		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_penalty }
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_right }
		remove_variable = hab_reforms_of_enlightenment

	}
}

flavor_hab.2102 = { #Embracement of enlighten reforms
	type = country_event
	title = flavor_hab.2102.title
	desc = flavor_hab.2102.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1790.1.1
		to = 1830.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		has_variable = hab_reforms_of_enlightenment
		stability > 25
	}

	option = {
		name = flavor_hab.2102.a

		add_legitimacy = legitimacy_severe_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_right }
		remove_variable = hab_reforms_of_enlightenment
	}
}

flavor_hab.2103 = { #The Raabization of the Land Management - formerly flavor_hab.87
	type = country_event
	title = flavor_hab.2103.title
	desc = flavor_hab.2103.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1750.1.1
		to = 1770.1.1
		monthly_chance = 1
	}

	trigger = {
		has_variable = hab_reforms_of_enlightenment
	}

	immediate = {
		create_character = {
			first_name = name_francis.name_anthony
			last_name = von_Raab
			birth_date = 1722.12.21
			birth_location = location:vienna
			estate = estate_type:burghers_estate
			adm = { 20 60 }
			dip = { 20 60 }
			mil = { 20 40 }
			culture = culture:danube_bavarian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.2103.a
		add_stability = stability_severe_penalty
		change_gold_effect = { scale = 6 }
        scope:target_character = {
            move_country = root
        }
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_severe_penalty
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_severe_bonus
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
	}

	option = {
		name = flavor_hab.2103.b
		add_stability = stability_mild_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
		add_estate_satisfaction = { type = estate_type:peasants_estate
			value = estate_satisfaction_mild_penalty
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.2104 = { #Reforms of Adam František Kollár - formerly flavor_hab.89
	type = country_event
	title = flavor_hab.2104.title
	desc = flavor_hab.2104.desc

	fire_only_once = yes

	historical_info = flavor_hab.2104.historical_info

	dynamic_historical_event = {
		tag = HAB
		from = 1750.1.1
		to = 1760.1.1
		monthly_chance = 1
	}

	trigger = {
		exists = international_organization:hre
		exists = international_organization:hre.leader_country
		OR = {
			any_owned_location = {
				area = area:slovakia_area
				count >= 20
			}
			"culture_percentage_in_country(culture:slovak)" > 0
		}
	}

	immediate = {
		create_character = {
			first_name = name_adam.name_francis
			last_name = kollar_last_name
			birth_date = 1718.1.1
			birth_location = location:oravsky_podzamok
			estate = estate_type:burghers_estate
			adm = { 60 80 }
			dip = { 70 85 }
			mil = { 20 40 }
			culture = culture:slovak
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hab.2104.a
		historical_option = yes
        scope:target_character = {
            move_country = root
        }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
	}

	option = {
		name = flavor_hab.2104.b
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_hab.2200 = { #Growth of Wiener Neustadt
	type = country_event
	title = flavor_hab.2200.title
	desc = flavor_hab.2200.desc
	historical_info = flavor_hab.2200.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1400.1.1
		to = 1450.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	trigger = {
		has_ruler = yes
		owns = location:wiener_neustadt
		has_presence_in = area:styria_area
	}

	option = {
		name = flavor_hab.2200.a
		historical_option = yes

		change_gold_effect = { scale = -4 }
		location:wiener_neustadt = {
			if = {
				limit = {
					location_rank = location_rank:rural_settlement
				}
				change_location_rank = location_rank:town
			}
			else = {
				change_development = development_mild_bonus
				change_prosperity = prosperity_severe_bonus
			}
		}
	}

	option = {
		name = flavor_hab.2200.b

		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_hab.2201 = { #Bastion of Wiener Neustadt
	type = country_event
	title = flavor_hab.2201.title
	desc = flavor_hab.2201.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		tag = TIR
		tag = STY
		from = 1537.1.1
		to = 1580.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	trigger = {
		at_war = no
		owns = location:vienna
		owns = location:wiener_neustadt
		location:wiener_neustadt = {
			OR = {
				location_rank = location_rank:town
				location_rank = location_rank:city
			}
			integration_level = core
			NOT = { has_building = building_type:bastion }
		}
		has_advance = bastion_advance
	}

	option = {
		name = flavor_hab.2201.a
		historical_option = yes

		location:wiener_neustadt = {
			if = {
				limit = {
					has_building = building_type:castle
				}
				destroy_building = "building(building_type:castle|owner)"
			}
			construct_building = {
				building_type = building_type:bastion
				cost_multiplier = 1.2
				cost_multiplier_reason = "military_expensive_sponsorship"
			}
		}
	}

	option = {
		name = flavor_hab.2201.b

		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_hab.2202 = { #Military Academy of Maria Theresia
	type = country_event
	title = flavor_hab.2202.title
	desc = flavor_hab.2202.desc
	historical_info = flavor_hab.2202.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1740.1.1
		to = 1780.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		location:wiener_neustadt = {
			save_scope_as = target_location
		}
	}

	trigger = {
		NOT = {
			has_embraced_institution = institution:levee_en_masse
		}
		at_war = yes
		any_current_war = {
			any_war_participant = {
				has_embraced_institution = institution:levee_en_masse
			}
		}
		owns = location:wiener_neustadt
		location:wiener_neustadt = {
			OR = {
				location_rank = location_rank:town
				location_rank = location_rank:city
			}
			integration_level = core
		}
	}

	option = {
		name = flavor_hab.2202.a
		historical_option = yes

		change_gold_effect = { scale = -12 }
		scope:target_location = {
			change_institution_progress = { type = institution:levee_en_masse value = institution_progress_ultimate_bonus }
		}
		add_army_tradition = army_tradition_mild_bonus
	}

	option = {
		name = flavor_hab.2202.b

		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_hab.2300 = { #Burgundian Marriage
	type = country_event
	title = flavor_hab.2300.title
	desc = flavor_hab.2300.desc

	historical_info = flavor_hab.2300.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1400.1.1
		to = 1500.1.1
		monthly_chance = 10
	}

	immediate = {
		ruler = {
			save_scope_as = austrian_ruler
		}
		c:BUR = {
			ruler = {
				save_scope_as = burgundian_ruler
			}
		}
	}

	trigger = {
		country_exists = c:BUR
		NOT = { c:BUR = { is_rival_of = root } }
		NOT = { c:BUR = { is_enemy_of = root } }
		has_ruler = yes
		government_type = government_type:monarchy
		NOT = { in_union_with = c:BUR }
		NOT = { has_royal_marriage_with = c:BUR }
		ruler = {
			is_female = no
			is_married = no
		}
		c:BUR = {
			government_type = government_type:monarchy
			has_ruler = yes
			ruler ?= {
				is_female = yes
				is_married = no
			}
			has_heir = no
		}
	}

	option = {
		name = flavor_hab.2300.a
		historical_option = yes
		c:BUR = {
			trigger_event_non_silently = { id = flavor_hab.2301 days = 7 }
		}
	}

	option = {
		name = flavor_hab.2300.b
		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_hab.2301 = { #An Offer of Marriage - Burgundy
    type = country_event
	title = flavor_hab.2301.title
	desc = flavor_hab.2301.desc

	historical_info = flavor_hab.2300.historical_info

    option = {
        name = flavor_hab.2301.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_bonus
        c:HAB = { trigger_event_non_silently = { id = flavor_hab.2302 days = 20 } }
		ruler ?= {
			marry_character = scope:austrian_ruler
		}
		add_opinion_mutual_effect = {
			target = c:HAB
			modifier = hab_austro_burgundian_friendship
		}
    }

    option = {
        name = flavor_hab.2301.b
		add_prestige = prestige_severe_bonus
        c:HAB = { trigger_event_non_silently = { id = flavor_hab.2303 days = 20 } }
		add_opinion_mutual_effect = {
			target = c:HAB
			modifier = hab_austro_burgundian_friendship_refused
		}
    }
}

flavor_hab.2302 = { #Positive Response
    type = country_event
	title = flavor_hab.2302.title
	desc = flavor_hab.2302.desc
    option = {
        name = flavor_hab.2302.a
		show_as_tooltip = {
			ruler ?= {
				marry_character = scope:austrian_ruler
			}
			add_opinion_mutual_effect = {
				target = c:BUR
				modifier = hab_austro_burgundian_friendship
			}
		}
    }
}

flavor_hab.2303 = { #Negative Response
    type = country_event
	title = flavor_hab.2303.title
	desc = flavor_hab.2303.desc

    option = {
        name = flavor_hab.2303.a
		show_as_tooltip = {
			add_opinion_mutual_effect = {
				target = c:BUR
				modifier = hab_austro_burgundian_friendship_refused
			}
		}
    }
}

flavor_hab.2400 = { #Bohemian Marriage
	hide_portraits = yes
	type = country_event
	title = flavor_hab.2400.title
	desc = flavor_hab.2400.desc

	historical_info = flavor_hab.2400.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1350.1.1
		to = 1450.1.1
		monthly_chance = 10
	}

	immediate = {
		character:boh_rudolf_habsburg ?= { save_scope_as = rudolf }
		ruler = {
			save_scope_as = austrian_ruler
		}
		c:BOH = {
			ruler = {
				save_scope_as = bohemian_ruler
				random_child = {
					limit = {
						is_female = yes
						is_adult = yes
						age_in_years <= 40
						is_married = no
						is_alive = yes
					}
					save_scope_as = target_princess
				}
			}
		}
	}

	trigger = {
		country_exists = c:BOH
		NOT = { c:BOH = { is_rival_of = root } }
		NOT = { c:BOH = { is_enemy_of = root } }
		has_ruler = yes
		has_regent = no
		in_civil_war = no
		government_type = government_type:monarchy
		NOT = { in_union_with = c:BOH }
		NOT = { has_royal_marriage_with = c:BOH }
		ruler = {
			is_female = no
			is_married = no
			is_adult = yes
			has_dynasty = yes
			is_alive = yes
		}
		c:BOH = {
			government_type = government_type:monarchy
			has_ruler = yes
			ruler = {
				any_child = {
					is_female = yes
					is_adult = yes
					age_in_years <= 40
					is_married = no
					is_alive = yes
				}
			}
		}
	}

	option = {
		name = flavor_hab.2400.a
		historical_option = yes
		c:BOH = {
			trigger_event_non_silently = { id = flavor_hab.2401 days = 7 }
		}
	}

	option = {
		name = flavor_hab.2400.b
		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_hab.2401 = { #An Offer of Marriage - Bohemia
    type = country_event
	title = flavor_hab.2401.title
	desc = flavor_hab.2401.desc

	historical_info = flavor_hab.2400.historical_info

    option = {
        name = flavor_hab.2401.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_bonus
        c:HAB = { trigger_event_non_silently = { id = flavor_hab.2402 days = 20 } }
		show_as_tooltip = {
			scope:target_princess ?= {
				marry_character = scope:austrian_ruler
			}
			c:HAB = {
				add_opinion = {
					modifier = hab_austro_bohemian_friendship
					target = root
				}
				reverse_add_opinion = {
					modifier = hab_austro_bohemian_friendship
					target = root
				}
			}
		}
    }

    option = {
        name = flavor_hab.2401.b
		add_prestige = prestige_severe_bonus
        c:HAB = { trigger_event_non_silently = { id = flavor_hab.2403 days = 20 } }
		show_as_tooltip = {
			c:HAB = {
				add_opinion = {
					modifier = hab_austro_bohemian_friendship_refused
					target = root
				}
				reverse_add_opinion = {
					modifier = hab_austro_bohemian_friendship_refused
					target = root
				}
			}
		}
    }
}

flavor_hab.2402 = { #Positive Response
    type = country_event
	title = flavor_hab.2402.title
	desc = flavor_hab.2402.desc
    option = {
        name = flavor_hab.2402.a
		scope:target_princess ?= {
			marry_character = scope:austrian_ruler
		}
		c:BOH = {
			add_opinion = {
				modifier = hab_austro_bohemian_friendship
				target = root
			}
			reverse_add_opinion = {
				modifier = hab_austro_bohemian_friendship
				target = root
			}
		}
    }
}

flavor_hab.2403 = { #Negative Response
    type = country_event
	title = flavor_hab.2403.title
	desc = flavor_hab.2403.desc

    option = {
        name = flavor_hab.2403.a
		c:BOH = {
			add_opinion = {
				modifier = hab_austro_bohemian_friendship_refused
				target = root
			}
			reverse_add_opinion = {
				modifier = hab_austro_bohemian_friendship_refused
				target = root
			}
		}
    }
}

flavor_hab.2500 = { #The Austro-Prussian Rivalry
	type = country_event
	title = flavor_hab.2500.title
	desc = flavor_hab.2500.desc

	historical_info = flavor_hab.2500.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1600.1.1
		to = 1836.1.1
		monthly_chance = 10
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	trigger = {
		is_leader_of_international_organization = international_organization:hre
		AND = {
			tag_exists = PRU
			country_exists = c:PRU
		}
		NOT = { is_allied_with = { target = c:PRU } }
		NOT = { has_truce_with = c:PRU }
		c:PRU = { NOT = { is_subject_of = root } }
		c:PRU = {
			OR = {
				is_rival_of = ROOT
				is_enemy_of = ROOT
				country_rank_level > 2
			}
		}
		c:PRU = {
			any_owned_location = {
				is_core_of = root
			}
		}
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	option = {
		name = flavor_hab.2500.a
		historical_option = yes
		add_casus_belli = {
			target = c:PRU
			type = casus_belli:cb_humiliate
		}
		add_historical_rival_scripted = { target = c:PRU trigger_recipient_event = no }
		c:PRU = {
			add_historical_rival_scripted = { target = c:HAB trigger_recipient_event = no }
		}
		c:PRU = { trigger_event_non_silently = { id = flavor_hab.2501 days = 20 } }
		every_country = {
			limit = {
				NOT = {
					is_subject_of = root
				}
				NOT = {
					OR = {
						is_rival_of = ROOT
						is_enemy_of = ROOT
					}
				}
				OR = {
					is_rival_of = c:PRU
					is_enemy_of = c:PRU
				}
			}
			add_opinion = { target = root modifier = opinion_anti_prussian_coalition }
		}
	}

	option = {
		name = flavor_hab.2500.b
		add_prestige = prestige_mild_bonus
	}
}

flavor_hab.2501 = { #Prussian Event about the rivalry
    type = country_event
	title = flavor_hab.2501.title
	desc = flavor_hab.2501.desc

	historical_info = flavor_hab.2500.historical_info

    option = {
        name = flavor_hab.2501.a
		historical_option = yes
		show_as_tooltip = {
			c:HAB = {
				add_casus_belli = {
					target = c:PRU
					type = casus_belli:cb_humiliate
				}
				add_historical_rival_scripted = { target = c:PRU trigger_recipient_event = no }
				c:PRU = {
					add_historical_rival_scripted = { target = c:HAB trigger_recipient_event = no }
				}
				every_country = {
					limit = {
						NOT = {
							is_subject_of = root
						}
						NOT = {
							OR = {
								is_rival_of = ROOT
								is_enemy_of = ROOT
							}
						}
						OR = {
							is_rival_of = c:PRU
							is_enemy_of = c:PRU
						}
					}
					add_opinion = { target = root modifier = opinion_anti_prussian_coalition }
				}
			}
		}
    }
}

flavor_hab.2600 = { #Spanish Marriage
	hide_portraits = yes
	type = country_event
	title = flavor_hab.2600.title
	desc = flavor_hab.2600.desc

	historical_info = flavor_hab.2600.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HAB
		from = 1350.1.1
		to = 1600.1.1
		monthly_chance = 10
	}

	immediate = {
		ruler = {
			save_scope_as = austrian_ruler
		}
		if = {
			limit = {
				country_exists = c:CAS
			}
			c:CAS = {
				save_scope_as = target_spain
			}
		}
		else = {
			c:SPA = {
				save_scope_as = target_spain
			}
		}
		scope:target_spain = {
			ruler = {
				save_scope_as = spanish_ruler
				random_child = {
					limit = {
						is_female = yes
						is_adult = yes
						age_in_years <= 40
						is_married = no
					}
					save_scope_as = target_princess
				}
			}
		}
	}

	trigger = {
		OR = {
			country_exists = c:CAS
			country_exists = c:SPA
		}
		trigger_if = {
			limit = {
				country_exists = c:CAS
			}
			NOT = {
				is_rival_of = c:CAS
			}
			NOT = {
				is_enemy_of = c:CAS
			}
			NOT = { in_union_with = c:CAS }
			NOT = { has_royal_marriage_with = c:CAS }
			c:CAS = {
				government_type = government_type:monarchy
				has_ruler = yes
				ruler = {
					any_child = {
						is_female = yes
						is_adult = yes
						age_in_years <= 40
						is_married = no
					}
				}
				OR = {
					is_rival_of = c:FRA
					is_enemy_of = c:FRA
				}
			}
		}
		trigger_else = {
			NOT = {
				is_rival_of = c:SPA
			}
			NOT = {
				is_enemy_of = c:SPA
			}
			NOT = { in_union_with = c:SPA }
			NOT = { has_royal_marriage_with = c:SPA }
			c:SPA = {
				government_type = government_type:monarchy
				has_ruler = yes
				ruler = {
					any_child = {
						is_female = yes
						is_adult = yes
						age_in_years <= 40
						is_married = no
					}
				}
				OR = {
					is_rival_of = c:FRA
					is_enemy_of = c:FRA
				}
			}
		}
		OR = {
			is_rival_of = c:FRA
			is_enemy_of = c:FRA
		}
		has_ruler = yes
		government_type = government_type:monarchy
		ruler = {
			is_female = no
			is_married = no
		}
	}

	option = {
		name = flavor_hab.2600.a
		historical_option = yes
		scope:target_spain = {
			trigger_event_non_silently = { id = flavor_hab.2601 days = 7 }
		}
	}

	option = {
		name = flavor_hab.2600.b
		add_legitimacy = legitimacy_mild_penalty
	}
}

flavor_hab.2601 = { #An Offer of Marriage - Spain
    type = country_event
	title = flavor_hab.2601.title
	desc = flavor_hab.2601.desc

	historical_info = flavor_hab.2600.historical_info

    option = {
        name = flavor_hab.2601.a
		historical_option = yes
		add_legitimacy = legitimacy_severe_bonus
        c:HAB = { trigger_event_non_silently = { id = flavor_hab.2602 days = 20 } }
		scope:target_princess ?= {
			marry_character = scope:austrian_ruler
		}
		c:HAB = {
			add_opinion = {
				modifier = hab_austro_spanish_friendship
				target = root
			}
			reverse_add_opinion = {
				modifier = hab_austro_spanish_friendship
				target = root
			}
		}
    }

    option = {
        name = flavor_hab.2601.b
		add_prestige = prestige_severe_bonus
        c:HAB = { trigger_event_non_silently = { id = flavor_hab.2603 days = 20 } }
		c:HAB = {
			add_opinion = {
				modifier = hab_austro_spanish_friendship_refused
				target = root
			}
			reverse_add_opinion = {
				modifier = hab_austro_spanish_friendship_refused
				target = root
			}
		}
    }
}

flavor_hab.2602 = { #Positive Response
    type = country_event
	title = flavor_hab.2602.title
	desc = flavor_hab.2602.desc
    option = {
        name = flavor_hab.2602.a
		show_as_tooltip = {
			scope:target_princess ?= {
				marry_character = scope:austrian_ruler
			}
			c:HAB = {
				add_opinion = {
					modifier = hab_austro_spanish_friendship
					target = root
				}
				reverse_add_opinion = {
					modifier = hab_austro_spanish_friendship
					target = root
				}
			}
		}
    }
}

flavor_hab.2603 = { #Negative Response
    type = country_event
	title = flavor_hab.2603.title
	desc = flavor_hab.2603.desc

    option = {
        name = flavor_hab.2603.a
		show_as_tooltip = {
			c:HAB = {
				add_opinion = {
					modifier = hab_austro_bohemian_friendship_refused
					target = root
				}
				reverse_add_opinion = {
					modifier = hab_austro_bohemian_friendship_refused
					target = root
				}
			}
		}
    }
}

# #converted Events Age 4 Reformation

# flavor_hab.21 = {
# 	type = country_event
# 	title = flavor_hab.21.title
# 	desc = flavor_hab.21.desc


# 	fire_only_once = yes
# 	dynamic_historical_event = {
# 		tag = HAB
# 		from = 1600.1.1
# 		to = 1650.1.1
# 		monthly_chance = 2
# 	}

# 	trigger = {
# 		stability < 20
# 	}

# 	option = {
# 		name = flavor_hab.21.a
# 		add_stability = stability_extreme_penalty
# 		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_extreme_penalty }
# 	}
# }

# #converted Events Age 5 Absolutism

# flavor_hab.22 = {
# 	type = country_event
# 	title = flavor_hab.22.title
# 	desc = flavor_hab.22.desc

# 	fire_only_once = yes
# 	dynamic_historical_event = {
# 		tag = HAB
# 		from = 1700.1.1
# 		to = 1713.1.1
# 		monthly_chance = 2
# 	}

# 	trigger = {
# 		"culture_percentage_in_country(culture:hungarian)" > 0

# 		area:transdanubia_area = {
# 			any_location_in_area = {
# 				owner = root
# 			}
# 		}
# 		NOT = { country_exists = c:HUN }
# 	}


# 	immediate = {

# 		create_rebel = {
# 			category = nationalist
# 			culture = culture:hungarian
# 			name = hungarian_nobles
# 			save_scope_as = hungarian_nobles
# 		}

# 	}


# 	option = {
# 		name = flavor_hab.22.a
# 		historical_option = yes
# 		custom_tooltip = {
# 			text = hungarian_nobles_joining
# 			every_owned_location = {
# 				every_pop = {
# 					limit = {
# 						owner = root
# 						culture = culture:hungarian
# 					}
# 					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
# 					change_pop_allegiance = scope:hungarian_nobles
# 				}
# 			}

# 		}
# 	}
# 	option = {
# 		name = flavor_hab.22.b
# 		destroy_rebel = scope:hungarian_nobles
# 		create_country_from_cores_in_our_locations = c:HUN
# 		c:HUN = {
# 			make_subject_of = { target = c:HAB type = subject_type:dominion }
# 		}
# 		add_government_power = government_power_weak_penalty
# 	}
# }