namespace = flavor_hun
flavor_hun.100 = {
	hide_portraits = yes
	type = country_event
	title = flavor_hun.100.title
	desc = flavor_hun.100.desc


	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1444.1.1
		to = 1470.1.1
		monthly_chance = 50
	}

	trigger = {
		has_regent = yes
		government_type = government_type:monarchy
		war_exhaustion > 2
		is_at_war_with = c:TUR
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = {
			first_name = name_john
			birth_date = 1406
			adm = 84
			dip = 70
			mil = 90
			birth_location = location:buda
			dynasty = dynasty:hunyadi_dynasty

			add_trait = trait:bold_fighter

			save_scope_as = janos_hunyadi
		}
	}

	option = {
		name = flavor_hun.100.a
		set_regent = scope:janos_hunyadi
		historical_option = yes
	}
	option = {
		name = flavor_hun.100.b
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
	}
	option = {
		name = flavor_hun.100.c
		set_new_ruler = scope:janos_hunyadi
	}
}


flavor_hun.110 = {
	type = country_event
	title = flavor_hun.110.title
	desc = flavor_hun.110.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1466.1.1
		to = 1470.1.1
		monthly_chance = 10
	}

	trigger = {
		has_ruler = yes
		dynasty_exists = hunyadi_dynasty
		ruler = { dynasty = dynasty:hunyadi_dynasty }
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hun.110.a
		change_societal_value = { type = centralization_vs_decentralization	value = societal_value_move_to_left	}
		historical_option = yes
	}
	option = {
		name = flavor_hun.110.b
		change_societal_value = { type = belligerent_vs_conciliatory	value = societal_value_move_to_right	}

	}
}

flavor_hun.120 = {
	type = country_event
	title = flavor_hun.120.title
	desc = flavor_hun.120.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1465.1.1
		to = 1470.1.1
		monthly_chance = 10
	}

	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"

	trigger = {
		religion = religion:catholic
		owns = location:bratislava
	}

	option = {
		name = flavor_hun.120.a
		add_prestige = prestige_mild_bonus
		add_religious_influence = religious_influence_mild_bonus

		location:bratislava = {
			if = {
				limit = {
					has_building_with_at_least_one_level = university
				}
				change_development  = development_mild_bonus
			}
			if = {
				limit = {
					NOT = { has_building = building_type:university }
				}
				change_building_level_in_location = { building = building_type:university 	value = 1 }
			}
		}
	}
}

flavor_hun.130 = {
	type = country_event
	title = flavor_hun.130.title
	desc = flavor_hun.130.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1473.1.1
		to = 1500.1.1
		monthly_chance = 2
	}

	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"

	immediate = {
		create_character = {
			first_name = name_andrew
			last_name = Hess
			adm = 20
			dip = 20
			mil = 20
			artist_skill = 0.33
			artist = writer
			estate = estate_type:burghers_estate
			culture = culture:hungarian
			save_scope_as = target_artist
		}
	}

	trigger = {
		has_embraced_institution = institution:printing_press
	}

	option = {
		name = flavor_hun.130.a
		add_prestige = prestige_mild_bonus
		capital = {
			create_art = {
				artist = scope:target_artist
				quality = 85
				type = work_of_art_type:chronicle
				key = chronica_hungarorum
			}
		}
	}
}

flavor_hun.140 = {
	type = country_event
	title = flavor_hun.140.title
	desc = flavor_hun.140.desc
	historical_info = flavor_hun.140.historical_info
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1600.1.1
		to = 1650.1.1
		monthly_chance = 5
	}

	trigger = {
		government_type = government_type:monarchy
		any_character = {
			is_adult = yes
			is_female = yes
			is_ruler = no
			is_consort = no
			is_heir = no
			culture = root.culture
			has_dynasty = yes
		}
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		random_character = {
			limit = {
				is_adult = yes
				is_female = yes
				is_ruler = no
				is_consort = no
				is_heir = no
				culture = root.culture
				has_dynasty = yes
			}
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_hun.140.a
		historical_option = yes
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_penalty }
		kill_character = {
			target = scope:target_character
			reason = execution
		}
	}
	option = {
		name = flavor_hun.140.b
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_penalty }
	}
}

flavor_hun.150 = {
	type = country_event
	title = flavor_hun.150.title
	desc = flavor_hun.150.desc


	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1550.1.1
		to = 1650.1.1
		monthly_chance = 5
	}

	trigger = {
		country_exists = c:HAB
		has_truce_with = c:TUR
		international_organization:hre.leader_country = c:HAB

		c:HAB.num_of_non_rural > num_of_non_rural

		num_of_non_rural < 5

		c:TUR = {
			any_owned_location = {
				previous_owner = c:HUN
				region = region:carpathia_region
			}
		}
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		c:TUR = { save_scope_as = target_country }
	}

	option = {
		name = flavor_hun.150.a

		every_owned_location = {
			limit = {
				NOT = { is_core_of = c:HAB }
			}
			add_core = c:HAB
		}
	}
}

flavor_hun.160 = {
	type = country_event
	title = flavor_hun.160.title
	desc = flavor_hun.160.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1450.1.1
		to = 1650.1.1
		monthly_chance = 5
	}

	trigger = {
		has_reform = government_reform:hun_power_to_magnates
		stability < -20
	}

	illustration_tags = {
        10 = armed
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hun.160.a

		ordered_owned_location = {
			limit = {
				dominant_culture = culture:hungarian
			}
			order_by = population
			max = 5
			every_pop = {	add_pop_satisfaction = pop_satisfaction_severe_penalty	}
		}
	}
}

flavor_hun.170 = {
	type = country_event
	title = flavor_hun.170.title
	desc = flavor_hun.170.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1490.1.1
		to = 1520.1.1
		monthly_chance = 5
	}

	trigger = {
		country_exists = c:HAB
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hun.170.a
		add_government_power = government_power_extreme_bonus
		c:HAB = { add_opinion = { target = root modifier = hun_bakocz_foreign_policy }	}
		add_opinion = { target = c:HAB modifier = hun_bakocz_foreign_policy }
	}
}

flavor_hun.180 = {
	hide_portraits = yes
	type = country_event
	title = flavor_hun.180.title
	desc = flavor_hun.180.desc

	trigger = {
		has_ruler = yes
	}

	illustration_tags = {
        10 = armed
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:clergy_estate }
		ruler ?= { save_scope_as = target_character }
	}


	option = {
		name = flavor_hun.180.a
		add_opinion = { target = c:BOH modifier = hun_crowned_by_rebels }
		add_prestige = prestige_mild_bonus

		if = {
			limit = {
				c:BOH = { own_entire_province = location:znojmo.province_definition }
			}
			add_casus_belli = { target = c:BOH type = casus_belli:cb_conquer_province province = location:znojmo.province }
		}
		if = {
			limit = {
				c:BOH = { own_entire_province = location:brno.province_definition }
			}
			add_casus_belli = { target = c:BOH type = casus_belli:cb_conquer_province province = location:brno.province }
		}
		if = {
			limit = {
				c:BOH = { own_entire_province = location:olomouc.province_definition }
			}
			add_casus_belli = { target = c:BOH type = casus_belli:cb_conquer_province province = location:olomouc.province }
		}

		if = {
			limit = {
				c:BOH = { own_entire_province = location:hradiste.province_definition }
			}
			add_casus_belli = { target = c:BOH type = casus_belli:cb_conquer_province province = location:hradiste.province }
		}

		c:BOH = {
			trigger_event_silently = { id = flavor_hun.181 }
		}
	}
	option = {
		name = flavor_hun.180.b
		add_prestige = prestige_mild_penalty
		reverse_add_opinion = { target = c:BOH modifier = hun_refused_to_help_rebels }
	}
}

flavor_hun.181 = {
	type = country_event
	title = flavor_hun.181.title
	desc = flavor_hun.181.desc
	
	illustration_tags = {
        10 = armed
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_hun.181.a
		add_opinion = { target = c:HUN modifier = hun_crowned_by_rebels }
	}
}

flavor_hun.190 = {
	type = country_event
	title = flavor_hun.190.title
	desc = flavor_hun.190.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1440.1.1
		to = 1500.1.1
		monthly_chance = 5
	}

	trigger = {
		tag = HUN
		at_war = no

		any_owned_location = {
			area = area:slovakia_area
		}

	}

	illustration_tags = {
        10 = armed
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:nobles_estate }
		set_variable = {
			name = display_num_rebelling_pops_variable
			value = 0
		}
		set_variable = {
			name = display_num_locations_variable
			value = 0
		}
		ordered_owned_location = {
			limit = {
				area = area:slovakia_area
				modifier:fort_level <= 0
			}
			order_by = population
			max = {
				value = 1
				add = {
					value = num_provinces
					multiply = 0.1
				}
			}

			add_to_list = flavor_hun_190_affected_locations_list
			root = {
				change_variable = {
					name = display_num_locations_variable
					add = 1
				}
			}

			every_pop = {
				limit = { owner = root }
				add_to_list = rebelling_pops_flavor_hun_190_list
				owner = {
					change_variable = {
						name = display_num_rebelling_pops_variable
						add = prev.pop_size
					}
				}
			}
		}
	}

	option = {
		name = flavor_hun.190.a

		custom_tooltip = {
			text = flavor_hun_show_rebels_tt
			every_in_list = {
				list = rebelling_pops_flavor_hun_190_list
				add_pop_satisfaction = pop_satisfaction_severe_penalty
			}
		}
	}
	option = {
		name = flavor_hun.190.b

		custom_tooltip = {
			text = every_location_slovakia_loses_prosperity_tt
			area:slovakia_area = {
				every_location_in_area = { change_prosperity = prosperity_extreme_penalty }
			}
		}
	}

	after = {
		hidden_effect = {
			remove_variable = display_num_locations_variable
			remove_variable = display_num_rebelling_pops_variable
		}
	}
}

flavor_hun.200 = {
	type = country_event
	title = flavor_hun.200.title
	desc = flavor_hun.200.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1455.1.1
		to = 1470.1.1
		monthly_chance = 5
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	trigger = {
		has_regent = no
	}

	option = {
		name = flavor_hun.200.a
		change_societal_value = { type = quality_vs_quantity	value = societal_value_move_to_left	}
		change_societal_value = { type = land_vs_naval	value = societal_value_move_to_left	}
	}
}

flavor_hun.210 = {
	hide_portraits = yes
	type = country_event

	title = flavor_hun.210.title
	desc = flavor_hun.210.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1450.1.1
		to = 1500.1.1
		monthly_chance = 5
	}

	trigger = {
		owns = location:belgrad
		is_neighbor_of = c:TUR
		num_of_non_rural < c:TUR.num_of_non_rural
		location:belgrad = {
			modifier:fort_level > 0
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		hidden_effect = {
			if = {
				limit = {
					any_neighbor_country = {
						tag = TUR
						num_of_non_rural >= root.num_of_non_rural
					}
				}

			}
			c:TUR = {
					save_scope_as = threat_to_hungary
			}
			location:belgrad = {
				save_scope_as = belgrade_localized
			}
		}
	}

	option = {
		name = flavor_hun.210.a
		unlock_law_effect = { type = hun_frontier_fortresses }
		add_policy = policy:vegvar_system
	}
	option = {
		name = flavor_hun.210.b
		unlock_law_effect = { type = hun_frontier_fortresses }
		add_policy = policy:not_maintained
	}
}

flavor_hun.220 = {
	type = country_event
	title = flavor_hun.220.title
	desc = flavor_hun.220.desc
	fire_only_once = yes

	dynamic_historical_event = {
		tag = HUN
		from = 1337.1.1
		to = 1600.1.1
		monthly_chance = 5
	}

	trigger = {
		religion.group = religion_group:christian
		owns = location:belgrad
		NOT = {	country_exists = c:SER }
		NOT = {	is_allied_with = { target = c:TUR } }
		location:belgrad = {
			dominant_culture = culture:serbian
		}
		c:TUR = {
			any_owned_location = {
				dominant_culture = culture:serbian
			}
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		location:belgrad = {
			save_scope_as = belgrade_localized
		}
		c:TUR = {
			ordered_owned_location = {
				limit = {
					dominant_culture = culture:serbian
				}
				order_by = population

				max = 1
				province_definition = {
					save_scope_as = origin_province
				}
			}
		}
	}

	option = {
		name = flavor_hun.220.a
		add_migration = {
			owner = root
			from = scope:origin_province
			to = location:belgrad.province_definition
			culture = culture:serbian
			amount = 0.200
			months = 240
		}
	}
}

flavor_hun.230 = {
	type = country_event
	title = flavor_hun.230.title
	desc = flavor_hun.230.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1560.1.1
		to = 1570.1.1
		monthly_chance = 8
	}

	trigger = {
		religion = religion:catholic
		owns = location:debrecen
		religion:calvinist = { is_religion_enabled = yes}
		"religion_percentage_in_country(religion:calvinist)" > 0
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		location:debrecen = {
			save_scope_as = debrecen_province
		}
	}

	option = {
		name = flavor_hun.230.a
		add_policy = policy:jesuits_allowed
		add_religious_influence = religious_influence_mild_bonus
		if = {
			limit = {
				country_exists = c:PAP
			}
			add_opinion = { target = c:PAP modifier = hun_invited_jesuits }
			c:PAP = {
				add_opinion = { target = root modifier = hun_invited_jesuits }
			}
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}
	option = {
		name = flavor_hun.230.b

		ordered_owned_location = {
			limit = {
				dominant_religion != religion:calvinist
			}
			order_by = population
			max = {
				value = 1
				add = {
					value = num_provinces
					multiply = 0.1
				}
			}

			every_pop = {
				split_pop = {
					fraction = 0.1
					religion = religion:calvinist
				}
			}
		}


		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}
}

flavor_hun.240 = {
	type = country_event
	title = flavor_hun.240.title
	desc = flavor_hun.240.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1530.1.1
		to = 1555.1.1
		monthly_chance = 10
	}
	
	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = {
			first_name = name_thomas
			last_name = Nadasdy
			adm = 75
			dip = 70
			mil = 80
			culture = culture:hungarian
			create_in_limbo = yes
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_hun.240.a
		add_government_power = government_power_mild_bonus
		scope:target_character = { move_country = root }
	}
}

flavor_hun.250 = {
	type = country_event
	fire_only_once = yes
	title = flavor_hun.250.title
	desc = flavor_hun.250.desc

	dynamic_historical_event = {
		tag = HUN
		from = 1300.1.1
		to = 1600.1.1
		monthly_chance = 10
	}

	trigger = {
		is_neighbor_of = c:TUR
		country_exists = c:TUR
		NOT = {	is_subject_of = c:TUR }
		num_of_non_rural < c:TUR.num_of_non_rural
		NOT = {	is_allied_with = { target = c:TUR } }
		c:TUR = {
			OR = {
				own_entire_area = area:wallachia_area
				own_entire_area = area:moldavia_area
			}
		}

	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		c:TUR = {
			ordered_owned_location = {
				limit = {
					dominant_religion.group = religion_group:christian
					OR = {
						area = area:wallachia_area
						area = area:moldavia_area
					}
				}
				order_by = population

				max = 1
				province_definition = {
					save_scope_as = origin_province
				}
				dominant_religion = {
					save_scope_as = origin_religion
				}
			}
		}
	}

	option = {
		name = flavor_hun.250.a
		add_migration = {
			owner = root
			from = scope:origin_province
			to = capital.province_definition
			religion = scope:origin_religion
			amount = 0.100
			months = 360
		}
	}
	option = {
		name = flavor_hun.250.b
		add_stability = stability_mild_bonus
	}
}

flavor_hun.260 = {
	type = country_event
	title = flavor_hun.260.title
	desc = flavor_hun.260.desc
	fire_only_once = yes

	dynamic_historical_event = {
		tag = HUN
		from = 1600.1.1
		to = 1750.1.1
		monthly_chance = 10
	}

	illustration_tags = {
        10 = armed
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:nobles_estate }
	}

	trigger = {
		culture = culture:hungarian
		"culture_percentage_in_country(culture:wallachian)" >  0

		any_owned_location = {
			dominant_culture = culture:wallachian
		}
	}

	option = {
		name = flavor_hun.260.a

		ordered_owned_location = {
			limit = {
				dominant_culture = culture:wallachian
			}
			order_by = population
			max = {
				value = 1
				add = {
					value = num_provinces
					multiply = 0.1
				}
			}

			every_pop = {	add_pop_satisfaction = pop_satisfaction_severe_penalty	}
		}
	}
}

flavor_hun.270 = {
	type = country_event
	title = flavor_hun.270.title
	desc = flavor_hun.270.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1583.1.1
		to = 1610.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:zagreb
	}

	illustration_tags = {
        10 = happy
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = {
			birth_date = 1558
			birth_location = location:zagreb
			first_name = name_thomas
			last_name = Erdody
			adm = 80
			dip = 80
			mil = 83
			culture = culture:hungarian
			save_scope_as = target_artist
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hun.270.a
		scope:target_character = { move_country = root }
	}
}

flavor_hun.280 = {
	type = country_event
	title = flavor_hun.280.title
	desc = flavor_hun.280.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1530.1.1
		to = 1540.1.1
		monthly_chance = 10
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	trigger = {
		owns = location:zagreb
		religion = religion:catholic
		religion:lutheran = { is_religion_enabled = yes}
		"religion_percentage_in_country(religion:catholic)" > 0.10
		any_owned_location = {
			dominant_religion = religion:catholic
			dominant_culture = culture:hungarian
		}
	}

	option = {
		name = flavor_hun.280.a

		custom_tooltip =  {
			text = flavor_hun.280.a.tt
			ordered_owned_location = {
				limit = {
					dominant_religion = religion:catholic
					dominant_culture = culture:hungarian
				}
				order_by = population
				max = {
					value = 1
					add = {
						value = num_provinces
						multiply = 0.2
					}
				}

				every_pop = {
					split_pop = {
						fraction = 0.1
						religion = religion:lutheran
					}
				}
			}
		}

	}
	option = {
		name = flavor_hun.280.b
		add_religious_influence = religious_influence_extreme_bonus
	}
}

flavor_hun.290 = { #https://en.wikipedia.org/wiki/Janus_Pannonius
	type = country_event
	title = flavor_hun.290.title
	desc = flavor_hun.290.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1454.1.1
		to = 1470.1.1
		monthly_chance = 10
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		create_character = {
			first_name = name_john
			last_name = Pannonius
			adm = {20 40}
			dip = {20 40}
			mil = {20 40}
			birth_date = 1434.6.29
			birth_location = location:osijek
			artist_skill = 0.85
			artist = philosopher
			estate = estate_type:burghers_estate
			culture = culture:hungarian
			save_scope_as = target_artist
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hun.290.a
		add_prestige = prestige_extreme_bonus
		scope:target_artist = {
			move_country = root
		}
		change_gold_effect = { scale = -2 }
	}

	option = {
		name = flavor_hun.290.b
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		hidden_effect = { kill_character_silently = scope:target_artist }
	}
}

flavor_hun.300 = {
	type = country_event
	title = flavor_hun.300.title
	desc = flavor_hun.300.desc

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_iron.dds"

	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1580.1.1
		to = 1640.1.1
		monthly_chance = 10
	}

	trigger = {
		own_entire_area = area:slovakia_area
	}

	option = {
		name = flavor_hun.300.a
		every_owned_location = {
			limit = {
				area = area:slovakia_area
				OR = {
					raw_material = goods:goods_gold
					raw_material = goods:iron
					raw_material = goods:copper
				}
			}
			add_location_modifier = { modifier = hun_city_league_obligation years = 50 mode = add_and_extend }
		}
	}
	option = {
		name = flavor_hun.300.b
		every_owned_location = {
			limit = {
				area = area:slovakia_area
				OR = {
					raw_material = goods:goods_gold
					raw_material = goods:iron
					raw_material = goods:copper
				}
			}
			add_location_modifier = { modifier = hun_city_leagues_protected years = 50 mode = add_and_extend }
		}
	}
}


flavor_hun.310 = {
	type = country_event
	title = flavor_hun.310.title
	desc = flavor_hun.310.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1600.1.1
		to = 1700.1.1
		monthly_chance = 10
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	trigger = {
		any_owned_location = {
			prosperity < -0.25
		}
		manpower_percentage < 0.7

	}

	option = {
		name = flavor_hun.310.a
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_penalty }
		add_manpower = { value = root.monthly_manpower multiply = 6 }
	}
	option = {
		name = flavor_hun.310.b
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
	}
}

#Charles the Absolute
flavor_hun.320 = {
	type = country_event
	title = flavor_hun.320.title
	desc = flavor_hun.320.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1337.1.1
		to = 1350.1.1
		monthly_chance = 100
	}
	trigger = {
		exists = ruler
		ruler ?= character:hun_karoly_robert
	}
	illustration_tags = {
        10 = regular
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = { save_scope_as = karoly_ruler }
	}
	#The Diet is of no use to me!
	option = {
		name = flavor_hun.320.a
		historical_option = yes
		scope:karoly_ruler = { add_character_modifier = { modifier = hun_absolute_rule years = -1 mode = add_and_extend } }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_penalty }
		set_variable = { name = karoly_absolute value = 1 }
	}
	#The diet might be needed once again
	option = {
		name = flavor_hun.320.b
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
	}
}
#Congress of Visegrad of 1339
flavor_hun.330 = {
	type = country_event
	title = flavor_hun.330.title
	desc = flavor_hun.330.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1337.1.1
		to = 1370.1.1
		monthly_chance = 75
	}
	trigger = {
		country_exists = c:POL
		exists = ruler
		ruler ?= character:hun_karoly_robert
		c:POL = { ruler = character:pol_casimir_iii_piast }
	}
	illustration_tags = {
        10 = regular
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		c:POL = { ruler = { save_scope_as = casimir_scope } }
		ruler = { save_scope_as = karoly_ruler }
	}
	option = {
		name = flavor_hun.330.a
		historical_option = yes
		custom_tooltip = {
			text = flavor_hun.330.a.at
			c:POL = { trigger_event_silently = { id = flavor_hun.331 days = 5 } }
		}
		custom_tooltip = flavor_hun.330.a.bt
	}
	option = {
		name = flavor_hun.330.b
		add_prestige = prestige_weak_bonus
	}
}
#Congress of Visegrad of 1339 (Polish reaction)
flavor_hun.331 = {
	type = country_event
	title = flavor_hun.331.title
	desc = flavor_hun.331.desc
	illustration_tags = {
        10 = regular
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = flavor_hun.331.a
		historical_option = yes
		custom_tooltip = {
			text = flavor_hun.331.a.tt
			c:HUN = {
				trigger_event_silently = {
					id = flavor_hun.332
					days = 5
				}
			}
		}
		show_as_tooltip = {
			change_heir_selection = heir_selection:union_of_crowns_succession
			c:HUN = {
				create_relation = {
					first = this
					second = c:POL
					type = relation_type:union_of_crowns_pact
				}
				change_heir_selection = heir_selection:union_of_crowns_succession
				add_opinion = { target = c:POL modifier = agreed_second_congress_of_visegrad }
				reverse_add_opinion = { target = c:POL modifier = agreed_second_congress_of_visegrad }
			}
		}
	}
	option = {
		name = flavor_hun.331.b
		custom_tooltip = {
			text = flavor_hun.331.b.tt
			c:HUN = {
				trigger_event_silently = {
					id = flavor_hun.18
					days = 5
				}
			}
		}
		show_as_tooltip = {
			c:HUN = {
				add_opinion = { target = c:POL modifier = failed_second_congress_of_visegrad }
				reverse_add_opinion = { target = c:POL modifier = failed_second_congress_of_visegrad }
			}
		}
	}
}
#Congress of Visegrad of 1339 (feedback good)
flavor_hun.332 = {
	type = country_event
	title = flavor_hun.332.title
	desc = flavor_hun.332.desc
	illustration_tags = {
        10 = happy
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = flavor_hun.332.a
		historical_option = yes
		create_relation = {
			first = this
			second = c:POL
			type = relation_type:union_of_crowns_pact
		}
		add_opinion = { target = c:POL modifier = agreed_second_congress_of_visegrad }
		reverse_add_opinion = { target = c:POL modifier = agreed_second_congress_of_visegrad }
	}
}
#Congress of Visegrad of 1339 (feedback bad)
flavor_hun.18 = {
	type = country_event
	title = flavor_hun.18.title
	desc = flavor_hun.18.desc
	illustration_tags = {
        10 = angry
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = flavor_hun.18.a
		add_opinion = { target = c:POL modifier = failed_second_congress_of_visegrad }
		reverse_add_opinion = { target = c:POL modifier = failed_second_congress_of_visegrad }
	}
}
#End of the Gold Export Ban
flavor_hun.340 = {
	type = country_event
	title = flavor_hun.340.title
	desc = flavor_hun.340.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1340.1.1
		to = 1390.1.1
		monthly_chance = 100
	}
	trigger = {
		exists = ruler
		not = { ruler ?= character:hun_karoly_robert }
		character:hun_karoly_robert = {
			is_alive = no
		}
		has_policy = gold_export_ban
	}
	illustration_tags = {
        10 = regular
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:nobles_estate }
		ruler ?= { save_scope_as = ruler_scope }
		character:hun_karoly_robert = { save_scope_as = karoly_scope }
	}
	option = {
		name = flavor_hun.340.a
		historical_option = yes
		add_policy = policy:unlimited_gold_export
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_move_to_left }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_bonus }
	}
	option = {
		name = flavor_hun.340.b
		change_gold_effect = { scale = 2 }
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_move_to_right }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_penalty }
		add_estate_satisfaction = { type = estate_type:burghers_estate value = estate_satisfaction_mild_penalty }
	}
}
#Re-enacting the Golden Bull
flavor_hun.350 = {
	type = country_event
	title = flavor_hun.350.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {has_variable = karoly_absolute }
				desc = flavor_hun.350.desc.a
			}
			triggered_desc = {
				desc = flavor_hun.350.desc.b
			}
		}
	}
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1340.1.1
		to = 1440.1.1
		monthly_chance = 1
	}
	trigger = {
		exists = ruler
		not = { ruler = character:hun_karoly_robert }
		ruler.adm < 50
		ruler.dip < 50
		ruler.mil < 50
		not = { has_estate_privilege = estate_privilege:golden_bull_of_1222 }
		exists = ruler
	}
	illustration_tags = {
        10 = angry
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		hidden_effect = {
			ruler ?= { save_scope_as = ruler_scope }
			character:hun_karoly_robert = { save_scope_as = karoly_ruler }
		}
	}
	option = {
		name = flavor_hun.350.a
		historical_option = yes
		grant_estate_privilege = estate_privilege:golden_bull_of_1222
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
	}
	option = {
		name = flavor_hun.350.b
		add_stability = stability_severe_penalty
		add_government_power = government_power_extreme_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_penalty }
	}
	historical_info = flavor_hun.350.historical_info
}
#The Vlach Law
flavor_hun.360 = {
	hide_portraits = yes
	type = country_event
	title = flavor_hun.360.title
	desc = flavor_hun.360.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1337.1.1
		to = 1600.1.1
		monthly_chance = 3
	}
	trigger = {
		has_law = legal_code_law
		not = { has_policy = vlach_law_policy }
		not = { culture.language = language:romanian_language }
		any_owned_location = {
			any_pop = {
				pop_size > 0.6
				culture = culture:transylvanian
				pop_type = pop_type:peasants
			}
			local_control < 0.5
		}
		"culture_percentage_in_country(culture:transylvanian)" >= 0.1
	}
	illustration_tags = {
        10 = regular
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		hidden_effect = {
			if = {
				limit = { NOT = { any_rebel = { rebel_name_key = transylvanian_independence_fighter } } }
				create_rebel = {
					category = nationalist
					name = transylvanian_independence_fighter
					save_scope_as = transylvanian_independence_fighter
					culture = culture:transylvanian
				}
			}
			ordered_owned_location = {
				limit = {
					any_pop = {
						culture = culture:transylvanian
						pop_type = pop_type:peasants
					}
					local_control < 0.5
				}
				max = 20
				check_range_bounds = no
				order_by = population
				add_to_list = transylvanian_location_list
			}
		}
	}
	option = {
		name = flavor_hun.360.a
		historical_option = yes
		unlock_policy_effect = { type = vlach_law_policy }
		add_policy = policy:vlach_law_policy
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_extreme_penalty }
		culture:transylvanian = {
			change_cultural_view = {
				target = root.culture
				change = 1
			}
		}
	}
	option = {
		name = flavor_hun.360.b
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }

		custom_tooltip = {
			text = flavor_hun.360.b.tt
			every_in_list = {
				list = transylvanian_location_list
				every_pop = {
					limit = {
						owner = root
						culture = culture:transylvanian
						pop_type = pop_type:peasants
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:transylvanian_independence_fighter
				}
			}

		}
		scope:transylvanian_independence_fighter = {
			add_rebel_progress = 0.5
		}
	}
}
#The Order of Saint George
flavor_hun.370 = {
	type = country_event
	title = flavor_hun.370.title
	desc = flavor_hun.370.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1337.1.1
		to = 1437.1.1
		monthly_chance = 2
	}
	trigger = {
		at_war = no
		stability >= 0
		exists = ruler
		has_regent = no
		not = { ruler = character:hun_karoly_robert }	#Founded the order in 1326, would be weird if he would dissolve it again so fast
	}
	illustration_tags = {
        10 = regular
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		hidden_effect = {
			ruler = { save_scope_as = ruler_scope }
			character:hun_karoly_robert = { save_scope_as = karoly_scope }
		}
	}
	option = {
		name = flavor_hun.370.a
		historical_option = yes
		add_prestige = prestige_severe_bonus
		unlock_law_effect = { type = order_of_chivalry_law }
		add_policy = policy:order_of_saint_george_policy
		ruler ?= { join_specific_order_of_chivalry = { type = order_of_saint_george } }
		change_gold_effect = { scale = -5 }
	}
	option = {
		name = flavor_hun.370.b
		add_prestige = prestige_mild_penalty
		change_gold_effect = { scale = 2 }
	}
}
#Placitum Regium
flavor_hun.380 = {
	type = country_event
	title = flavor_hun.380.title
	desc = flavor_hun.380.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1337.1.1
		to = 1500.1.1
		monthly_chance = 1
	}
	trigger = {
		ruler ?= { has_character_modifier = enacted_placitum_regium }
		religion = religion:catholic
	}
	illustration_tags = {
        10 = angry
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		hidden_effect = {
			ruler = { save_scope_as = ruler_scope }
		}
	}
	option = {
		name = flavor_hun.380.a
		historical_option = yes
		ruler = {
			add_adm = 10
			add_mil = 10
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
	}
	option = {
		name = flavor_hun.380.b
		ruler = { remove_character_modifier = enacted_placitum_regium }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_bonus }
	}
	historical_info = flavor_hun.380.historical_info
}
#Miklós Toldi
flavor_hun.390 = {
	type = country_event
	title = flavor_hun.390.title
	desc = flavor_hun.390.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1345.1.1
		to = 1370.1.1
		monthly_chance = 10
	}
	trigger = {
		owns = location:bihar
	}
	illustration_tags = {
        10 = regular
        10 = exterior
    }
	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		create_character = {
			first_name = name_nicholas
			last_name = toldi
			estate = estate_type:peasants_estate
			culture = culture:hungarian
			adm = 75
			dip = 80
			mil = 90
			birth_date = 1320.2.4
			birth_location = location:bihar
			save_scope_as = toldi_scope
			create_in_limbo = yes
		}
	}
	option = {
		name = flavor_hun.390.a
		historical_option = yes
		scope:toldi_scope = {
			move_country = root
			add_mil = 10
			add_character_modifier = {
				modifier = permanently_banned_from_cabinet
				years = -1
				mode = add_and_extend
			}
		}
	}
	option = {
		name = flavor_hun.390.b
		scope:toldi_scope = {
			move_country = root
			add_adm = 25
			add_character_modifier = {
				modifier = block_leading_armies_or_navies
				years = -1
				mode = add_and_extend
			}
		}
	}
	historical_info = flavor_hun.390.historical_info
}
#University in Pécs in 1367
flavor_hun.400 = {
	type = country_event
	title = flavor_hun.400.title
	desc = flavor_hun.400.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1350.1.1
		to = 1400.1.1
		monthly_chance = 10
	}
	trigger = {
		owns = location:pecs
		location:pecs = {
			not = { has_building = building_type:university }
			OR = {
				location_rank = location_rank:town
				location_rank = location_rank:city
			}
		}
	}
	illustration_tags = {
        10 = regular
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		hidden_effect = {
			location:pecs = { save_scope_as = location_scope }
		}
	}
	option = {
		name = flavor_hun.400.a
		historical_option = yes
		change_gold_effect = { scale = -1 }
		add_research_progress = research_progress_weak_bonus
		scope:location_scope = {
			change_building_level_in_location = {
				building = building_type:university
				value = 1
				owner = root
			}
		}
	}
	option = {
		name = flavor_hun.400.b
		add_prestige = prestige_weak_penalty
	}
	historical_info = flavor_hun.400.historical_info
}

#Order of the Dragon
flavor_hun.410 = {
	hide_portraits = yes
	type = country_event
	title = flavor_hun.410.title
	desc = flavor_hun.410.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1400.1.1
		to = 1450.1.1
		monthly_chance = 5
	}
	trigger = {
		has_law = order_of_chivalry_law
		at_war = no
		exists = ruler
		has_regent = no
		region:balkan_region = {
			any_location_in_region = {
				controller ?= {
					culture = culture:turkish_culture
					religion.group = religion_group:muslim
				}
				count >= 5
			}
		}
	}
	illustration_tags = {
        10 = regular
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		region:balkan_region = {
			random_location_in_region = {
				limit = {
					controller ?= {
						culture = culture:turkish_culture
						religion.group = religion_group:muslim
					}
				}
				save_scope_as = target_location
				controller ?= {
					save_scope_as = turkish_scope
				}
			}
		}
		save_scope_as = founder_of_order_of_the_dragon
		ruler = { save_scope_as = ruler_scope }
	}
	option = {
		name = flavor_hun.410.a
		historical_option = yes
		unlock_global_policy_effect = { type = order_of_the_dragon_policy }
		add_policy = policy:order_of_the_dragon_policy
		ruler ?= { join_specific_order_of_chivalry = { type = order_of_the_dragon } }
		change_gold_effect = { scale = -6 }
		add_prestige = prestige_mild_bonus
		custom_tooltip = flavor_hun.410.a.tt
		hidden_effect = {
			every_known_country = {
				limit = {
					OR = {
						culture.language = language:romanian_language
						culture.language = language:hungarian_language
						culture.language = language:serbo_croatian_language
						culture.language = language:albanian_language
					}
				}
				trigger_event_silently = { id = flavor_hun.411 }
			}
		}
	}
	option = {
		name = flavor_hun.410.b
		add_prestige = prestige_weak_penalty
	}
	historical_info = flavor_hun.410.historical_info
}
#Order of the Dragon - Members join
flavor_hun.411 = {
	type = country_event
	title = flavor_hun.411.title
	desc = flavor_hun.411.desc
	illustration_tags = {
        10 = regular
        10 = interior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		hidden_effect = {
			ruler_or_regent = { save_scope_as = our_ruler }
		}
	}
	option = {
		name = flavor_hun.411.a
		historical_option = yes
		unlock_law_effect = { type = order_of_chivalry_law }
		add_policy = policy:order_of_the_dragon_policy
		ruler_or_regent ?= { join_specific_order_of_chivalry = { type = order_of_the_dragon } }
		add_prestige = prestige_mild_bonus
	}
	option = {
		name = flavor_hun.411.b
		add_legitimacy = legitimacy_severe_bonus
	}
	historical_info = flavor_hun.410.historical_info
}
#End of the Great Tournament - End
scripted_effect winning_character_effect = {
	show_as_tooltip = {
		random_list = {
			30 = { add_mil = 15 }
			40 = { add_mil = 10 }
			20 = { add_mil = -5 }
			10 = { add_mil = -10 add_character_modifier = { modifier = block_leading_armies_or_navies years = -1 mode = add_and_extend } }
		}
	}
	hidden_effect = {
		random_list = {
			30 = { set_variable = hun_tournament_winning_character_big_gain }
			40 = { set_variable = hun_tournament_winning_character_small_gain }
			20 = { set_variable = hun_tournament_winning_character_small_loss }
			10 = { set_variable = hun_tournament_winning_character_big_loss }
		}
	}
}
scripted_effect losing_character_effect = {
	show_as_tooltip = {
		random_list = {
			40 = { custom_tooltip = NOTHING_HAPPENS_EFFECT }
			30 = { add_mil = -5 }
			20 = { add_mil = -10 add_character_modifier = { modifier = block_leading_armies_or_navies years = -1 mode = add_and_extend } }
			10 = { kill_character = { target = this reason = jousting } }
		}
	}
	hidden_effect = {
		random_list = {
			40 = { set_variable = hun_tournament_losing_character_big_gain }
			30 = { set_variable = hun_tournament_losing_character_small_gain }
			20 = { set_variable = hun_tournament_losing_character_small_loss }
			10 = { set_variable = hun_tournament_losing_character_big_loss }
		}
	}
}
scripted_effect apply_character_effects = {
	switch = {
		trigger = has_variable
		hun_tournament_winning_character_big_gain = {	add_mil = 15 }
		hun_tournament_winning_character_small_gain = {	add_mil = 10 }
		hun_tournament_winning_character_small_loss = {	add_mil = -5 }
		hun_tournament_winning_character_big_loss = {	add_mil = -10 add_character_modifier = { modifier = block_leading_armies_or_navies years = -1 mode = add_and_extend } }
		hun_tournament_losing_character_big_gain = { }
		hun_tournament_losing_character_small_gain = {	add_mil = -5 }
		hun_tournament_losing_character_small_loss = {	add_mil = -10 add_character_modifier = { modifier = block_leading_armies_or_navies years = -1 mode = add_and_extend } }
		hun_tournament_losing_character_big_loss = {	kill_character = { target = this reason = jousting } }
	}
	hidden_effect = {
		remove_variable = hun_tournament_winning_character_big_gain
		remove_variable = hun_tournament_winning_character_small_gain
		remove_variable = hun_tournament_winning_character_small_loss
		remove_variable = hun_tournament_winning_character_big_loss
		remove_variable = hun_tournament_losing_character_big_gain
		remove_variable = hun_tournament_losing_character_small_gain
		remove_variable = hun_tournament_losing_character_small_loss
		remove_variable = hun_tournament_losing_character_big_loss
	}
}
scripted_effect winning_bet_effect = {
	add_prestige = prestige_severe_bonus
	add_government_power = government_power_severe_bonus
}
scripted_effect losing_bet_effect = {
	add_prestige = prestige_severe_penalty
	add_government_power = government_power_severe_penalty
}
flavor_hun.420 = {
	hide_portraits = yes
	type = country_event
	fire_only_once = yes
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { exists = scope:tournament_victor }
				desc = flavor_hun.420.title
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = flavor_hun.420.title.fallback
			}
		}
	}
	desc = flavor_hun.420.desc
	illustration_tags = {
        10 = happy
        10 = exterior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		random_list = {
			50 = {
				scope:first_tournament_participant = { save_scope_as = tournament_victor }
				scope:second_tournament_participant = { save_scope_as = tournament_loser }
				set_variable = { name = first_wins value = yes days = 20 }
			}
			50 = {
				scope:second_tournament_participant = { save_scope_as = tournament_victor }
				scope:first_tournament_participant = { save_scope_as = tournament_loser }
				set_variable = { name = second_wins value = yes days = 20 }
			}
		}
	}
	option = {
		name = flavor_hun.420.a
		trigger = {
			custom_tooltip = {
				text = flavor_hun.420.a_tt
				OR = {
					AND = {
						has_variable = first_wins
						has_variable = first_tournament_participant_bet
					}
					AND = {
						has_variable = second_wins
						has_variable = second_tournament_participant_bet
					}
				}
			}
		}
		scope:tournament_victor = { winning_character_effect = yes }
		scope:tournament_loser = { losing_character_effect = yes }
		winning_bet_effect = yes
	}
	option = {
		name = flavor_hun.420.b
		trigger = {
			custom_tooltip = {
				text = flavor_hun.420.b_tt
				OR = {
					AND = {
						has_variable = second_wins
						has_variable = first_tournament_participant_bet
					}
					AND = {
						has_variable = first_wins
						has_variable = second_tournament_participant_bet
					}
				}
			}
		}
		scope:tournament_victor = { winning_character_effect = yes }
		scope:tournament_loser = { losing_character_effect = yes }
		losing_bet_effect = yes
	}
	option = {
		name = flavor_hun.420.c
		trigger = {
			custom_tooltip = {
				text = flavor_hun.420.c.tt
				NOT = { has_variable = first_wins }
				NOT = { has_variable = first_tournament_participant_bet }
				NOT = { has_variable = second_wins }
				NOT = { has_variable = second_tournament_participant_bet }
			}
		}
		scope:tournament_victor = { winning_character_effect = yes }
		scope:tournament_loser = { losing_character_effect = yes }
	}
	after = {
		trigger_event_silently = flavor_hun.422
	}
}

#The Great Tournament
flavor_hun.421 = {
	type = country_event
	title = flavor_hun.421.title
	desc = flavor_hun.421.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1337.1.1
		to = 1437.1.1
		monthly_chance = 10
	}
	trigger = {
		has_law = order_of_chivalry_law
		any_character = {
			is_alive = yes
			is_female = no
			is_adult = yes
			is_ruler = no
			has_estate = estate_type:nobles_estate
			count >= 2
		}
	}
	illustration_tags = {
        10 = happy
        10 = exterior
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		hidden_effect = {
			random_character = {
				limit = {
					is_alive = yes
					is_female = no
					is_adult = yes
					is_ruler = no
					has_estate = estate_type:nobles_estate
				}
				save_scope_as = first_tournament_participant
			}
			random_character = {
				limit = {
					is_alive = yes
					is_female = no
					is_adult = yes
					is_ruler = no
					has_estate = estate_type:nobles_estate
					not = { scope:first_tournament_participant = this }
				}
				save_scope_as = second_tournament_participant
			}
			ruler = { save_scope_as = ruler_scope }
		}
	}
	option = {
		name = flavor_hun.421.a
		custom_tooltip = {
			text = flavor_hun.421.a.tt
			set_variable = { name = first_tournament_participant_bet value = yes days = 20 }
		}
	}
	option = {
		name = flavor_hun.421.b
		custom_tooltip = {
			text = flavor_hun.421.b.tt
			set_variable = { name = second_tournament_participant_bet value = yes days = 20 }
		}
	}
	after = {
		trigger_event_silently = { id = flavor_hun.420 days = 3 }
	}
}

#Result of the Tournament (for the characters)
flavor_hun.422 = {
	type = country_event
	title = flavor_hun.422.title
	desc = flavor_hun.422.desc
	
	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hun.422.a
		scope:tournament_victor = { apply_character_effects = yes }
		scope:tournament_loser = { apply_character_effects = yes }
	}
}

scripted_effect damage_the_crown = {
	#Replace the Art with the crooked version
	hidden_effect = {
		destroy_art = work_of_art:holy_crown_of_hungary
	}
	location:buda = {
		create_art = {
			artist = scope:culprit
			type = work_of_art_type:regalia
			quality = 95
			key = holy_crown_of_hungary_crooked
		}
	}
}

flavor_hun.430 = { #The Crooked Holy Crown of Hungary
	hide_portraits = yes
	type = country_event
	title = flavor_hun.430.title
	desc = flavor_hun.430.desc

	fire_only_once = yes

	trigger = {
		current_year > 1600
		tag = HUN
		government_type = government_type:monarchy
		has_ruler = yes
		#Does Hungary have the crown?
		any_owned_location = {
			any_work_of_art_in_location = {
				this = work_of_art:holy_crown_of_hungary
			}
		}
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		work_of_art:holy_crown_of_hungary = {
			save_scope_as = scope_holy_crown_of_hungary
		}
		#Culprit
		random_cabinet_character = {
			save_scope_as = culprit
		}
		ruler = {
			save_scope_as = ruler_scope
		}
	}


	option = {
		name = flavor_hun.430.a

		change_gold_effect = { scale = -5 }
		add_legitimacy = legitimacy_weak_penalty
	}

	option = {
		name = flavor_hun.430.b

		change_gold_effect = { scale = -10 }
		add_prestige = prestige_weak_bonus
		add_legitimacy = legitimacy_weak_penalty
	}

	option = {
		name = flavor_hun.430.c
		damage_the_crown = yes
		add_prestige = prestige_severe_penalty
		add_legitimacy = legitimacy_weak_penalty

	}

	option = {
		name = flavor_hun.430.d
		trigger = {
			ruler = {
				OR = {
					has_trait = cruel
					has_trait = malevolent
				}
			}
			#There is at least a cabinet member
			any_cabinet_character = {
				count > 0
			}
		}
		scope:culprit = {
			kill_character = this
		}
		damage_the_crown = yes
		add_legitimacy = legitimacy_weak_penalty

	}
}

flavor_hun.440 = { #Broken Tradition
	type = country_event
	title = flavor_hun.440.title
	desc = flavor_hun.440.desc
	trigger = {
		tag = HUN
		government_type = government_type:monarchy

		not = {root = work_of_art:holy_crown_of_hungary.location.owner}

		exists = work_of_art:holy_crown_of_hungary_crooked
		not = { work_of_art:holy_crown_of_hungary_crooked.location.owner ?= root}
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		if = {
			limit  = {
				exists = work_of_art:holy_crown_of_hungary_crooked
			}
			work_of_art:holy_crown_of_hungary_crooked = {
				save_scope_as = scope_holy_crown_of_hungary
			}
		}
		else = {
			work_of_art:holy_crown_of_hungary = {
				save_scope_as = scope_holy_crown_of_hungary
			}
		}

		ruler = {
			save_scope_as = ruler_scope
		}
	}

	option = {
		name = flavor_hun.440.a
		add_casus_belli =  {
			type = casus_belli:cb_conquer_province
			province = scope:scope_holy_crown_of_hungary.location.province
			target = scope:scope_holy_crown_of_hungary.location.owner
		}

		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_extreme_penalty }
		add_prestige = prestige_weak_penalty
		add_legitimacy = legitimacy_ultimate_penalty
	}
}

flavor_hun.450 = { #Expanding the Buda Castle
	type = country_event
	title = flavor_hun.450.title
	desc = flavor_hun.450.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HUN
		from = 1430.1.1
		to = 1460.1.1
		monthly_chance = 2
	}

	trigger = {
		government_type = government_type:monarchy
		owns = location:buda
		location:buda = {
			is_capital = yes
			NOT = {
				has_building = building_type:royal_court
			}
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hun.450.a
		historical_option = yes
		location:buda = {
			construct_building = {
				building_type = building_type:royal_court
				cost_multiplier = 0.75
				cost_multiplier_reason = "palace_cheap_sponsorship"
			}
		}
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_left
		}
		add_government_power = government_power_weak_bonus
	}

	option = {
		name = flavor_hun.450.b
		add_government_power = government_power_weak_penalty
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_right
		}
	}
}

flavor_hun.460 = { # Illuminated Chronicle
	hide_portraits = yes
	type = country_event
	title = flavor_hun.460.title
	desc = flavor_hun.460.desc

	historical_info = flavor_hun.460.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1358.1.1
		to = 1375.12.30
		monthly_chance = 2
	}

	trigger = {
		owns = location:buda
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		create_character = {
			first_name = name_mark
			last_name = Kalti
			birth_date = 1336.2.3
			birth_location = location:veszprem
			artist_skill = 0.75
			artist = writer
			estate = estate_type:burghers_estate
			culture = culture:hungarian
			save_scope_as = target_artist
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hun.460.a

		historical_option = yes
		change_gold_effect = { scale = -4 }
		scope:target_artist = { move_country = root }
		location:buda = {
			create_art = {
				quality = 85
				artist = scope:target_artist
				type = work_of_art_type:chronicle
				key = illuminated_chronicle
			}
		}
	}

	option = {
		name = flavor_hun.460.b

		add_prestige = prestige_weak_penalty
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
		hidden_effect = {
   			kill_character_silently = scope:target_artist
  		}
	}
}

flavor_hun.470 = { #Privilegium Pro Slavis
	type = country_event
	title = flavor_hun.470.title
	desc = flavor_hun.470.desc

	fire_only_once = yes

	historical_info = flavor_hun.470.historical_info

	dynamic_historical_event = {
		tag = HUN
		from = 1381.1.1
		to = 1391.1.1
		monthly_chance = 5
	}

	trigger = {
		area:slovakia_area = {
			any_location_in_area = {
				owner = root
				local_cultural_unity < 1
				any_pop = {
					culture = culture:slovak
				}
			}
		}
		area:slovakia_area = {
			any_location_in_area = {
				owner = root
				local_cultural_unity < 1
				any_pop = {
					culture = culture:german_carpathian
				}
			}
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_hun.470.a
		historical_option = yes
		culture:german_carpathian = { add_cultural_influence = cultural_influence_severe_penalty }
		custom_tooltip = {
			text = support_slovak_side
			area:slovakia_area = {
				every_location_in_area = {
					limit = {
						OR = {
							owner = root
							owner = { is_subject_of = root }
						}
					}
					every_pop = {
						limit = {
							owner = root
							culture = culture:slovak
						}
						add_pop_satisfaction = pop_satisfaction_mild_bonus
					}
				}
			}
		}
	}

	option = {
		name = flavor_hun.470.b
		culture:slovak = { add_cultural_influence = cultural_influence_severe_penalty }
		custom_tooltip = {
			text = support_german_carpathian_side
			area:slovakia_area = {
				every_location_in_area = {
					limit = {
						OR = {
							owner = root
							owner = { is_subject_of = root }
						}
					}
					every_pop = {
						limit = {
							owner = root
							culture = culture:german_carpathian
						}
						add_pop_satisfaction = pop_satisfaction_mild_bonus
					}
				}
			}
		}
	}

	option = {
		name = flavor_hun.470.c
		add_prestige = prestige_mild_penalty
	}
}

flavor_hun.480 = { #Austrian Noble Revolt
	hide_portraits = yes
	type = country_event
	title = flavor_hun.480.title
	desc = flavor_hun.480.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HUN
		from = 1700.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	trigger = {
		area:austria_area = {
			any_location_in_area = {
				owner = root
			}
		}
		any_owned_location = {
			is_core_of = c:HAB
			average_satisfaction < 0.5
		}
		NOT = { country_exists = c:HAB }
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		create_rebel = {
			category = nationalist
			culture = culture:danube_bavarian
			name = austrian_nobles
			save_scope_as = austrian_nobles
		}
	}

	option = {
		name = flavor_hun.480.a
		change_societal_value = { type = centralization_vs_decentralization	value = societal_value_move_to_left	}
		custom_tooltip = {
			text = austrian_nobles_joining
			every_owned_location = {
				every_pop = {
					limit = {
						owner = root
						culture = culture:danube_bavarian
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:austrian_nobles
				}
			}
		}
		add_government_power = government_power_severe_bonus
	}
	option = {
		name = flavor_hun.480.b
		change_societal_value = { type = centralization_vs_decentralization	value = societal_value_move_to_right }
		destroy_rebel = scope:austrian_nobles
		create_country_from_cores_in_our_locations = c:HAB
		c:HAB = {
			make_subject_of = { target = root type = subject_type:vassal }
		}
		add_government_power = government_power_severe_penalty
	}
}

flavor_hun.490 = { #Balázs Magyar
	type = country_event
	title = flavor_hun.490.title
	desc = flavor_hun.490.desc

	fire_only_once = yes
	historical_info = flavor_hun.490.historical_info

	dynamic_historical_event = {
		tag = HUN
		from = 1435.1.1
		to = 1450.1.1
		monthly_chance = 10
		has_advance = hun_found_the_black_army
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		create_character = {
			birth_date = 1410.2.3
			birth_location = location:kosice
			first_name = name_blaise
			last_name = Magyar
			adm = 80
			dip = 65
			mil = 90
			culture = culture:hungarian
			save_scope_as = target_character
			create_in_limbo = yes
			add_character_modifier = { modifier = refuses_to_serve_in_cabinet days = -1 mode = add_and_extend }
		}
	}

	option = {
		name = flavor_hun.490.a
		add_army_tradition = army_tradition_mild_bonus
		scope:target_character = {
			move_country = root
			add_character_modifier = { modifier = refuses_to_serve_in_cabinet days = -1 mode = add_and_extend }
		}
	}

	option = {
		name = flavor_hun.490.b
		change_societal_value = { type = offensive_vs_defensive value = societal_value_move_to_right }
		scope:target_character = {
			move_country = root
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			remove_character_modifier = refuses_to_serve_in_cabinet
		}
	}
}

flavor_hun.500 = { #Pál Kinizsi
	type = country_event
	title = flavor_hun.500.title
	desc = flavor_hun.500.desc

	fire_only_once = yes
	historical_info = flavor_hun.500.historical_info

	dynamic_historical_event = {
		tag = HUN
		from = 1460.1.1
		to = 1470.1.1
		monthly_chance = 10
		has_advance = hun_found_the_black_army
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		create_character = {
			first_name = name_paul
			last_name = Kinizsi
			birth_date = 1432.1.1
			birth_location = location:timisoara
			adm = 60
			dip = 60
			mil = 80
			culture = culture:hungarian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_hun.500.a
		add_army_tradition = army_tradition_mild_bonus
		scope:target_character = {
			move_country = root
			add_character_modifier = { modifier = refuses_to_serve_in_cabinet days = -1 mode = add_and_extend }
		}
	}

	option = {
		name = flavor_hun.500.b
		change_societal_value = { type = offensive_vs_defensive value = societal_value_move_to_left }
		scope:target_character = {
			move_country = root
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			remove_character_modifier = refuses_to_serve_in_cabinet
		}
	}
}

flavor_hun.510 = { #Bibliotheca Corviniana
	type = country_event
	title = flavor_hun.510.title
	desc = flavor_hun.510.desc

	historical_info = flavor_hun.510.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = HUN
		from = 1450.1.1
		to = 1490.1.1
		monthly_chance = 2
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		set_variable = unlocked_bibliotheca_corviniana
	}

	option = {
		name = flavor_hun.510.a
		historical_option = yes
		capital = {
			construct_building = {
				building_type = building_type:bibliotheca_corviniana
			}
		}
		add_government_power = government_power_weak_bonus
		add_prestige = prestige_mild_bonus
	}

	option = {
		name = flavor_hun.510.b
		add_prestige = prestige_weak_penalty
	}
}

flavor_hun.520 = { #Bran Castle
	type = country_event
	title = flavor_hun.520.title
	desc = flavor_hun.520.desc

	fire_only_once = yes

	historical_info = flavor_hun.520.historical_info

	dynamic_historical_event = {
		tag = HUN
		from = 1377.1.1
		to = 1420.1.1
		monthly_chance = 2
	}

	trigger = {
		owns = location:brasov
		location:brasov = {
			NOT = { has_building = building_type:castle }
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hun.520.a
		historical_option = yes
		location:brasov = {
			construct_building = {
				building_type = building_type:castle
				cost_multiplier = 0.5
				cost_multiplier_reason = "military_cheap_sponsorship"
				cost_multiplier_reason = "game_concept_event"
			}
		}
	}

	option = {
		name = flavor_hun.520.b
		change_societal_value = { type = offensive_vs_defensive value = societal_value_move_to_right }
	}

	option = {
		name = flavor_hun.520.c
		add_prestige = prestige_mild_penalty
	}
}

flavor_hun.530 = { #Slovak National Awakening
	type = country_event
	fire_only_once = yes
	title = flavor_hun.530.title
	desc = flavor_hun.530.desc

	historical_info = flavor_hun.530.historical_info

	dynamic_historical_event = {
		tag = HUN
		from = 1750.1.1
		to = 1810.1.1
		monthly_chance = 10
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	trigger = {
		area:slovakia_area = {
			any_location_in_area = {
				owner = root
				local_cultural_unity < 1
				any_pop = {
					culture = culture:slovak
				}
			}
		}
	}

	option = {
		name = flavor_hun.530.a
		add_stability = stability_extreme_penalty
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_right }
		custom_tooltip = {
			text = hungary_accepted_slovak_autonomy
			every_owned_location = {
				limit = {
					any_pop = {
						owner = root
						culture = culture:slovak
					}
				}
				every_pop = {
					limit = {
						owner = root
						culture = culture:slovak
					}
					add_pop_satisfaction = pop_satisfaction_extreme_bonus
				}
			}
		}
	}

	option = {
		name = flavor_hun.530.b
		historical_option = yes
		add_stability = stability_extreme_bonus
		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }
		custom_tooltip = {
			text = hungary_rejected_slovak_autonomy
			every_owned_location = {
				limit = {
					any_pop = {
						owner = root
						culture = culture:slovak
					}
				}
				every_pop = {
					limit = {
						owner = root
						culture = culture:slovak
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
				}
			}
		}
	}
}

flavor_hun.540 = { #Transylvanian Germans Convert to Protestantism
	type = country_event
	fire_only_once = yes
	title = flavor_hun.540.title
	desc = flavor_hun.540.desc

	dynamic_historical_event = {
		tag = HUN
		from = 1530.1.1
		to = 1550.1.1
		monthly_chance = 10
	}

	historical_info = flavor_hun.540.historical_info

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_john
			last_name = Honterus
			birth_date = 1498
			birth_location = location:fagaras
			adm = 70
			dip = 80
			mil = 10
			culture = culture:german_transylvanian
			save_scope_as = target_character
		}
	}

	trigger = {
		area:transylvania_area = {
			any_location_in_area = {
				owner = root
				local_cultural_unity < 1
				any_pop = {
					culture = culture:german_transylvanian
				}
			}
		}
		religion:lutheran = {
			is_religion_enabled = yes
		}
		religion = religion:catholic
	}

	option = {
		name = flavor_hun.540.a
		custom_tooltip = {
			text = hungary_transylvanian_germans_convert
			area:transylvania_area = {
				every_location_in_area = {
					every_pop = {
						limit = {
							culture = culture:german_transylvanian
						}
						split_pop = {
							fraction = 0.3
							religion = religion:lutheran
						}
					}
				}
			}
		}
	}
}

flavor_hun.550 = { #Vienna - A New Capital
	type = country_event
	title = flavor_hun.550.title
	desc = flavor_hun.550.desc

	fire_only_once = yes

	historical_info = flavor_hun.550.historical_info

	dynamic_historical_event = {
		tag = HUN
		from = 1470.1.1
		to = 1490.1.1
		monthly_chance = 2
	}

	trigger = {
		owns = location:vienna
		location:vienna = {
			owner = ROOT
			is_capital = no
			controller = ROOT
			is_core_of = ROOT
		}
		exists = international_organization:hre
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hun.550.a
		historical_option = yes
		set_capital = location:vienna
		location:vienna = {
			add_location_modifier = {
				modifier = new_hungarian_capital
				years = 10
				mode = add_and_extend
			}
		}
	}

	option = {
		name = flavor_hun.550.b
		capital = {
			change_development = development_mild_bonus
			change_prosperity = prosperity_severe_bonus
		}
	}
}

flavor_hun.560 = { #Tripartitum
	type = country_event
	title = flavor_hun.560.title
	desc = flavor_hun.560.desc
	fire_only_once = yes

	dynamic_historical_event = {
		tag = HUN
		from = 1517.1.1
		to = 1530.1.1
		monthly_chance = 2
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hun.560.a
		add_stability = stability_mild_bonus
		change_societal_value = {
            type = serfdom_vs_free_subjects
            value = societal_value_move_to_right
        }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_hun.560.b
		historical_option = yes
		add_prestige = prestige_mild_bonus
		change_societal_value = {
            type = serfdom_vs_free_subjects
            value = societal_value_move_to_left
        }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_bonus }
	}
}

flavor_hun.570 = { #Adam František Kollár
	hide_portraits = yes
	type = country_event
	title = flavor_hun.570.title
	desc = flavor_hun.570.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1760.1.1
		to = 1780.1.1
		monthly_chance = 10
	}

	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"

	immediate = {
		create_character = {
			first_name = name_adam.name_francis
			last_name = kollar_last_name
			birth_date = 1718
			birth_location = location:oravsky_podzamok
			adm = 65
			dip = 85
			mil = 10
			culture = culture:slovak
			save_scope_as = target_character
			create_in_limbo = yes
		}
		international_organization:hre.leader_country = {
			save_scope_as = target_emperor
		}
	}

	trigger = {
		area:slovakia_area = {
			any_location_in_area = {
				owner = root
				local_cultural_unity < 1
				any_pop = {
					culture = culture:slovak
				}
			}
		}
		exists = international_organization:hre
		exists = international_organization:hre.leader_country
	}

	option = {
		name = flavor_hun.570.a
		add_government_power = government_power_mild_bonus
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_hun.570.b
		add_opinion = {
			target = scope:target_emperor
			modifier = opinion_good_relations
		}
		scope:target_character = {
			move_country = scope:target_emperor
		}
	}
}

flavor_hun.580 = { #Evacuation of the Capital
	type = country_event
	title = flavor_hun.580.title
	desc = flavor_hun.580.desc
	historical_info = flavor_hun.580.historical_info
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = HUN
		from = 1526.1.1
		to = 1600.1.1
		monthly_chance = 10
	}

	trigger = {
		location:buda = {
			owner = ROOT
			is_capital = yes
			controller = ROOT
			is_core_of = ROOT
		}
		location:buda = {
			any_neighbor_location = {
				owner = c:TUR
			}
		}
		location:bratislava = {
			owner = ROOT
			is_capital = no
			controller = ROOT
			is_core_of = ROOT
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_hun.580.a
		historical_option = yes
		set_capital = location:bratislava
		location:bratislava = {
			if = {
				limit = {
					location_rank = location_rank:rural_settlement
				}
				change_location_rank = location_rank:town
			}
			else = {
				location:bratislava = {
					change_development = development_mild_bonus
					change_prosperity = prosperity_severe_bonus
				}
			}
		}
	}

	option = {
		name = flavor_hun.580.b
		add_stability = stability_weak_bonus
		capital = {
			change_development = development_mild_bonus
			change_prosperity = prosperity_severe_bonus
		}
	}
}

flavor_hun.590 = { #The Origin of the Hussars
	type = country_event
	title = flavor_hun.590.title
	desc = flavor_hun.590.desc
	historical_info = flavor_hun.590.historical_info
	fire_only_once = yes
	dynamic_historical_event = {
		tag = HUN
		from = 1400.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		c:TUR = {
			is_neighbor_of = c:HUN
		}
		has_advance = hun_composite_light_cavalry
		area:transylvania_area = {
			any_location_in_area = {
				owner = root
				local_cultural_unity < 1
				any_pop = {
					culture = culture:serbian
				}
			}
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	option = {
		name = flavor_hun.590.a
		add_army_tradition = army_tradition_mild_bonus
	}

	option = {
		name = flavor_hun.590.b
		historical_option = yes
		change_gold_effect = { scale = -12 }
		add_army_tradition = army_tradition_ultimate_bonus
	}
}