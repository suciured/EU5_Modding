namespace = flavor_pol

flavor_pol.1 = {
	type = country_event

	title = flavor_pol.1.title
	desc = flavor_pol.1.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1600.1.1
		to = 1650.1.1
		monthly_chance = 5
	}

	trigger = {
		num_of_ports >= 1
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = {
			first_name = name_george
			last_name = hewel
			estate = estate_type:burghers_estate
			add_trait = trait:ironside
			culture = root.culture
			create_in_limbo = yes
			save_scope_as = target_character
		}
	}
	option = {
		name = flavor_pol.1.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		change_societal_value = {
			type = land_vs_naval
			value = {
				value = root.navy_tradition
				max = 20
				min = 5
			}
		}
		add_navy_tradition = navy_tradition_extreme_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_extreme_penalty
		}
	}

	option = {
		name = flavor_pol.1.b
		scope:target_character = {
			move_country = root
		}
		add_prestige = {
			value = root.navy_tradition
			multiply = -1
			min = -25
			max = -10
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_weak_bonus
		}
	}
}

#Sigismund's Column
flavor_pol.2 = {#https://en.wikipedia.org/wiki/Sigismund%27s_Column
	type = country_event

	title = flavor_pol.2.title
	desc = flavor_pol.2.desc
	historical_info = flavor_pol.2.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1640.1.1
		to = 1655.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = { #https://en.wikipedia.org/wiki/Costante_Tencalla
			first_name = name_constant
			last_name = Tencalla
			artist_skill = 0.80
			birth_date = 1593
			adm = { 20 60 }
			dip = { 20 60 }
			mil = { 20 60 }
			birth_location = location:lugano
			artist = architect
			culture = culture:lombard
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			script = pol_constant_tencalla
			save_scope_as = constant_tencalla_scope
		}
		create_character = { #https://it.wikipedia.org/wiki/Clemente_Molli
			first_name = name_clement
			last_name = Molli
			artist_skill = 0.86
			adm = { 20 60 }
			dip = { 20 60 }
			mil = { 20 60 }
			birth_date = 1599
			birth_location = location:bologna
			artist = sculptor
			create_in_limbo = yes
			culture = culture:emilian
			estate = estate_type:burghers_estate
			script = pol_clement_molli
			save_scope_as = clement_molli_scope
		}
	}

	option = {
		name = flavor_pol.2.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		add_prestige = prestige_weak_bonus

		scope:constant_tencalla_scope = {
			move_country = root
		}
		scope:clement_molli_scope = {
			move_country = root
		}
		capital = {
			create_art = {
				artist = scope:clement_molli_scope
				quality = 80
				type = work_of_art_type:monument
				key = pol_royal_column
			}
		}
	}
	option = {
		name = flavor_pol.2.b
		add_prestige = prestige_mild_penalty
		scope:constant_tencalla_scope = {
			move_country = location:lugano.owner
		}
		scope:clement_molli_scope = {
			move_country = location:venice.owner
		}
	}
}

#Merkuriusz Polski Ordynaryjny
flavor_pol.3 = { #https://pl.wikipedia.org/wiki/Merkuriusz_Polski_Ordynaryjny
	type = country_event
	title = flavor_pol.3.title
	desc = flavor_pol.3.desc
	historical_info = flavor_pol.3.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1640.1.1
		to = 1700.1.1
		monthly_chance = 2
	}

	trigger = {
		has_advance = newspapers_advance
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		create_character = { #https://pl.wikipedia.org/wiki/Hieronim_Pinocci
			first_name = name_hieronymus
			last_name = name_pinocci
			adm = 85 dip = 91 mil = 41
			birth_date = 1612.12.31
			birth_location = location:lucca
			culture = culture:tuscan
			estate = estate_type:burghers_estate
			script = pol_hieronymus_pinocci
			save_scope_as = hieronymus_pinocci_scope
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_pol.3.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		add_research_progress = research_progress_severe_bonus
		capital = {
			if = {
				limit = {
					NOT = { has_building = building_type:local_newspaper }
				}
				change_building_level_in_location = {
					building = building_type:local_newspaper
					value = 1
				}
			}
		}
		scope:hieronymus_pinocci_scope = {
			move_country = root
			add_character_modifier = {
				modifier = banned_from_cabinet
				years = 10
				mode = add_and_extend
			}
		}
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_right }
	}

	option = {
		name = flavor_pol.3.b
		change_gold_effect = { scale = -1 }
		capital = {
			if = {
				limit = {
					NOT = { has_building = building_type:local_newspaper }
				}
				change_building_level_in_location = {
					building = building_type:local_newspaper
					value = 1
				}
			}
		}
		scope:hieronymus_pinocci_scope = {
			move_country = root
			add_character_modifier = {
				modifier = banned_from_cabinet
				years = 10
				mode = add_and_extend
			}
		}
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_right }
	}

	option = {
		name = flavor_pol.3.c
		add_policy = policy:free_press
		scope:hieronymus_pinocci_scope = { move_country = root }
		capital = {
			if = {
				limit = {
					NOT = { has_building = building_type:local_newspaper }
				}
				change_building_level_in_location = {
					building = building_type:local_newspaper
					value = 1
				}
			}
		}
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_right }
	}
	option = {
		name = flavor_pol.3.d
		add_policy = policy:state_press_only
   		kill_character_silently = scope:hieronymus_pinocci_scope
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_move_to_left }
	}
}

#Vilnius University
flavor_pol.4 = { #https://en.wikipedia.org/wiki/Vilnius_University
	hide_portraits = yes
	type = country_event
	title = flavor_pol.4.title
	desc = flavor_pol.4.desc
	historical_info = flavor_pol.4.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = LIT
		tag = PLC
		from = 1570.1.1
		to = 1610.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:vilnius
		religion = religion:catholic
		location:vilnius = {
			is_city = yes
			NOT = {
				has_building = building_type:university
			}
		}
		owns = location:kaunas
		location:kaunas = {
			is_city = yes
			NOT = {
				has_building = building_type:university
			}
		}
		NOT = {
			country_exists = c:LIT
		}
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:clergy_estate }
		ruler = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.4.a

		historical_option = yes
		location:vilnius = {
			construct_building = {
				building_type = building_type:university
				cost_multiplier = 0.5
				cost_multiplier_reason = "game_concept_event"
			}
		}
		add_policy = policy:jesuits_allowed
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
		add_research_progress = research_progress_mild_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_weak_bonus }
	}

	option = {
		name = flavor_pol.4.b

		location:vilnius = {
			construct_building = {
				building_type = building_type:university
				cost_multiplier = 1.5
				cost_multiplier_reason = "academic_expensive_sponsorship"
			}
		}
		add_policy = policy:jesuits_not_allowed
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_large_move_to_right
		}
		add_research_progress = research_progress_severe_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_bonus }
	}

	option = {
		name = flavor_pol.4.c

		location:kaunas = {
			construct_building = {
				building_type = building_type:university
				cost_multiplier = 1.5
				cost_multiplier_reason = "academic_expensive_sponsorship"
			}
		}
		add_policy = policy:jesuits_not_allowed
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_large_move_to_right
		}
		add_research_progress = research_progress_severe_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_bonus }
	}

	option = {
		name = flavor_pol.4.d
		add_prestige = prestige_weak_penalty
		add_policy = policy:jesuits_not_allowed
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_penalty }
	}
}

scripted_trigger is_acceptable_groom = { #Character scope
	is_alive = yes
	is_female = no
	this != root.ruler
	this != scope:new_ruler
	is_married = no
	has_estate = estate_type:nobles_estate
}

#The Groom of Poland
#This is an extremely difficult to launch historical event
#The easiest path is after flavor_pol.38.a, if the Hungarian ruler has only daughters
flavor_pol.6 = {
	type = country_event
	title = flavor_pol.6.title
	desc = flavor_pol.6.desc

	fire_only_once = yes

	trigger = {
		tag = POL
		#The new ruler is female but legally male and unmarried
		scope:new_ruler = {
			is_female = yes
			is_legally_male = yes
			is_married = no
		}
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		#Check if Lithuania is marriable
		c:LIT = {
			if = {
				limit = {
					OR = {
						ruler = { is_acceptable_groom =yes }
						heir = { is_acceptable_groom =yes }
					}
				}
				save_scope_as = lithuania_groom_country
			}
		}
		#Get 3 marriable countries
		ordered_neighbor_country = {
			order_by = total_population
			limit = {
				this != scope:lithuania_groom_country
				this != c:PAP
				OR = {
					ruler ?= { is_acceptable_groom =yes }
					heir ?= { is_acceptable_groom =yes }
				}
			}
			check_range_bounds = no
			max = 1
			save_scope_as = first_groom_country
		}
		ordered_neighbor_country = {
			order_by = total_population
			limit = {
				this != scope:first_groom_country
				this != scope:lithuania_groom_country
				this != c:PAP
				OR = {
					ruler ?= { is_acceptable_groom =yes }
					heir ?= { is_acceptable_groom =yes }
				}
			}
			check_range_bounds = no
			max = 1
			save_scope_as = second_groom_country
		}
		ordered_neighbor_country = {
			order_by = total_population
			limit = {
				this != scope:first_groom_country
				this != scope:second_groom_country
				this != scope:lithuania_groom_country
				this != c:PAP
				OR = {
					ruler ?= { is_acceptable_groom =yes }
					heir ?= { is_acceptable_groom =yes }
				}
			}
			check_range_bounds = no
			max = 1
			save_scope_as = third_groom_country
		}
	}

	#LIT option
	option = {
		name = flavor_pol.6.a
		historical_option = yes
		trigger = {
			exists = scope:lithuania_groom_country
		}
		scope:lithuania_groom_country = {
			if = {
				limit = { ruler = { is_acceptable_groom =yes }}
				ruler = {
					marry_character = scope:new_ruler
				}
			}
			else_if = {
				limit = { heir = { is_acceptable_groom =yes }}
				ruler = {
					marry_character = scope:new_ruler
				}
			}
			trigger_event_non_silently = flavor_pol.7
		}

		unlock_heir_selection_effect = { type = dynastic_elective_succession }
		change_heir_selection = heir_selection:dynastic_elective_succession
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_bonus }
		add_legitimacy = legitimacy_severe_bonus
	}

	option = {
		name = flavor_pol.6.b
		trigger = {
			exists = scope:first_groom_country
		}
		scope:first_groom_country = {
			if = {
				limit = { ruler = { is_acceptable_groom =yes }}
				ruler = {
					marry_character = scope:new_ruler
				}
			}
			else_if = {
				limit = { heir = { is_acceptable_groom =yes }}
				ruler = {
					marry_character = scope:new_ruler
				}
			}
			trigger_event_non_silently = flavor_pol.7
		}

		unlock_heir_selection_effect = { type = dynastic_elective_succession }
		change_heir_selection = heir_selection:dynastic_elective_succession
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_bonus }
		add_legitimacy = legitimacy_severe_bonus
	}

	option = {
		name = flavor_pol.6.c
		trigger = {
			exists = scope:second_groom_country
		}
		scope:second_groom_country = {
			if = {
				limit = { ruler = { is_acceptable_groom =yes }}
				ruler = {
					marry_character = scope:new_ruler
				}
			}
			else_if = {
				limit = { heir = { is_acceptable_groom =yes }}
				ruler = {
					marry_character = scope:new_ruler
				}
			}
			trigger_event_non_silently = flavor_pol.7
		}

		unlock_heir_selection_effect = { type = dynastic_elective_succession }
		change_heir_selection = heir_selection:dynastic_elective_succession
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_bonus }
		add_legitimacy = legitimacy_severe_bonus
	}

	option = {
		name = flavor_pol.6.d
		trigger = {
			exists = scope:third_groom_country
		}
		scope:third_groom_country = {
			if = {
				limit = { ruler = { is_acceptable_groom =yes }}
				ruler = {
					marry_character = scope:new_ruler
				}
			}
			else_if = {
				limit = { heir = { is_acceptable_groom =yes }}
				ruler = {
					marry_character = scope:new_ruler
				}
			}
			trigger_event_non_silently = flavor_pol.7
		}

		unlock_heir_selection_effect = { type = dynastic_elective_succession }
		change_heir_selection = heir_selection:dynastic_elective_succession
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_severe_bonus }
		add_legitimacy = legitimacy_severe_bonus
	}

	#Reject their authority
	option = {
		name = flavor_pol.6.e
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_extreme_penalty }
		add_legitimacy = legitimacy_ultimate_penalty
	}
}

#Married to the [GetCountry('POL').GetAdjectiveWithNoTooltip] [GetCountry('POL').GetGovernment.GetRulerTitle]
flavor_pol.7 = {
	type = country_event
	title = flavor_pol.7.title
	desc = flavor_pol.7.desc

	fire_only_once = yes
	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		c:POL.ruler = {
			save_scope_as = pol_queen_scope
		}
	}

	option = {
		name = flavor_pol.7.a
		add_prestige = prestige_severe_bonus
	}
}

#The Statute of Piotrkow
flavor_pol.8 = {
	type = country_event
	title = flavor_pol.8.title
	desc = flavor_pol.8.desc
	historical_info = flavor_pol.8.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1490.1.1
		to = 1515.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	trigger = {
		OR = {
			AND = {
				#The Rise of the Szlachta disaster ended with a Nobles victory
				has_variable = rise_of_szlachta_szlachta_outcome_variable

				"estate_power(estate_type:nobles_estate)" > 0.25
			}

			"estate_power(estate_type:nobles_estate)" > "estate_power(estate_type:crown_estate)"
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		unlock_estate_privilege_effect = { type = statutes_of_piotrkow }
	}

	option = {
		name = flavor_pol.8.a
		historical_option = yes

		grant_estate_privilege = estate_privilege:statutes_of_piotrkow

		if = {
			limit = { has_estate_privilege = estate_privilege:peasants_free_peasantry }
			revoke_estate_privilege = estate_privilege:peasants_free_peasantry
		}

		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_extreme_penalty
		}
	}
	option = {
		name = flavor_pol.8.b

		add_stability = stability_ultimate_penalty
	}
}

#The Nieszawa Privileges-'Conventiones Particulares'
flavor_pol.9 = {
	type = country_event
	title = flavor_pol.9.title
	desc = flavor_pol.9.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1460.1.1
		to = 1485.1.1
		monthly_chance = 10
	}

	trigger = {
		NOT = { has_estate_privilege = estate_privilege:nieszawa_privileges }
		"estate_power(estate_type:crown_estate)" < "estate_power(estate_type:nobles_estate)"
		has_ruler = yes
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.9.a
		historical_option = yes
		grant_estate_privilege = estate_privilege:nieszawa_privileges
		add_stability = stability_extreme_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_weak_bonus }
	}
	option = {
		name = flavor_pol.9.b
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_extreme_penalty }
		add_stability = stability_extreme_penalty
	}
}

#The King of the Jesuits
flavor_pol.10 = { #https://en.wikipedia.org/wiki/Sigismund_III_Vasa
	type = country_event
	title = flavor_pol.10.title
	desc = flavor_pol.10.desc
	historical_info = flavor_pol.10.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1580.1.1
		to = 1680.1.1
		monthly_chance = 10
	}

	trigger = {
		#The King is similar to Sigismund III
		has_policy = jesuits_allowed
		government_type = government_type:monarchy
		ruler_or_regent ?= {
			religion = religion:catholic
			NOT = { has_trait = tolerant }
			NOT = { has_trait = free_thinker }
			NOT = { has_trait = drunkard }
			NOT = { has_trait = sinner }
		}
		#Protestantism is present in Poland
		"religion_percentage_in_country(religion:lutheran)" > 0
		religious_unity < 0.66
		#Poland is a Tolerant country
		OR = {
			has_reform = government_reform:religious_tolerance
			modifier:tolerance_heretic >= 0
		}
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_pol.10.a
		historical_option = yes

		if = {
			limit = {
				has_reform = government_reform:religious_tolerance
			}
			remove_reform = government_reform:religious_tolerance
		}
		add_prestige = prestige_mild_bonus
		add_legitimacy = legitimacy_weak_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_left }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_left }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }

		if = {
			limit = { has_estate_privilege = estate_privilege:clergy_protected_faith}
			revoke_estate_privilege = estate_privilege:clergy_protected_faith
		}
		if = {
			limit = { has_estate_privilege = estate_privilege:nobles_protected_faith}
			revoke_estate_privilege = estate_privilege:nobles_protected_faith
		}
		if = {
			limit = { has_estate_privilege = estate_privilege:burghers_protected_faith}
			revoke_estate_privilege = estate_privilege:burghers_protected_faith
		}
		if = {
			limit = { has_estate_privilege = estate_privilege:peasants_protected_faith}
			revoke_estate_privilege = estate_privilege:peasants_protected_faith
		}
	}

	option = {
		name = flavor_pol.10.b

		ordered_known_country = {
			limit = {
				religion = religion:catholic
			}
			order_by = modifier:great_power_score
			max = 3
			add_opinion = { target = root modifier = opinion_pol_true_faith }
		}
		add_stability = stability_severe_bonus
		grant_estate_privilege = estate_privilege:clergy_protected_faith

	}

	option = {
		name = flavor_pol.10.c

		ordered_known_country = {
			limit = {
				religion = religion:catholic
			}
			order_by = modifier:great_power_score
			max = 3
			add_opinion = { target = root modifier = opinion_pol_religious_freedom }
		}

		if = {
			limit = {
				#If we don't have all the slots already full
				num_reforms < modifier:government_reform_slots
				NOT = {has_reform = government_reform:religious_tolerance}
			}
			add_reform = government_reform:religious_tolerance
		}
		add_stability = stability_extreme_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_move_to_right }
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_large_move_to_right }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		grant_estate_privilege = estate_privilege:clergy_protected_faith
		grant_estate_privilege = estate_privilege:nobles_protected_faith
		grant_estate_privilege = estate_privilege:burghers_protected_faith
		grant_estate_privilege = estate_privilege:peasants_protected_faith
	}
}

#The Pacta Conventa and the Henrykian Articles
flavor_pol.11 = { #https://en.wikipedia.org/wiki/Pacta_conventa
	hide_portraits = yes
	type = country_event
	title = flavor_pol.11.title
	desc = flavor_pol.11.desc
	historical_info = flavor_pol.11.historical_info

	fire_only_once = yes

	trigger = {
		tag = POL
		current_year >= 1570
		current_year <= 1670

		has_ruler = yes

		NOT = {
			has_estate_privilege = estate_privilege:pacta_conventa
		}
		"estate_power(estate_type:crown_estate)" < "estate_power(estate_type:nobles_estate)"
		OR = {
			has_estate_privilege = estate_privilege:golden_liberty
			"estate_power(estate_type:nobles_estate)" > 0.35
			succession_law = heir_selection:elective_succession
			succession_law = heir_selection:dynastic_elective_succession
		}
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = new_ruler_scope
		}
		if = {
			limit = {
				any_rebel = {	estate_type = estate_type:nobles_estate   }
			}
			random_rebel = {
				limit = { estate_type = estate_type:nobles_estate }
				save_scope_as = noble_uprising
			}
		}
		else = {
			create_rebel = {
				category = estate
				estate = nobles_estate
				save_scope_as = noble_uprising
			}
		}
	}

	option = {
		name = flavor_pol.11.a
		historical_option = yes
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		add_stability = stability_extreme_bonus
		grant_estate_privilege = estate_privilege:pacta_conventa
		hidden_effect = { destroy_rebel = scope:noble_uprising }
	}

	option = {
		name = flavor_pol.11.b
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_extreme_penalty }
		add_stability = stability_extreme_penalty
		scope:noble_uprising = {
			add_rebel_progress = 0.90
		}

		#As many locations as noble power percentage
		ordered_owned_location = {
			order_by = { #Get the least controlled ones
				value = local_control
				multiply = -1
			}
			max = {
				value = {
					add = num_locations
					multiply = "estate_power(estate_type:nobles_estate)"
				}
			}
			every_pop = {
				limit = {
					owner = root
					OR = {
						pop_type = pop_type:nobles
						pop_type = pop_type:peasants
					}
				}
				add_pop_satisfaction = -0.99
				change_pop_allegiance = scope:noble_uprising
			}
		}
	}

}

#The Sobieskian Army Reforms
flavor_pol.12 = { #https://en.wikipedia.org/wiki/John_III_Sobieski
	hide_portraits = yes
	type = country_event
	title = flavor_pol.12.title
	desc = flavor_pol.12.desc
	historical_info = flavor_pol.12.historical_info

	fire_only_once = yes

	trigger = {
		tag = POL
		current_year >= 1670
		current_year <= 1760

		has_ruler = yes

		num_estate_privileges:nobles_estate > 1
		ruler = {
			mil >= 70
		}
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		random_estate_privilege = {
			limit = {
				estate_type = estate_type:nobles_estate
			}
			save_scope_as = target_privilege
		}
		ruler_or_regent ?= {
			save_scope_as = new_ruler_scope
		}
	}

	option = {
		name = flavor_pol.12.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
		add_army_tradition = army_tradition_severe_bonus
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_bonus }
		change_societal_value = { type = quality_vs_quantity value = societal_value_move_to_left }
	}
	option = {
		name = flavor_pol.12.b
		change_gold_effect = { scale = -3 }
		add_army_tradition = army_tradition_mild_bonus
		change_societal_value = { type = quality_vs_quantity value = societal_value_minor_move_to_left }
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_extreme_penalty }
		revoke_estate_privilege =  scope:target_privilege
		add_stability = stability_severe_penalty
	}
}

#Collegium Hosianum
flavor_pol.14 = {
	type = country_event
	title = flavor_pol.14.title
	desc = flavor_pol.14.desc
	historical_info = flavor_pol.14.historical_info
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1560.1.1
		to = 1575.1.1
		monthly_chance = 2
	}
	trigger = {
		has_unlocked_global_law_trigger = { type = society_of_jesus }
		num_cardinals > 1
		owns = location:olsztyn
		culture = { has_culture_group = culture_group:polish_group }
		religious_unity < 0.85
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_pol.14.a

		historical_option = yes

		add_policy = policy:jesuits_allowed

		location:olsztyn = {
			if = {
				limit = {
					NOT = { has_building = building_type:jesuit_college }
				}
				construct_building = {
					building_type = building_type:jesuit_college
					cost_multiplier = 0.3
					cost_multiplier_reason = "academic_cheap_sponsorship"
				}
			}
			if = {
				limit = {
					province = {
						any_location_in_province = {
							any_pop = {
								NOT = { religion = root.religion }
							}
						}
					}
				}
				province = {
					every_location_in_province = {
						ordered_pop = {
							limit = {
								NOT = { religion = root.religion }
							}
							order_by = {
								value = pop_size
								if = {	#More likely to pick Heretic Christians
									limit = { religion.group = religion_group:christian }
									multiply = 10
								}
							}
							max = 1
							split_pop = {
								fraction = { 0.1 0.3 }
								religion = root.religion
							}
						}
					}
				}
			}
		}

		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_move_to_left
		}
	}

	option = {
		name = flavor_pol.14.b

		add_policy = policy:jesuits_not_allowed

		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_large_move_to_right
		}

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_extreme_penalty
		}

		if = {
			limit = {
				total_effective_building_levels:jesuit_college > 0
			}
			ordered_owned_location = {
				order_by = population
				limit = {
					any_buildings_in_location = { building_type = building_type:jesuit_college }
				}
				max = 4
				check_range_bounds = no
				destroy_building = "building(building_type:jesuit_college|root)"
			}
		}
	}
}

#The Radziwill Bible & the Reformation in Poland
flavor_pol.15 = {
	type = country_event
	title = flavor_pol.15.title
	desc = flavor_pol.15.desc
	historical_info = flavor_pol.15.historical_info
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1550.1.1
		to = 1580.1.1
		monthly_chance = 2
	}
	trigger = {
		religion = religion:catholic
		owns = location:lublin
		religion:calvinist = { is_religion_enabled = yes }
		"religion_percentage_in_country(religion:calvinist)" > 0
		culture = { has_culture_group = culture_group:polish_group }
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		capital.area = { save_scope_as = target_area }
		capital = {
			create_art = {
				quality = { 60 80 }
				type = work_of_art_type:scripture
				key = radziwilli_bible
				save_scope_as = target_art
			}
		}
	}

	option = {
		name = flavor_pol.15.a
		historical_option = yes

		add_religious_influence = religious_influence_mild_penalty

		custom_tooltip = {
			text = 10_percent_of_pops_in_target_area_become_calvinist_tt
			scope:target_area = {
				every_ownable_location_in_area = {
					limit = { owner = root }
					every_pop = {
						limit = { religion = religion:catholic }
						split_pop = {
							fraction = { 0.05 0.1 }
							religion = religion:calvinist
						}
					}
				}
			}
		}
	}

	option = {
		name = flavor_pol.15.b
		add_stability = stability_extreme_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_extreme_penalty }

		destroy_art = work_of_art:radziwilli_bible
	}
}

#Elective Monarchy in Poland
flavor_pol.16 = {
	type = country_event
	title = flavor_pol.16.title
	desc = flavor_pol.16.desc
	historical_info = flavor_pol.16.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1550.1.1
		to = 1650.1.1
		monthly_chance = 1
	}

	trigger = {
		ruler_or_regent ?= { total_abilities < 250 }
		government_type = government_type:monarchy
		"estate_power(estate_type:nobles_estate)" > 0.5
		OR = {
			NOT = { has_estate_privilege = estate_privilege:golden_liberty }
			NOT = { has_reform = government_reform:rule_of_the_sejm }
			NOT = { succession_law = heir_selection:elective_succession }
		}
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		set_variable = had_sejm_event_variable
	}

	option = {
		name = flavor_pol.16.a

		if = {
			limit = {
				NOT = { has_estate_privilege = estate_privilege:golden_liberty }
			}
			grant_estate_privilege = estate_privilege:golden_liberty
		}
		if = {
			limit = {
				NOT = { succession_law = heir_selection:elective_succession }
			}
			change_heir_selection = heir_selection:elective_succession
		}
		if = {
			limit = {
				NOT = { has_reform = government_reform:rule_of_the_sejm }
			}
			add_reform = government_reform:rule_of_the_sejm
		}
	}
}

#The Great Northern Conflict
flavor_pol.17 = {
	hide_portraits = yes
	type = country_event
	title = flavor_pol.17.title
	desc = flavor_pol.17.desc
	historical_info = flavor_pol.17.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1690.1.1
		to = 1710.1.1
		monthly_chance = 20
	}

	trigger = {
		OR = {
			any_rival = {
				culture ?= { has_culture_group = culture_group:scandinavian_group }
				is_neighbor_of = root
				root = { can_declare_war_on = prev }
			}
			any_enemy = {
				culture ?= { has_culture_group = culture_group:scandinavian_group }
				is_neighbor_of = root
				root = { can_declare_war_on = prev }
			}
		}
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		if = {
			limit = {
				any_rival = {
					culture ?= { has_culture_group = culture_group:scandinavian_group }
					is_neighbor_of = root
					root = { can_declare_war_on = prev }
				}
			}
			ordered_rival = {
				limit = {
					culture ?= { has_culture_group = culture_group:scandinavian_group }
					is_neighbor_of = root
					root = { can_declare_war_on = prev }
				}
				order_by = great_power_score
				check_range_bounds = no
				max = 1
				save_scope_as = target_country
			}
		}
		else = {
			ordered_enemy = {
				limit = {
					culture ?= { has_culture_group = culture_group:scandinavian_group }
					is_neighbor_of = root
					root = { can_declare_war_on = prev }
				}
				order_by = great_power_score
				check_range_bounds = no
				max = 1
				save_scope_as = target_country
			}
		}
		scope:target_country = {
			ordered_province = {
				limit = {
					any_location_in_province = { is_neighbor_of = root }
				}
				order_by = population
				max = 1
				check_range_bounds = no
				save_scope_as = target_province
			}
		}
	}

	option = {
		name = flavor_pol.17.a
		historical_option = yes

		scope:target_country = {
			add_opinion = { target = root modifier = opinion_polish_aggressions }
		}

		declare_war_with_cb = {
			target = scope:target_country
			target_province = scope:target_province
			type = casus_belli:great_northern_conflict
		}

		add_army_tradition = army_tradition_extreme_bonus
	}
	option = {
		name = flavor_pol.17.b

		add_casus_belli =  {
			type = casus_belli:great_northern_conflict
			target = scope:target_country
			province = scope:target_province.province
			years = 20
		}

		add_prestige = prestige_extreme_penalty
	}
}

#Turko-Polish Tension
flavor_pol.18 = {
	type = country_event
	title = flavor_pol.18.title
	desc = flavor_pol.18.desc
	historical_info = flavor_pol.18.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1400.1.1
		to = 1700.1.1
		monthly_chance = 20
	}

	trigger = {
		religion.group = religion_group:christian
		country_exists = c:TUR
		is_neighbor_of = c:TUR
		can_declare_war_on = c:TUR
		c:TUR = {
			NOT = { religion.group = religion_group:christian }
		}
		monthly_manpower > 0.2
		is_during_bankruptcy = no
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
	}

	option = {
		name = flavor_pol.18.a
		add_manpower = { value = root.monthly_manpower multiply = 10 }
		add_casus_belli = { target = c:TUR type = casus_belli:cb_crusade years = 15 }
	}
}

#Ending the Stagnation
flavor_pol.19 = {
	type = country_event
	title = flavor_pol.19.title
	desc = flavor_pol.19.desc
	historical_info = flavor_pol.19.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1680.1.1
		to = 1695.1.1
		monthly_chance = 20
	}

	trigger = {
		has_estate_privilege = estate_privilege:liberum_veto
		has_estate_privilege = estate_privilege:nieszawa_privileges
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_pol.19.a
		historical_option = yes
		add_stability = stability_mild_bonus
		custom_tooltip = pol_stag_maybe_more
	}
	option = {
		name = flavor_pol.19.b
		add_stability = stability_ultimate_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_radical_penalty }
		revoke_estate_privilege = estate_privilege:liberum_veto
		revoke_estate_privilege = estate_privilege:nieszawa_privileges
	}
}

#Ending the Stagnation
flavor_pol.20 = {
	type = country_event
	title = flavor_pol.20.title
	desc = flavor_pol.20.desc
	historical_info = flavor_pol.20.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1692.1.1
		to = 1712.1.1
		monthly_chance = 5
	}

	trigger = {
		has_estate_privilege = estate_privilege:liberum_veto
		has_estate_privilege = estate_privilege:nieszawa_privileges
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_pol.20.a
		historical_option = yes
		add_stability = stability_mild_bonus
		custom_tooltip = pol_stag_maybe_more
	}
	option = {
		name = flavor_pol.20.b
		add_stability = stability_ultimate_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_radical_penalty }
		revoke_estate_privilege = estate_privilege:liberum_veto
		revoke_estate_privilege = estate_privilege:nieszawa_privileges
	}
}

#Ending the Stagnation
flavor_pol.21 = {
	type = country_event
	title = flavor_pol.21.title
	desc = flavor_pol.21.desc
	historical_info = flavor_pol.21.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1765.1.1
		to = 1780.1.1
		monthly_chance = 5
	}

	trigger = {
		has_estate_privilege = estate_privilege:liberum_veto
		has_estate_privilege = estate_privilege:nieszawa_privileges
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_pol.21.a
		historical_option = yes
		add_stability = stability_mild_bonus
		custom_tooltip = pol_stag_maybe_more
	}
	option = {
		name = flavor_pol.21.b
		add_stability = stability_ultimate_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_radical_penalty }
		revoke_estate_privilege = estate_privilege:liberum_veto
		revoke_estate_privilege = estate_privilege:nieszawa_privileges
	}
}

#Ending the Stagnation
flavor_pol.22 = {
	type = country_event
	title = flavor_pol.22.title
	desc = flavor_pol.22.desc
	historical_info = flavor_pol.22.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1785.1.1
		to = 1800.1.1
		monthly_chance = 5
	}

	trigger = {
		has_estate_privilege = estate_privilege:liberum_veto
		has_estate_privilege = estate_privilege:nieszawa_privileges
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_pol.22.a
		add_stability = 40
		change_societal_value = { type = mercantilism_vs_free_trade value = -3.00 }
	}
	option = {
		name = flavor_pol.22.b
		add_stability = stability_ultimate_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_radical_penalty }
		revoke_estate_privilege = estate_privilege:liberum_veto
		revoke_estate_privilege = estate_privilege:nieszawa_privileges
	}
}

#The Sejm comply with your policies
flavor_pol.23 = {
	type = country_event
	title = flavor_pol.23.title
	desc = flavor_pol.23.desc
	historical_info = flavor_pol.23.historical_info
	trigger = {
		OR = {
			has_estate_privilege = estate_privilege:pacta_conventa
			has_estate_privilege = estate_privilege:liberum_veto
			has_estate_privilege = estate_privilege:nieszawa_privileges
		}
		NOT = {
			OR = {
 				has_variable = pol_sejm_disagrees_cooldown
				has_variable = pol_sejm_agrees_cooldown
			}
		}
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		set_variable = { name = pol_sejm_agrees_cooldown value = 1 days = 365 }
	}

	option = {
		name = flavor_pol.23.a
		change_parliament_issue_support = 0.25
	}
}

#The Sejm veto all your policies
flavor_pol.24 = {
	type = country_event
	title = flavor_pol.24.title
	desc = flavor_pol.24.desc
	historical_info = flavor_pol.23.historical_info

	trigger = {
		OR = {
			has_estate_privilege = estate_privilege:pacta_conventa
			has_estate_privilege = estate_privilege:liberum_veto
			has_estate_privilege = estate_privilege:nieszawa_privileges
		}
		NOT = {
			OR = {
 				has_variable = pol_sejm_disagrees_cooldown
				has_variable = pol_sejm_agrees_cooldown
			}
		}
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		set_variable = { name = pol_sejm_disagrees_cooldown value = 1 days = 365 }
	}

	option = {
		name = flavor_pol.24.a
		change_parliament_issue_support = -1.0
	}
	option = {
		name = flavor_pol.24.b
		add_legitimacy = legitimacy_weak_penalty
		add_stability = stability_mild_penalty
	}
}

flavor_pol.25 = { #The University of Krakow
	title = flavor_pol.25.title
	desc = flavor_pol.25.desc
	historical_info = flavor_pol.25.historical_info
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1340.1.1
		to = 1400.12.30
		monthly_chance = 5
	}
	trigger = {
		at_war = no
		owns = location:krakow
		location:krakow = { has_building = building_type:university }
	}
	illustration_tags = {
		10 = interior
		10 = happy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		location:krakow = { save_scope_as = target_location }
		ruler_or_regent ?= { save_scope_as = target_character }
	}

	option = { #Push forward with the reforms!
		change_gold_effect = { scale = -4 }
		name = flavor_pol.25.a
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
		location:krakow = {
			change_prosperity = prosperity_severe_bonus
			add_location_modifier = {
				modifier = pol_krakow_university_modifier
				years = 20
				mode = add_and_extend
			}
		}
	}

	option = { #We can not afford this.
		name = flavor_pol.25.b

		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
	}
}

flavor_pol.26 = { #The City of [target_location.GetNameWithNoTooltip]
	hide_portraits = yes
	title = flavor_pol.26.title
	desc = flavor_pol.26.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		from = 1375.6.1
		to = 1475.6.1
		monthly_chance = 1
	}
	trigger = {
		at_war = no
		owns = location:gdansk
	}
	illustration_tags = {
		10 = exterior
		10 = happy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		location:gdansk = { save_scope_as = target_location }
		ruler_or_regent ?= { save_scope_as = target_character }
	}

	option = { #Yes
		name = flavor_pol.26.a
		location:gdansk = {
			change_control = control_severe_penalty
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:burghers
				}
				add_pop_satisfaction = pop_satisfaction_ultimate_bonus
			}
		}
		if = {
			limit = {
				NOT = { has_estate_privilege = estate_privilege:control_over_the_coinage }
			}
			grant_estate_privilege = estate_privilege:control_over_the_coinage
			location:gdansk = { change_prosperity = prosperity_very_weak_bonus }
		}
		add_stability = stability_weak_bonus
	}

	option = { #We can not afford this.
		name = flavor_pol.26.b

		location:gdansk = {
			change_control = control_mild_bonus
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:burghers
				}
				add_pop_satisfaction = pop_satisfaction_radical_penalty
			}
		}
		add_stability = stability_mild_penalty
	}
}

flavor_pol.27 = { #Expanding the Quarter Army
	title = flavor_pol.27.title
	desc = flavor_pol.27.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1525
		to = 1612.3.12
		monthly_chance = 5
	}
	trigger = {
		army_tradition >= 50
		is_during_bankruptcy = no
		at_war = no
	}
	illustration_tags = {
		10 = exterior
		10 = regular
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		ruler_or_regent ?= { save_scope_as = target_character }
	}

	option = { #Push forward with the reforms!
		name = flavor_pol.27.a
		change_gold_effect = { scale = -4 }
		change_societal_value = {
			type = offensive_vs_defensive
			value = societal_value_large_move_to_left
		}
		add_army_tradition = army_tradition_extreme_bonus
		add_stability = stability_extreme_penalty
	}

	option = { #We can not afford this.
		name = flavor_pol.27.b

		custom_tooltip = scales_with_army_tradition_tt
		add_prestige = {
			value = army_tradition
			multiply = -1
			multiply = 0.33
			max = -10
			min = -30
		}
	}
}

flavor_pol.28 = { #Collegium Maius & the Growth of Thought
	title = flavor_pol.28.title
	desc = flavor_pol.28.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		from = 1400.6.1
		to = 1460.6.1
		monthly_chance = 1
	}
	trigger = {
		owns = location:krakow
		location:krakow = { has_building = building_type:university }
	}
	illustration_tags = {
		10 = exterior
		10 = happy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		location:krakow = { save_scope_as = target_location }
	}

	option = {
		name = flavor_pol.28.a

		change_gold_effect = { scale = -4 }
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_large_move_to_right
		}
		add_research_progress = research_progress_severe_bonus
	}

	option = {
		name = flavor_pol.28.b

		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
		add_prestige = prestige_mild_penalty
	}
}

flavor_pol.29 = { #The reforms of [target_character.GetNameWithNoTooltip]
	title = flavor_pol.29.title
	desc = flavor_pol.29.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		from = 1345.6.1
		to = 1390.6.1
		monthly_chance = 1
	}
	trigger = {
		ruler_or_regent ?= {
			total_abilities >= 200
		}
	}
	illustration_tags = {
		10 = exterior
		10 = regular
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.29.a

		change_gold_effect = { scale = -2 }
		if = {
			limit = {
				any_owned_location = {
					OR = {
						has_building = building_type:stockade
						has_building = building_type:castle
					}
				}
			}
			custom_tooltip = every_location_with_fortifications_gains_5_prosperity_tt
			hidden_effect = {
				every_owned_location = {
					limit = {
						OR = {
							has_building = building_type:castle
							has_building = building_type:stockade
						}
					}
					change_prosperity  = prosperity_very_weak_bonus
				}
			}
		}
		add_stability = stability_mild_penalty
		if = {
			limit = { has_advance = stone_and_brick }
			add_country_modifier = {
				modifier = pol_prosperity_works_modifier
				years = 20
				mode = add_and_extend
				size = 1.5
			}
		}
		else = {
			add_country_modifier = {
				modifier = pol_prosperity_works_modifier
				years = 20
				mode = add_and_extend
			}
		}
	}

	option = {
		name = flavor_pol.29.b

		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_extreme_bonus
		}
		add_stability = stability_weak_bonus
	}
}

flavor_pol.30 = { #The Statutes of [target_character.GetNameWithNoTooltip] the Great
	title = flavor_pol.30.title
	desc = flavor_pol.30.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		from = 1345.6.1
		to = 1390.6.1
		monthly_chance = 1
	}
	trigger = {
		ruler_or_regent ?= {
			total_abilities >= 200
		}
	}
	illustration_tags = {
		10 = interior
		10 = angry
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.30.a

		set_variable = {
			name = reforms_of_casimir_iii_variable
			value = 0
		}
		custom_tooltip = pol_start_deliberation_for_statutes_tt
		change_gold_effect = { scale = -4 }
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_radical_penalty
		}
		hidden_effect = {
			trigger_event_non_silently = flavor_pol.31
			trigger_event_non_silently = {
				id = flavor_pol.31
				days = 33
			}
			trigger_event_non_silently = {
				id = flavor_pol.32
				days = 69
			}
			trigger_event_non_silently = {
				id = flavor_pol.33
				days = 107
			}
		}
	}

	option = {
		name = flavor_pol.30.b

		add_stability = stability_mild_bonus
	}
}

flavor_pol.31 = { #Social System
	title = flavor_pol.31.title
	desc = flavor_pol.31.desc
	fire_only_once = yes
	
	illustration_tags = {
		10 = interior
		10 = angry
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.31.a

		add_government_power = government_power_extreme_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_extreme_penalty
		}
		change_variable = {
			name = reforms_of_casimir_iii_variable
			add = 0.75
		}
		if = {
			limit = { NOT = { has_estate_privilege = estate_privilege:peasants_free_peasantry } }
			grant_estate_privilege = estate_privilege:peasants_free_peasantry
		}

		custom_tooltip = greatly_increase_the_positive_gain_from_reforms_tt
	}

	option = {
		name = flavor_pol.31.b

		add_government_power = government_power_severe_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
		change_variable = {
			name = reforms_of_casimir_iii_variable
			add = 0.35
		}

		custom_tooltip = mild_increase_the_positive_gain_from_reforms_tt
	}

	option = {
		name = flavor_pol.31.c
		add_government_power = government_power_mild_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
		change_variable = {
			name = reforms_of_casimir_iii_variable
			add = 0.1
		}

		custom_tooltip = minor_increase_the_positive_gain_from_reforms_tt
	}
}

flavor_pol.32 = { #Private Law
	hide_portraits = yes
	title = flavor_pol.32.title
	desc = flavor_pol.32.desc
	fire_only_once = yes
	illustration_tags = {
		10 = interior
		10 = angry
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = { #Reduce liability greatly
		name = flavor_pol.32.a

		add_government_power = government_power_extreme_penalty
		if = {
			limit = { num_subjects > 0 }
			every_subject = {
				add_liberty_desire = liberty_desire_severe_plus
			}
		}
		else = {
			add_estate_satisfaction = { type = estate_type:burghers_estate
				value = estate_satisfaction_extreme_penalty
			}
		}
		change_variable = {
			name = reforms_of_casimir_iii_variable
			add = 0.75
		}

		custom_tooltip = greatly_increase_the_positive_gain_from_reforms_tt
	}

	option = {	#Reduce liability
		name = flavor_pol.32.b
		add_government_power = government_power_severe_penalty
		if = {
			limit = { num_subjects > 0 }
			every_subject = {
				add_liberty_desire = 15
			}
		}
		else = {
			add_estate_satisfaction = { type = estate_type:burghers_estate
				value = estate_satisfaction_severe_penalty
			}
		}
		change_variable = {
			name = reforms_of_casimir_iii_variable
			add = 0.35
		}

		custom_tooltip = mild_increase_the_positive_gain_from_reforms_tt
	}

	option = {	#Reduce liability slightly
		name = flavor_pol.32.c
		add_government_power = government_power_mild_penalty
		if = {
			limit = { num_subjects > 0 }
			every_subject = {
				add_liberty_desire = liberty_desire_mild_plus
			}
		}
		else = {
			add_estate_satisfaction = { type = estate_type:burghers_estate
				value = estate_satisfaction_mild_penalty
			}
		}
		change_variable = {
			name = reforms_of_casimir_iii_variable
			add = 0.1
		}

		custom_tooltip = minor_increase_the_positive_gain_from_reforms_tt
	}
}

flavor_pol.33 = { #Litigation Proceedings
	hide_portraits = yes
	title = flavor_pol.33.title
	desc = flavor_pol.33.desc
	fire_only_once = yes
	illustration_tags = {
		10 = interior
		10 = regular
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {	#Greatly expand judicial authority
		name = flavor_pol.33.a

		add_government_power = government_power_extreme_penalty
		add_stability = stability_extreme_penalty
		change_variable = {
			name = reforms_of_casimir_iii_variable
			add = 0.75
		}

		custom_tooltip = greatly_increase_the_positive_gain_from_reforms_tt
	}

	option = {	# expand judicial authority
		name = flavor_pol.33.b
		add_government_power = government_power_severe_penalty
		add_stability = stability_severe_penalty

		change_variable = {
			name = reforms_of_casimir_iii_variable
			add = 0.35
		}

		custom_tooltip = mild_increase_the_positive_gain_from_reforms_tt
	}

	option = { #Minorly expand judicial authority
		name = flavor_pol.33.c
		add_government_power = government_power_mild_penalty
		add_stability = stability_mild_penalty

		change_variable = {
			name = reforms_of_casimir_iii_variable
			add = 0.1
		}

		custom_tooltip = minor_increase_the_positive_gain_from_reforms_tt
	}

	after = {
		trigger_event_silently = {
			id = flavor_pol.34
			days = { 3 5 }
		}
	}
}

flavor_pol.34 = { #Social System
	hide_portraits = yes
	title = flavor_pol.34.title
	desc = flavor_pol.34.desc
	fire_only_once = yes
	illustration_tags = {
		10 = interior
		10 = regular
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.34.a

		unlock_policy_effect = { type = piotrokow_wislica_statutes }
		add_policy = policy:piotrokow_wislica_statutes
		add_country_modifier = {
			modifier = piotrokow_wislica_statutes_impact_modifier
			years = 20
			mode = add_and_extend
			size = {
				value = 1
				add = {
					desc = "based_on_reform_choices_tt"
					value = var:reforms_of_casimir_iii_variable
					multiply = 0.5
				}
			}
		}
	}

	after = {
		hidden_effect = { remove_variable = reforms_of_casimir_iii_variable }
	}
}

flavor_pol.35 = { #The Passing of [target_character2] / the Queen
	title = flavor_pol.35.title
	desc = flavor_pol.35.desc
	fire_only_once = yes
	illustration_tags = {
		10 = regular
		10 = angry
	}
	dynamic_historical_event = {
		tag = POL
		from = 1337.6.1
		to = 1342.6.1
		monthly_chance = 3
	}
	trigger = {
		has_regent = no
		has_consort = yes
		is_subject = no
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:clergy_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
		consort = {
			save_scope_as = target_character2
		}
		kill_character_silently = {
			target = scope:target_character2
			reason = fever
		}
	}

	option = {
		name = flavor_pol.35.a

		custom_tooltip = casimir_less_interested_in_love_tooltip
		scope:target_character = {
			hidden_effect = { add_fertility = -10 }
			add_character_modifier = {
				modifier = character_mourning_modifier
				years = 2
				mode = add_and_extend
			}
		}
	}
}

flavor_pol.36 = { #Esterka
	title = flavor_pol.36.title
	desc = flavor_pol.36.desc
	fire_only_once = yes
	illustration_tags = {
		10 = interior
		10 = angry
	}
	dynamic_historical_event = {
		tag = POL
		from = 1345.6.1
		to = 1365.6.1
		monthly_chance = 1
	}
	trigger = {
		ruler ?= character:pol_casimir_iii_piast
		religion = religion:catholic
		government_type = government_type:monarchy
		ruler_or_regent ?= { is_married = no }
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
		create_character = {
			first_name = name_ester
			last_name = Malach
			birth_date = 1325.1.1
			religion = religion:judaism
			adm = { 35 90 }
			dip = { 35 90 }
			mil = { 35 90 }
			female = yes
			culture = culture:ashkenazi
			birth_location = location:krakow
			estate = estate_type:burghers_estate #Her father was a respected merchant and doctor
			create_in_limbo = yes
			save_scope_as = target_character2
		}
	}

	option = {
		name = flavor_pol.36.a

		scope:target_character2 = {
			move_country = root
		}
		scope:target_character = { marry_character = scope:target_character2 }
		add_religious_influence_if_valid = { VALUE = religious_influence_severe_penalty }
		add_government_power = government_power_severe_penalty
		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_large_move_to_right
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_radical_penalty
		}
		if = {
			limit = {
				ruler_or_regent ?= {
					any_child = {
						OR = {
							is_legally_male = no
							is_female = no
						}
						count < 1
					}
				}
			}
			custom_tooltip = ruler_gains_fertility_tt
			hidden_effect = {
				ruler_or_regent ?= { add_fertility = 10 }
			}
		}
	}

	option = {
		name = flavor_pol.36.b

		scope:target_character2 = {
			move_country = root
		}
		add_religious_influence_if_valid = { VALUE = religious_influence_mild_penalty }
		add_government_power = government_power_weak_penalty
	}

	option = {
		name = flavor_pol.36.c

		custom_tooltip = target_character_2_vanishes_tt
		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character2
				reason = vanished
			}
		}
	}
}

flavor_pol.37 = { #The Shooting Societies of Poland
	title = flavor_pol.37.title
	desc = flavor_pol.37.desc
	historical_info = flavor_pol.37.historical_info
	fire_only_once = yes
	illustration_tags = {
		10 = exterior
		10 = regular
	}
	dynamic_historical_event = {
		tag = POL
		from = 1350.6.1
		to = 1370.6.1
		monthly_chance = 1
	}
	trigger = {
		is_during_bankruptcy = no
		owns = location:krakow
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }

	}

	option = {
		name = flavor_pol.37.a
		change_gold_effect = { scale = -4 }
		add_gold_to_estate = {
			estate_type = estate_type:burghers_estate
			value = {
				value = monthly_income_trade_and_tax
				multiply = 4
			}
		}
		set_variable = unlock_shooting_societies_variable
		grant_estate_privilege = estate_privilege:shooting_societies
		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_extreme_bonus
		}
	}

	option = {
		name = flavor_pol.37.b

		change_gold_effect = { scale = -1 }
		add_gold_to_estate = {
			estate_type = estate_type:burghers_estate
			value = {
				value = monthly_income_trade_and_tax
				multiply = 1
			}
		}
		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}
		location:krakow = {
			change_prosperity  = prosperity_very_weak_bonus
		}
	}

	option = {
		name = flavor_pol.37.c

		add_estate_satisfaction = { type = estate_type:burghers_estate
			value = estate_satisfaction_severe_penalty
		}
		add_stability = stability_mild_penalty
	}
}

flavor_pol.38 = {
	type = country_event

	title = flavor_pol.38.title
	desc = flavor_pol.38.desc

	fire_only_once = yes
	trigger = {
		has_ruler = yes
		in_union_with = c:POL
		NOT = { tag = POL }
		any_international_organizations_member_of = {
			country_is_senior_partner = { country = root }
		}
		at_war = no
		c:POL = {
			NOR = {
				has_estate_privilege = estate_privilege:reduced_responsibilities_for_the_nobles
				has_estate_privilege = estate_privilege:reduced_taxation_for_the_nobles
			}
			at_war = no
			num_possible_estate_privileges:nobles_estate > 0
		}
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler ?= { save_scope_as = target_character }
		c:POL ?= {
			save_scope_as = target_country1
			capital = { save_scope_as = target_location }
		}
		save_scope_as = target_country2
	}

	option = {	#Yes, promise them privileges
		name = flavor_pol.38.a
		historical_option = yes
		c:POL = {
			set_variable = granted_privileges_to_secure_throne
			show_as_tooltip = {
				grant_estate_privilege = estate_privilege:reduced_responsibilities_for_the_nobles
				grant_estate_privilege = estate_privilege:reduced_taxation_for_the_nobles
			}
			change_societal_value = {
				type = aristocracy_vs_plutocracy
				value = societal_value_large_move_to_left
			}
			add_stability = stability_severe_bonus
			#Make the daughters of Lajos legally male
			if = {
				limit = {
					ruler ?= {
						not = {
							any_child = {
								is_female = no
							}
						}
					}
				}
				ruler ?= {
					every_child = {
						limit = { is_female = yes }
						add_character_modifier = {
							modifier = prefection_modifier
							years = -1
							mode = add_and_extend
						}
					}
				}
			}

			trigger_event_non_silently = flavor_pol.39
			add_opinion_mutual_effect = {
				modifier = pol_political_intervention_modifier
				target = root
			}
		}
		add_government_power = government_power_extreme_bonus
	}

	option = {	#Better not
		name = flavor_pol.38.b
		add_government_power = government_power_ultimate_penalty
	}
}

flavor_pol.39 = {
	type = country_event
	title = flavor_pol.39.title
	desc = flavor_pol.39.desc
	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {	#Yes, promise them privileges
		name = flavor_pol.39.a
		grant_estate_privilege = estate_privilege:reduced_responsibilities_for_the_nobles
		grant_estate_privilege = estate_privilege:reduced_taxation_for_the_nobles
		show_as_tooltip = {
			change_societal_value = {
				type = aristocracy_vs_plutocracy
				value = societal_value_large_move_to_left
			}
			add_stability = stability_severe_bonus
			add_opinion_mutual_effect = {
				modifier = pol_political_intervention_modifier
				target = scope:target_country2
			}
		}
	}
}

flavor_pol.40 = {
	hide_portraits = yes
	type = country_event

	title = flavor_pol.40.title
	desc = flavor_pol.40.desc
	dynamic_historical_event = {
		tag = POL
		from = 1365.6.1
		to = 1444.6.1
		monthly_chance = 1
	}
	fire_only_once = yes
	trigger = {
		government_power < 50
		OR = {
			NOT = { has_estate_privilege = estate_privilege:reduced_responsibilities_for_the_nobles }
			NOT = { has_estate_privilege = estate_privilege:reduced_taxation_for_the_nobles }
		}
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler ?= { save_scope_as = target_character }
	}

	option = {	#Yes, promise them privileges
		name = flavor_pol.40.a
		historical_option = yes
		if = {
			limit = { NOT = { has_estate_privilege = estate_privilege:reduced_responsibilities_for_the_nobles } }
			grant_estate_privilege = estate_privilege:reduced_responsibilities_for_the_nobles
		}
		if = {
			limit = { NOT = { has_estate_privilege = estate_privilege:reduced_taxation_for_the_nobles } }
			grant_estate_privilege = estate_privilege:reduced_taxation_for_the_nobles
		}
		change_societal_value = {
			type = aristocracy_vs_plutocracy
			value = societal_value_large_move_to_left
		}
		add_government_power = government_power_ultimate_bonus
		add_stability = stability_extreme_bonus
	}

	option = {	#Better not
		name = flavor_pol.40.b
		add_government_power = government_power_ultimate_penalty
		add_stability = stability_extreme_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_radical_penalty
		}
	}
}

flavor_pol.41 = {
	hide_portraits = yes
	type = country_event

	title = flavor_pol.41.title
	desc = flavor_pol.41.desc
	dynamic_historical_event = {
		tag = POL
		from = 1385.6.1
		to = 1450.6.1
		monthly_chance = 1
	}
	fire_only_once = yes
	trigger = {
		OR = {
			NOT = { has_estate_privilege = estate_privilege:reduced_responsibilities_for_the_nobles }
			NOT = { has_estate_privilege = estate_privilege:reduced_taxation_for_the_nobles }
			societal_value:aristocracy_vs_plutocracy >= -75
		}
		is_active_parliament = yes
	}
	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler ?= { save_scope_as = target_character }
	}

	option = {	#Yes, promise them privileges
		name = flavor_pol.41.a
		historical_option = yes
		if = {
			limit = {
				NOT = { has_estate_privilege = estate_privilege:reduced_responsibilities_for_the_nobles }
			}
			grant_estate_privilege = estate_privilege:reduced_responsibilities_for_the_nobles
		}
		if = {
			limit = {
				NOT = { has_estate_privilege = estate_privilege:reduced_taxation_for_the_nobles }
			}
			grant_estate_privilege = estate_privilege:reduced_taxation_for_the_nobles
		}
		change_societal_value = {
			type = aristocracy_vs_plutocracy
			value = societal_value_large_move_to_left
		}
		add_government_power = government_power_extreme_bonus
		add_stability = stability_mild_bonus
	}

	option = {	#Better not
		name = flavor_pol.41.b
		add_government_power = government_power_ultimate_penalty
		add_stability = stability_extreme_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_radical_penalty
		}
	}
}

#Zawisza Czarny
flavor_pol.42 = {
	type = country_event

	title = flavor_pol.42.title
	desc = flavor_pol.42.desc
	dynamic_historical_event = {
		tag = POL
		from = 1410.1.1
		to = 1430.1.1
		monthly_chance = 5
	}
	fire_only_once = yes
	trigger = {
		owns = location:sandomierz
		has_ruler = yes
	}
	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		create_character = { #https://en.wikipedia.org/wiki/Zawisza_the_Black
			first_name = name_zawisza
			last_name = z_Garbowa
			adm = 33 dip = 59 mil = 82
			birth_date = 1370.1.1
			birth_location = location:sandomierz
			culture = culture:lesser_polish
			estate = estate_type:nobles_estate
			create_in_limbo = yes
			save_scope_as = target_character
		}
		scope:target_character = {
			add_character_modifier = {
				modifier = pol_paragon_of_chivalric_values_modifier
				years = -1
			}
		}
		ruler = {
			save_scope_as = ruler_scope
		}
	}

	option = {	#We are honored
		name = flavor_pol.42.a
		historical_option = yes

		change_societal_value = {
			type = aristocracy_vs_plutocracy
			value = societal_value_minor_move_to_left
		}
		scope:target_character = {
			move_country = ROOT
		}
	}

	option = {	#Better not
		name = flavor_pol.42.b
		add_prestige = prestige_weak_penalty
		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character
				reason = vanished
			}
		}
	}
}

# The Root.Capital Confederation
# https://en.wikipedia.org/wiki/Warsaw_Confederation
flavor_pol.43 = {
	type = country_event

	title = flavor_pol.43.title
	desc = flavor_pol.43.desc
	historical_info = flavor_pol.43.historical_info
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1567.1.1
		to = 1667.1.1
		monthly_chance = 5
	}

	fire_only_once = yes
	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = ruler_scope
		}
	}

	trigger = {
		has_ruler = yes
	}

	option = {	#Enact it
		name = flavor_pol.43.a
		historical_option = yes

		unlock_government_reform_effect = { type = warsaw_confederation }

		if = {
			limit = {
				has_reform = government_reform:religious_tolerance
			}
			remove_reform = government_reform:religious_tolerance
		}

		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_large_move_to_right
		}

		add_reform = government_reform:warsaw_confederation

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_severe_penalty
		}
	}

	option = {	#Better not
		name = flavor_pol.43.b

		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_minor_move_to_left
		}
	}
}

# Privilege of Koszyce
# https://en.wikipedia.org/wiki/Privilege_of_Koszyce
flavor_pol.44 = {
	type = country_event

	title = flavor_pol.44.title
	desc = flavor_pol.44.desc
	historical_info = flavor_pol.44.historical_info
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1370.1.1
		to = 1400.1.1
		monthly_chance = 5
	}

	fire_only_once = yes
	illustration_tags = {
		10 = regular
		10 = interior
	}

	trigger = {
		succession_law != heir_selection:union_of_crowns_succession
		has_ruler = yes
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = ruler_scope
		}
	}

	option = {	#Enact it
		name = flavor_pol.44.a
		historical_option = yes

		hidden_effect = {
			set_variable = {
				name = unlock_privilege_of_koszyce
				value = yes
			}
		}
		if = {
			limit = {
				NOT = { has_estate_privilege = estate_privilege:privilege_of_koszyce }
			}
			grant_estate_privilege = estate_privilege:privilege_of_koszyce
		}
		if = {
			limit = {
				NOT = {
					OR = {
						succession_law = heir_selection:cognatic_primogeniture
						succession_law = heir_selection:absolute_cognatic_primogeniture
					}
				}
			}
			change_heir_selection = heir_selection:cognatic_primogeniture
		}
		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}

		custom_tooltip = POL_may_form_union_with_lit_at_later_date
	}

	option = {	#Better not
		name = flavor_pol.44.b

		add_stability = stability_mild_penalty
	}
}

# Rise of the Jagiellonians
# https://en.wikipedia.org/wiki/Jagiellonian_dynasty
flavor_pol.45 = {
	type = country_event

	title = flavor_pol.45.title
	desc = flavor_pol.45.desc
	historical_info = flavor_pol.45.historical_info

	dynamic_historical_event = {
		tag = POL
		from = 1370.1.1
		to = 1450.1.1
		monthly_chance = 5
	}

	fire_only_once = yes
	illustration_tags = {
		10 = happy
		10 = interior
	}

	trigger = {
		country_exists = c:LIT
		c:LIT = {
			in_union_with = ROOT
		}
		has_ruler = yes
		ruler = {
			num_of_children > 0
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = pol_dynasty_founder
		}
		save_scope_as = pol_country
		c:LIT = { save_scope_as = lit_country }
	}

	option = {
		name = flavor_pol.45.a

		ruler = { found_dynasty = jagiellon_dynasty }

		add_prestige = prestige_severe_bonus
	}
}

# Corona Regni Poloniae
# https://en.wikipedia.org/wiki/Crown_of_the_Kingdom_of_Poland
# Removed - advance exists

scripted_effect clear_marriage_flags_and_set_scope_flags = {
	remove_variable = POL_betrothal_initiated
	remove_variable = POL_marriage_happening
	var:POL_pol_candidate_global = {
		save_scope_as = polish_candidate
		remove_character_modifier = pol_blocked_from_marriage_betrothal
	}

	c:LIT = {
		var:POL_lit_candidate_global = {
			save_scope_as = lithuanian_candidate
			remove_character_modifier = pol_blocked_from_marriage_betrothal
		}
	}
}

scripted_effect pol_clear_scope_flags = {
	c:LIT = {
		remove_variable = POL_lit_candidate_global
	}
	remove_variable = POL_pol_candidate_global
}

# Betrothal Broken
flavor_pol.46 = {
	type = country_event

	title = flavor_pol.46.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					OR = {
						c:POL.var:POL_pol_candidate_global = {
							is_alive = no
						}
						c:LIT.var:POL_lit_candidate_global = {
							is_alive = no
						}
					}
				}
				desc = flavor_pol.46.desc.a
			}
			triggered_desc = {
				trigger = {
					c:POL.var:POL_pol_candidate_global = {
						is_married = yes
					}
				}
				desc = flavor_pol.46.desc.b
			}
			triggered_desc = {
				trigger = {
					c:LIT.var:POL_lit_candidate_global = {
						is_married = yes
					}
				}
				desc = flavor_pol.46.desc.c
			}
			triggered_desc = {
				desc = flavor_pol.46.desc.d
			}
		}
	}

	trigger = {
		tag = POL
		has_variable = POL_betrothal_initiated
		OR = {
			c:POL.var:POL_pol_candidate_global = {
				OR = {
					is_alive = no
					is_married = yes
				}
			}
			c:LIT.var:POL_lit_candidate_global = {
				OR = {
					is_alive = no
					is_married = yes
				}
			}
		}
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		clear_marriage_flags_and_set_scope_flags = yes
		if = {
			limit = {
				OR = {
					c:POL.var:POL_pol_candidate_global = {
						is_alive = no
					}
					c:LIT.var:POL_lit_candidate_global = {
						is_alive = no
					}
				}
			}
			if = {
				limit = {
					c:POL.var:POL_pol_candidate_global = {
						is_alive = no
					}
				}
				c:POL.var:POL_pol_candidate_global = {
					save_scope_as = dead_character
				}
			}
			else = {
				c:LIT.var:POL_lit_candidate_global = {
					save_scope_as = dead_character
				}
			}
		}
	}

	option = {
		name = flavor_pol.46.a

		custom_tooltip = POL_betrothal_is_broken
	}
	after = {
		pol_clear_scope_flags = yes
	}
}

# Union of Krewo
# https://en.wikipedia.org/wiki/Union_of_Krewo
flavor_pol.47 = {
	type = country_event

	title = flavor_pol.47.title
	desc = flavor_pol.47.desc
	historical_info = flavor_pol.47.historical_info

	dynamic_historical_event = {
		tag = POL
		from = 1370.1.1
		to = 1520.1.1
		monthly_chance = 10
	}

	fire_only_once = yes
	illustration_tags = {
		10 = happy
		10 = exterior
	}

	trigger = {
		OR = {
			has_variable = POL_marriage_happening
			AND = {
				has_variable = POL_betrothal_initiated
				c:POL.var:POL_pol_candidate_global ?= {
					OR = {
						is_alive = yes
						is_married = no
					}
					is_adult = yes
				}
				c:LIT.var:POL_lit_candidate_global ?= {
					OR = {
						is_alive = yes
						is_married = no
					}
					is_adult = yes
				}
			}
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		clear_marriage_flags_and_set_scope_flags = yes
	}

	option = {
		name = flavor_pol.47.a

		historical_option = yes

		if = {
			limit = {
				exists = scope:polish_candidate
			}
			scope:polish_candidate = { marry_character = scope:lithuanian_candidate }
		}
		else = {
			scope:POL_proposed_polish_candidate = { marry_character = scope:POL_proposed_lithuanian_candidate } # to be seen from flavor_pol.55 insight
		}
	}

	option = {
		name = flavor_pol.47.b

		add_prestige = prestige_severe_penalty

		remove_opinion = {
			target = c:LIT
			modifier = opinion_historical_friend_POL_LIT
		}
		c:LIT = {
			remove_opinion = {
				target = ROOT
				modifier = opinion_historical_friend_POL_LIT
			}
		}
	}
	after = {
		pol_clear_scope_flags = yes
	}
}

# Cracovian Salt Mines
# https://en.wikipedia.org/wiki/%C5%BBupy_krakowskie
flavor_pol.48 = {
	type = country_event

	title = flavor_pol.48.title
	desc = flavor_pol.48.desc

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_salt.dds"

	dynamic_historical_event = {
		tag = POL
		from = 1360.1.1 #21.4.1368 - statutes of Żupy Krakowskie
		to = 1375.1.1
		monthly_chance = 10
	}

	fire_only_once = yes
	illustration_tags = {
		10 = interior
	}

	trigger = {
		owns = location:wieliczka
		location:wieliczka = {
			raw_material = goods:salt
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_pol.48.a

		historical_option = yes

		location:wieliczka = {
			add_location_modifier = {
				modifier = pol_cracovian_salt_mines
				years = -1
			}
		}

		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_mild_bonus
		}
	}

	option = {
		name = flavor_pol.48.b

		add_prestige = prestige_weak_bonus
	}
}

# Zbigniew Oleśnicki
# https://en.wikipedia.org/wiki/Zbigniew_Ole%C5%9Bnicki_(cardinal)
flavor_pol.49 = {
	type = country_event

	title = flavor_pol.49.title
	desc = flavor_pol.49.desc
	historical_info = flavor_pol.49.historical_info
	dynamic_historical_event = {
		tag = POL
		from = 1420.1.1
		to = 1450.1.1
		monthly_chance = 10
	}

	trigger = {
		religion = religion:catholic
		has_ruler = yes
	}
	fire_only_once = yes
	illustration_tags = {
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = { #https://en.wikipedia.org/wiki/Zbigniew_Ole%C5%9Bnicki_(cardinal)
			first_name = name_zbygnev
			last_name = Olesnicki
			adm = { 50 80 }
			dip = { 60 90 }
			mil = { 50 75 }
			birth_date = 1389.12.5
			birth_location = location:zwolen
			religion = religion:catholic
			culture = culture:lesser_polish
			estate = estate_type:clergy_estate
			create_in_limbo = yes
			save_scope_as = target_character
		}
		ruler = {
			save_scope_as = ruler_scope
		}
	}

	option = {
		name = flavor_pol.49.a

		historical_option = yes

		capital = {
			if = {
				limit = {
					NOT = { has_building = building_type:seat_of_cardinal }
				}
				change_building_level_in_location = {
					building = building_type:seat_of_cardinal
					value = 1
				}
			}
			else = {
				change_prosperity = prosperity_weak_bonus
			}
		}
		scope:target_character = {
			move_country = ROOT
		}
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_move_to_left }
	}

	option = {
		name = flavor_pol.49.b

		scope:target_character = {
			move_country = ROOT
			add_mil = -5
			add_dip = -10
			add_adm = -5
		}
	}
}

# Confederation of Maćko Borkowic
# https://pl.wikipedia.org/wiki/Konfederacja_Ma%C4%87ka_Borkowica
flavor_pol.50 = {
	hide_portraits = yes
	type = country_event

	title = flavor_pol.50.title
	desc = flavor_pol.50.desc
	historical_info = flavor_pol.50.historical_info
	dynamic_historical_event = {
		tag = POL
		from = 1350.1.1
		to = 1370.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:poznan
		at_war = no
	}

	fire_only_once = yes
	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = { #https://pl.wikipedia.org/wiki/Maciej_Borkowic
			first_name = name_matthias
			last_name = Borkowic
			adm = { 30 50 }
			dip = { 20 40 }
			mil = { 40 60 }
			birth_date = 1298.1.1
			birth_location = location:czestochowa
			religion = religion:catholic
			culture = culture:lesser_polish
			estate = estate_type:nobles_estate
			create_in_limbo = yes
			script = pol_macko_borkowic
			save_scope_as = pol_macko_borkowic_scope
		}
		create_rebel = {
			category = estate
			estate = nobles_estate
			name = greater_polish_uprising
			save_scope_as = wielkopolska_uprising
		}
	}

	option = {
		name = flavor_pol.50.a

		historical_option = yes

		custom_tooltip = {
			text = POL_every_location_in_pomerania_wielkopolska_brandenburg
			every_owned_location = {
				limit = {
					OR = {
						area = area:pomerania_area
						area = area:brandenburg_area
						area = area:greater_poland_area
					}
				}
				every_pop = {
					limit = {
						owner = root
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
					change_pop_allegiance = scope:wielkopolska_uprising
				}
			}
		}

		scope:wielkopolska_uprising = { add_rebel_progress = 1.5 }

		change_societal_value = { type = centralization_vs_decentralization value = societal_value_move_to_left }
	}

	option = {
		name = flavor_pol.50.b

		every_owned_location = {
			limit = {
				OR = {
					area = area:pomerania_area
					area = area:brandenburg_area
					area = area:greater_poland_area
				}
			}
			change_control = control_severe_penalty
		}
		ruler ?= {
			add_mil = -5
			add_adm = -5
		}

		add_legitimacy = legitimacy_severe_penalty
	}
}

# Nihil Novi
# https://en.wikipedia.org/wiki/Nihil_novi
flavor_pol.51 = {
	type = country_event

	title = flavor_pol.51.title
	desc = flavor_pol.51.desc
	historical_info = flavor_pol.51.historical_info
	dynamic_historical_event = {
		tag = POL
		from = 1500.1.1
		to = 1510.1.1
		monthly_chance = 10
	}

	trigger = {
		has_law = distribution_of_power_law
	}

	fire_only_once = yes
	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_pol.51.a

		historical_option = yes

		if = {
			limit = {
				NOT = {
					has_policy = dop_favor_the_nobles
				}
			}
			add_policy = policy:dop_favor_the_nobles
		}

		set_variable = unlock_nihil_novi
		grant_estate_privilege = estate_privilege:nihil_novi
	}

	option = {
		name = flavor_pol.51.b

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}
		add_stability = stability_severe_penalty
	}
}

# Conflicts with Moldavia
flavor_pol.52 = {
	hide_portraits = yes
	type = country_event

	title = flavor_pol.52.title
	desc = flavor_pol.52.desc
	dynamic_historical_event = {
		tag = POL
		from = 1400.1.1
		to = 1500.1.1
		monthly_chance = 2
	}

	trigger = {
		country_exists = c:MOL
		c:MOL = {
			is_neighbor_of = ROOT
			NOR = {
				is_subject_or_below_of = ROOT
				is_allied_with = { target = ROOT }
				any_overlord_or_above = {
					this = ROOT
				}
			}
			has_ruler = yes
		}
	}

	fire_only_once = yes
	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		c:MOL = {
			save_scope_as = MOL_tag
		}
		c:MOL.ruler = {
			save_scope_as = POL_disloyal_vassal
		}
	}

	option = {
		name = flavor_pol.52.a

		add_casus_belli = { target = c:MOL type = casus_belli:cb_annex }
	}
}

# Conflict over Wschowa
flavor_pol.54 = {
	type = country_event

	title = flavor_pol.54.title
	desc = flavor_pol.54.desc
	historical_info = flavor_pol.54.historical_info
	dynamic_historical_event = {
		tag = POL
		from = 1340.1.1
		to = 1350.1.1
		monthly_chance = 20
	}

	trigger = {
		NOT = {
			location:wschowa = {
				is_owned_by_target_or_subject = { owner = ROOT }
			}
		}
	}

	fire_only_once = yes
	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		location:wschowa = {
			save_scope_as =target_location
		}
		c:BOH = { save_scope_as = POL_boh_scope }
	}

	option = {
		name = flavor_pol.54.a

		historical_option = yes

		add_casus_belli =  { type = casus_belli:cb_conquer_province target = location:wschowa.owner province = location:wschowa.province }

		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_minor_move_to_left
		}
	}

	option = {
		name = flavor_pol.54.b

		location:wschowa.owner = {
			add_opinion = {
				target = ROOT
				modifier = pol_gave_up_on_wschowa
			}
		}

		add_legitimacy = legitimacy_mild_penalty
	}
}

scripted_trigger pol_is_blood_related = {
	OR = {
		is_sibling_of = $target$
		any_parent = {
			this = $target$
		}
		any_child = {
			this = $target$
		}
	}
}

scripted_trigger pol_can_marry = {
	NOR = {
		pol_is_blood_related = { target = $target$ }
		is_same_gender = $target$
	}
}

# Marriage Proposal between LIT and POL
flavor_pol.55 = {
	hide_portraits = yes
	type = country_event

	title = flavor_pol.55.title
	desc = flavor_pol.55.desc
	dynamic_historical_event = {
		tag = POL
		from = 1370.1.1
		to = 1500.1.1
		monthly_chance = 20
	}

	trigger = {
		country_rank_level >= 3 #kingdom
		country_exists = c:LIT
		country_exists = c:TEU
		OR = {
			has_ruler = yes
			has_heir = yes
		}
		c:LIT = {
			OR = {
				has_ruler = yes
				has_heir = yes
			}
			is_ai = yes
			is_allied_with = { target = ROOT }
			NOT = { num_locations >= 150 }
		}
		OR = {
			c:LIT.ruler ?= {
				OR = {
					ROOT.ruler ?= {
						pol_can_marry = { target = c:LIT.ruler }
					}
					ROOT.heir ?= {
						pol_can_marry = { target = c:LIT.ruler }
					}
				}
				is_married = no
			}
			c:LIT.heir ?= {
				OR = {
					ROOT.ruler ?= {
						pol_can_marry = { target = c:LIT.heir }
					}
					ROOT.heir ?= {
						pol_can_marry = { target = c:LIT.heir }
					}
				}
				is_married = no
			}
		}
	}
	
	illustration_tags = {
		10 = regular
		10 = interior
	}
	
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		if = {
			limit = {
				c:LIT.ruler ?= {
					OR = {
						ROOT.ruler ?= {
							pol_can_marry = { target = c:LIT.ruler }
						}
						ROOT.heir ?= {
							pol_can_marry = { target = c:LIT.ruler }
						}
					}
					is_married = no
				}
			}
			c:LIT.ruler = {
				save_scope_as = POL_proposed_lithuanian_candidate
			}
		}
		else = {
			c:LIT.heir = {
				save_scope_as = POL_proposed_lithuanian_candidate
			}
		}
		if = {
			limit = {
				ROOT.ruler ?= {
					pol_can_marry = { target = scope:POL_proposed_lithuanian_candidate }
					is_married = no
				}
			}
			ROOT.ruler = {
				save_scope_as = POL_proposed_polish_candidate
			}
		}
		else = {
			ROOT.heir = {
				save_scope_as = POL_proposed_polish_candidate
			}
		}

		c:LIT = {
			save_scope_as = POL_partner_country
			set_variable = {
				name = POL_lit_candidate_global
				value = scope:POL_proposed_lithuanian_candidate
			}
		}
		c:POL = {
			set_variable = {
				name = POL_pol_candidate_global
				value = scope:POL_proposed_polish_candidate
			}
		}

		c:TEU = { save_scope_as = POL_common_enemy }
	}

	fire_only_once = yes

	option = {
		name = flavor_pol.55.a

		historical_option = yes

		if = {
			limit = {
				OR = {
					scope:POL_proposed_polish_candidate = { is_adult = no }
					scope:POL_proposed_lithuanian_candidate = { is_adult = no }
				}
			}
			custom_tooltip = POL_accept_betrothal

			c:POL = {
				set_variable = POL_betrothal_initiated
			}
			scope:POL_proposed_polish_candidate = {
				add_character_modifier = {
					modifier = pol_blocked_from_marriage_betrothal
					years = -1
				}
			}
			scope:POL_proposed_lithuanian_candidate = {
				add_character_modifier = {
					modifier = pol_blocked_from_marriage_betrothal
					years = -1
				}
			}
		}
		else = {
			custom_tooltip = POL_accept_marriage

			show_as_tooltip = {
				scope:POL_proposed_polish_candidate = { marry_character = scope:POL_proposed_lithuanian_candidate }
			}
			set_variable = POL_marriage_happening
			trigger_event_non_silently = flavor_pol.47
		}
	}

	option = {
		name = flavor_pol.55.b

		add_prestige = prestige_severe_bonus

		remove_opinion = {
			target = c:LIT
			modifier = opinion_historical_friend_POL_LIT
		}
		c:LIT = {
			remove_opinion = {
				target = ROOT
				modifier = opinion_historical_friend_POL_LIT
			}
		}

		remove_variable = POL_pol_candidate_global
		c:LIT = {
			remove_variable = POL_lit_candidate_global
		}
	}
}

# Rise of Ottomans
flavor_pol.56 = {
	hide_portraits = yes
	type = country_event

	title = flavor_pol.56.title
	desc = flavor_pol.56.desc

	trigger = {
		tag = POL
		country_exists = c:TUR
		c:TUR = {
			is_neighbor_of = ROOT
			OR = {
				country_rank_level >=4 #Empire
				owns = location:constantinople
			}
		}
		NOT = { has_casus_belli_on = c:TUR }
		religion = religion:catholic
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		c:TUR = {
			save_scope_as = POL_TUR_tag
		}
		random_owned_location = {
			limit = {
				any_neighbor_location = {
					owner ?= c:TUR
				}
			}
			random_neighbor_location = {
				limit = { owner ?= c:TUR }
				save_scope_as = target_province
			}
		}
	}

	option = {
		name = flavor_pol.56.a

		historical_option = yes

		add_casus_belli =  { type = casus_belli:cb_conquer_province target = c:TUR province = scope:target_province.province }
	}
}

# Wit Stwosz
# https://en.wikipedia.org/wiki/Veit_Stoss
flavor_pol.57 = {
	type = country_event

	title = flavor_pol.57.title
	desc = flavor_pol.57.desc
	historical_info = flavor_pol.57.historical_info
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		from = 1477.1.1
		to = 1496.1.1
		monthly_chance = 5
	}

	fire_only_once = yes

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	trigger = {
		owns = location:krakow
		location:krakow = {
			has_building = building_type:temple
		}
	}

	immediate = {
		location:krakow = {
			save_scope_as = pol_basilica_location
		}
		create_character = { #https://en.wikipedia.org/wiki/Veit_Stoss
			first_name = name_vitus
			last_name = Stoss
			adm = { 40 50 }
			dip = { 50 60 }
			mil = { 20 30 }
			birth_date = 1448.1.1
			birth_location = location:horb
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			artist = sculptor
			artist_skill = { 0.65 0.85 }
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.57.a

		historical_option = yes

		change_gold_effect = { scale = -6 }
		scope:target_character = {
			move_country = ROOT
		}

		location:krakow = {
			create_art = {
				artist = scope:target_character
				quality = 70
				type = work_of_art_type:statue #best equivalent for an altarpiece?
				key = pol_altarpiece
			}
		}
	}
	option = {
		name = flavor_pol.57.b

		add_prestige = prestige_mild_penalty
   		kill_character_silently = scope:target_character
	}
}

# Bona Sforza
# https://en.wikipedia.org/wiki/Bona_Sforza
flavor_pol.58 = {
	type = country_event

	title = flavor_pol.58.title
	desc = flavor_pol.58.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		from = 1510.1.1
		to = 1530.1.1
		monthly_chance = 5
	}

	trigger = {
		knows_about_institution = institution:renaissance
		has_ruler = yes
		ruler = {
			is_married = yes
			any_spouse = {
				culture = {
					has_culture_group = culture_group:italian_group
				}
			}
		}
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		ruler = { save_scope_as = pol_ruler }
		ruler = {
			random_spouse = {
				save_scope_as = pol_queen
			}
			random_spouse = {
				limit = {
					culture = {
						has_culture_group = culture_group:italian_group
					}
				}
				save_scope_as = pol_queen
			}
		}
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_pol.58.a

		historical_option = yes

		change_gold_effect = { scale = -6 }
		if = {
			limit = {
				NOT = { has_embraced_institution = institution:renaissance }
				NOT = {
					capital = {
						has_institution = institution:renaissance
					}
				}
			}
			capital = {
				change_institution_progress = { type = institution:renaissance value = 50 }
			}
		}

		culture = {
			add_cultural_influence = cultural_influence_extreme_bonus
		}
		add_prestige = prestige_mild_bonus
	}

	option = {
		name = flavor_pol.58.b

		change_societal_value = {
			type = outward_vs_inward
			value = societal_value_large_move_to_right
		}
	}
}

#Michal Sedziwój
flavor_pol.1000 = {
	type = country_event
	title = flavor_pol.1000.title
	desc = flavor_pol.1000.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1600.1.1
		to = 1636.1.1
		monthly_chance = 4
	}

	trigger = {
		NOT = {owns = location:prague}

	}

	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"

	immediate = {
		location:prague = {
			owner = {
				save_scope_as = praha_owner
			}
		}
		capital = {
			save_scope_as = capital_scope
		}
		create_character = { #https://en.wikipedia.org/wiki/Michael_Sendivogius
			first_name = name_michael
			last_name = Sedziwoj
			adm = 73 dip = 82 mil = 57
			birth_date = 1566.2.2
			artist_skill = 0.7
			artist = scientist
			birth_location = location:nowy_sacz
			culture = culture:lesser_polish
			estate = estate_type:nobles_estate
			create_in_limbo = yes
			script = pol_michael_sedziwoj
			save_scope_as = michael_sedziwoj_scope
		}
	}

	option = {
		name = flavor_pol.1000.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		add_research_progress = research_progress_mild_bonus

		scope:michael_sedziwoj_scope = {
			move_country = root
		}
		trigger_event_non_silently = {
			id = flavor_pol.1001
			years = { 4 8 }
		}
	}

	option = {
		name = flavor_pol.1000.b
		change_gold_effect = { scale = -3 }
		add_prestige = prestige_mild_bonus

		scope:michael_sedziwoj_scope = {
			add_artist_skill = -0.35
			move_country = root
		}
	}

	option = {
		name = flavor_pol.1000.c
		add_prestige = prestige_weak_penalty
		hidden_effect = { kill_character_silently = scope:michael_sedziwoj_scope }
	}
}

#New Chemical Light
flavor_pol.1001 = {
	type = country_event
	title = flavor_pol.1001.title
	desc = flavor_pol.1001.desc

	fire_only_once = yes
	trigger = {
		character:pol_michael_sedziwoj = {
			is_alive = yes
			owner = root
		}
	}

	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"


	immediate = {
		character:pol_michael_sedziwoj = {
			save_scope_as = michael_sedziwoj_scope
		}

	}

	option = {
		name = flavor_pol.1001.a
		historical_option = yes
		change_gold_effect = { scale = -5 }
		add_prestige = prestige_mild_bonus
		capital = {
			create_art = {#https://en.wikipedia.org/wiki/Michael_Sendivogius
				artist = scope:michael_sedziwoj_scope
				quality = 50
				type = work_of_art_type:treatise
				key = new_chemical_light
			}
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
	}

	option = {
		name = flavor_pol.1001.b
		add_prestige = prestige_mild_penalty

		scope:michael_sedziwoj_scope = {
			move_country = location:prague.owner
		}
		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

#Jan Zamoyski
flavor_pol.1100 = {#https://en.wikipedia.org/wiki/Jan_Zamoyski
	type = country_event
	title = flavor_pol.1100.title
	desc = flavor_pol.1100.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1560.1.1
		to = 1580.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:krasnystaw
	}

	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"

	immediate = {
		create_character = { #https://en.wikipedia.org/wiki/Jan_Zamoyski
			first_name = name_john
			adm = 82 dip = 64 mil = 21
			birth_date = 1542.3.19
			birth_location = location:krasnystaw
			religion = religion:catholic
			culture = culture:lesser_polish
			estate = estate_type:nobles_estate
			dynasty = dynasty:zamoyski_dynasty
			create_in_limbo = yes
			script = pol_john_zamoyski
			save_scope_as = john_zamoyski_scope
		}
	}

	option = {
		name = flavor_pol.1100.a

		historical_option = yes
		change_gold_effect = { scale = -3 }
		scope:john_zamoyski_scope = {
			move_country = root
		}

	}
	option = {
		name = flavor_pol.1100.b
		add_prestige = prestige_weak_penalty
		hidden_effect = { kill_character_silently = scope:john_zamoyski_scope }
	}
}

#Zamojski Academy
flavor_pol.1101 = {#https://en.wikipedia.org/wiki/Zamoyski_Academy
	type = country_event
	title = flavor_pol.1101.title
	desc = flavor_pol.1101.desc
	historical_info = flavor_pol.1101.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1590.1.1
		to = 1650.1.1
		monthly_chance = 10
	}

	trigger = {
		exists = character:pol_john_zamoyski
		character:pol_john_zamoyski = {
			is_alive = yes
			owner = ROOT
		}
		owns = location:krasnystaw
		location:krasnystaw = {
			OR = {
				is_city = yes
				AND = {
					development > 20
					location_rank = location_rank:town
				}

			}
			NOT = {
				has_building = building_type:university
			}
		}
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		character:pol_john_zamoyski = {
			save_scope_as = john_zamoyski_scope
		}
	}

	option = {
		name = flavor_pol.1101.a

		historical_option = yes
		location:krasnystaw = {
			if = {
				limit = { is_city = no }
				change_location_rank = location_rank:city
			}
			construct_building = {
				building_type = building_type:university
				cost_multiplier = 1.5
				cost_multiplier_reason = "game_concept_event"
			}
		}
		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_large_move_to_right
		}
		add_research_progress = research_progress_mild_bonus
	}
	option = {
		name = flavor_pol.1101.b
		add_prestige = prestige_weak_penalty
	}
}

#City of Zamość
flavor_pol.1102 = {#https://en.wikipedia.org/wiki/Zamoyski_Academy
	type = country_event
	title = flavor_pol.1102.title
	desc = flavor_pol.1102.desc
	historical_info = flavor_pol.1102.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1570.1.1
		to = 1600.1.1
		monthly_chance = 10
	}

	trigger = {
		exists = character:pol_john_zamoyski
		character:pol_john_zamoyski = {
			is_alive = yes
			owner = ROOT
		}
		owns = location:krasnystaw
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		character:pol_john_zamoyski = {
			save_scope_as = john_zamoyski_scope
		}
		create_character = { #https://en.wikipedia.org/wiki/Bernardo_Morando
			first_name = name_bernard
			last_name = Morando
			adm = { 40 80 }
			dip = { 10 30 }
			mil = { 0 20 }
			artist_skill = 0.7
			birth_location = location:padova
			artist = architect
			culture = culture:venetian
			birth_date = 1540.1.1 #approximate
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			script = pol_bernardo_morando
			save_scope_as = pol_bernardo_morando_scope
		}
	}

	option = {
		name = flavor_pol.1102.a

		historical_option = yes

		change_gold_effect = { scale = -3 }

		location:krasnystaw = {
			rename_location = zamosc

			upgrade_location_rank = yes
			
			if = {
				limit = {
					ROOT = {
						knows_about_institution = institution:renaissance
					}
					NOT = {
						has_institution = institution:renaissance
					}
				}
				change_institution_progress = { type = institution:renaissance value = institution_progress_extreme_bonus }
			}
		}

		scope:pol_bernardo_morando_scope = {
			move_country = root
		}

	}
	option = {
		name = flavor_pol.1102.b
		add_prestige = prestige_weak_penalty
   		kill_character_silently = scope:pol_bernardo_morando_scope
	}
}

#Nicolaus Copernicus
flavor_pol.1200 = {#https://en.wikipedia.org/wiki/Jan_Zamoyski
	type = country_event
	title = flavor_pol.1200.title
	desc = flavor_pol.1200.desc

	fire_only_once = yes

	trigger = {
		owns = location:lidzbark
		current_year >= 1503
		current_year <= 1520
	}

	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"

	immediate = {
		create_character = { #https://en.wikipedia.org/wiki/Nicolaus_Copernicus
			first_name = name_nicholas
			last_name = Copernicus
			adm = 98 dip = 78 mil = 17
			birth_date = 1473.2.19
			birth_location = location:torun
			religion = religion:catholic
			culture = culture:greater_polish
			estate = estate_type:burghers_estate
			script = pol_nicholas_copernicus
			save_scope_as = nicholas_copernicus_scope
			create_in_limbo = yes
		}
		capital = {
			save_scope_as = capital_scope
		}
	}

	option = {#For ERM is historical to hire him
		name = flavor_pol.1200.b
		trigger = {
			tag = ERM
		}
		historical_option = yes

		change_gold_effect = { scale = -3 }
		scope:nicholas_copernicus_scope = {
			move_country = root
		}
	}

	option = {
		name = flavor_pol.1200.a
		trigger = {
			tag = ERM
		}

		scope:nicholas_copernicus_scope = {
			move_country = root
			add_character_modifier = {
				modifier = away_from_the_court_modifier
				years = -1
				mode = add_and_extend
			}
		}
	}

	option = {#For the rest is historical to ignore him
		name = flavor_pol.1200.a
		trigger = {
			NOT = {tag = ERM}
		}
		historical_option = yes

		scope:nicholas_copernicus_scope = {
			move_country = root
			add_character_modifier = {
				modifier = away_from_the_court_modifier
				years = -1
				mode = add_and_extend
			}
		}
	}

	option = {
		name = flavor_pol.1200.b
		trigger = {
			NOT = {tag = ERM}
		}

		change_gold_effect = { scale = -3 }
		scope:nicholas_copernicus_scope = {
			move_country = root
		}
	}
}

#On the Revolutions of the Heavenly Spheres
flavor_pol.1201 = { #https://en.wikipedia.org/wiki/De_revolutionibus_orbium_coelestium
	type = country_event
	title = flavor_pol.1201.title
	desc = flavor_pol.1201.desc
	historical_info = flavor_pol.1201.historical_info
	fire_only_once = yes

	trigger = {
		character:pol_nicholas_copernicus ?= {
			is_alive = yes
			owner = ROOT
		}
		current_year >= 1520
		current_year <= 1550
	}

	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"

	immediate = {
		character:pol_nicholas_copernicus ?= {
			save_scope_as = nicholas_copernicus_scope
		}
	}

	option = {
		name = flavor_pol.1201.a
		historical_option = yes
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		capital = {
			create_art = {
				artist = scope:nicholas_copernicus_scope
				quality = 97
				type = work_of_art_type:treatise
				key = revolution_spheres

			}
		}
	}

	option = {
		name = flavor_pol.1201.b
		trigger = { has_policy = strict_censorship }

		destroy_art = work_of_art:revolution_spheres
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_extreme_bonus }
	}

	option = {
		name = flavor_pol.1201.c

		add_research_progress = research_progress_extreme_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
		capital = {
			create_art = {
				artist = scope:nicholas_copernicus_scope
				quality = 97
				type = work_of_art_type:treatise
				key = revolution_spheres

			}
		}
	}
}

#Jan Kochanowski
flavor_pol.1300 = {#https://en.wikipedia.org/wiki/Jan_Kochanowski
	type = country_event
	title = flavor_pol.1300.title
	desc = flavor_pol.1300.desc
	historical_info = flavor_pol.1300.historical_info
	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1559.1.1 #when Kochanowski returned to Poland
		to = 1600.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:radom
		has_embraced_institution = institution:renaissance
		has_ruler = yes
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		if = {
			limit = {
				NOT = {
					dynasty_exists = kochanowski_dynasty
				}
			}
			location:radom = {
				create_dynasty_from_location = kochanowski_dynasty
			}
		}
		create_character = { #https://en.wikipedia.org/wiki/Jan_Kochanowski
			first_name = name_john
			dynasty = dynasty:kochanowski_dynasty
			adm = { 40 70 }
			dip = { 20 30 }
			mil = { 0 30 }
			birth_date = 1530.2.19
			birth_location = location:radom
			religion = religion:catholic
			culture = culture:lesser_polish
			estate = estate_type:nobles_estate
			artist_skill = 0.80
			artist = writer
			script = jan_kochanowski
			save_scope_as = target_character
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = ruler_scope
		}
	}

	option = {
		name = flavor_pol.1300.a

		historical_option = yes

		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_pol.1300.b

		add_prestige = prestige_mild_penalty
   		kill_character_silently = scope:target_character
	}
}

#Kochanowski's Threnodies
flavor_pol.1301 = {#https://en.wikipedia.org/wiki/Jan_Kochanowski
	type = country_event
	title = flavor_pol.1301.title
	desc = flavor_pol.1301.desc
	historical_info = flavor_pol.1301.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1578.1.1 #when Kochanowski returned to Poland
		to = 1600.1.1
		monthly_chance = 10
	}

	trigger = {
		character:jan_kochanowski ?= {
			is_alive = yes
			owner = ROOT
		}
		owns = location:radom
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		character:jan_kochanowski = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.1301.a

		historical_option = yes

		location:radom = {
			create_art = {
				artist = scope:target_character
				quality = 80
				type = work_of_art_type:poem
				key = pol_threnodies
			}
		}
	}
}

#Jan Długosz
flavor_pol.1400 = {#https://en.wikipedia.org/wiki/Jan_D%C5%82ugosz
	type = country_event
	title = flavor_pol.1400.title
	desc = flavor_pol.1400.desc
	historical_info = flavor_pol.1400.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1435.1.1
		to = 1480.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:radomsko
		has_ruler = yes
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		create_character = { #https://en.wikipedia.org/wiki/Jan_D%C5%82ugosz
			first_name = name_john
			last_name = Dlugosz
			adm = { 40 70 }
			dip = { 40 60 }
			mil = { 10 15 }
			birth_date = 1415.12.1
			birth_location = location:radomsko
			religion = religion:catholic
			culture = culture:lesser_polish
			estate = estate_type:clergy_estate
			artist_skill = 0.65
			artist = writer
			script = jan_dlugosz
			save_scope_as = target_character
			create_in_limbo = yes
		}
		ruler = {
			save_scope_as = ruler_scope
		}
	}

	option = {
		name = flavor_pol.1400.a

		historical_option = yes

		change_gold_effect = { scale = -3 }
		scope:target_character = {
			move_country = root
		}
	}

	option = {
		name = flavor_pol.1400.b

		add_prestige = prestige_mild_penalty
   		kill_character_silently = scope:target_character
	}
}

#Annals of Poland by Długosz
flavor_pol.1401 = {
	type = country_event
	title = flavor_pol.1401.title
	desc = flavor_pol.1401.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1475.1.1 #when Kochanowski returned to Poland
		to = 1485.1.1
		monthly_chance = 10
	}

	trigger = {
		character:jan_dlugosz ?= {
			is_alive = yes
			owner = ROOT
		}
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		character:jan_dlugosz = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.1401.a

		historical_option = yes

		capital = {
			create_art = {
				artist = character:jan_dlugosz
				quality = 60
				type = work_of_art_type:chronicle
				key = pol_annals_of_poland
			}
		}
	}
}

#Mikołaj Rej
# https://en.wikipedia.org/wiki/Miko%C5%82aj_Rej
flavor_pol.1500 = {
	type = country_event
	title = flavor_pol.1500.title
	desc = flavor_pol.1500.desc
	historical_info = flavor_pol.1500.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1540.1.1
		to = 1560.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:sambir
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = { #https://en.wikipedia.org/wiki/Miko%C5%82aj_Rej
			first_name = name_nicholas
			last_name = Rej
			adm = { 20 50 }
			dip = { 40 50 }
			mil = { 10 15 }
			birth_date = 1505.2.4
			birth_location = location:sambir
			religion = religion:calvinist
			culture = culture:lesser_polish
			estate = estate_type:nobles_estate
			artist_skill = 0.65
			artist = writer
			script = mikolaj_rej
			save_scope_as = mikolaj_rej_scope
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_pol.1500.a

		historical_option = yes

		change_gold_effect = { scale = -3 }
		scope:mikolaj_rej_scope = {
			move_country = root
		}
	}

	option = {
		name = flavor_pol.1500.b

		add_prestige = prestige_mild_penalty
   		kill_character_silently = scope:mikolaj_rej_scope
	}
}

#Works of Mikołaj Rej
flavor_pol.1501 = {
	type = country_event
	title = flavor_pol.1501.title
	desc = flavor_pol.1501.desc
	historical_info = flavor_pol.1501.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1540.1.1
		to = 1560.1.1
		monthly_chance = 10
	}

	trigger = {
		character:mikolaj_rej ?= {
			is_alive = yes
			owner = ROOT
		}
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		character:mikolaj_rej = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pol.1501.a

		historical_option = yes

		capital = {
			create_art = {
				artist = scope:target_character
				quality = 75
				type = work_of_art_type:novel
				key = pol_brief_discussion
			}
		}
		if = {
			limit = {
				religion = religion:catholic
			}
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_severe_penalty
			}
		}
		else = {
			change_societal_value = {
				type = spiritualist_vs_humanist
				value = societal_value_move_to_left
			}
		}
	}

	option = {
		name = flavor_pol.1501.b

		if = {
			limit = {
				religion != religion:catholic
			}
			add_estate_satisfaction = {
				type = estate_type:clergy_estate
				value = estate_satisfaction_severe_penalty
			}
		}
		else = {
			change_societal_value = {
				type = spiritualist_vs_humanist
				value = societal_value_move_to_left
			}
		}

		custom_tooltip = {
			text = POL_every_lutheran_calvinist_hussite_pop_displeased_tt
			every_owned_location = {
				every_pop = {
					limit = {
						owner = root
						OR = {
							religion = religion:lutheran
							religion = religion:calvinist
						}
					}
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
				}
			}
		}
	}
}

# Pledge of Spisz
# https://pl.wikipedia.org/wiki/Zastaw_spiski
flavor_pol.1600 = {
	hide_portraits = yes
    type = country_event

	title = flavor_pol.1600.title
	desc = flavor_pol.1600.desc
	dynamic_historical_event = {
		tag = HUN
		from = 1350.1.1
		to = 1450.1.1
		monthly_chance = 10
	}

	fire_only_once = yes

    trigger = {
        country_exists = c:POL
        location:lubica = {
            owner = ROOT
            any_neighbor_location = {
                owner ?= c:POL
            }
        }
		has_ruler = yes
		c:POL = { has_ruler = yes }
        monthly_balance < 0
        c:POL = {
            gold >= {
				value = root.monthly_income_trade_and_tax
				multiply = 24
			}
            OR = {
                is_allied_with = { target = ROOT }
                opinion = {
                    target = ROOT
                    value >= 100
                }
            }
        }
    }

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		set_local_variable = {
			name = spisz_price
			value = {
				value = root.monthly_income_trade_and_tax
				multiply = 24
			}
		}
		location:lubica = {
			save_scope_as = pol_spisz_prov
		}
		c:POL = { save_scope_as = pol_the_loan_provider }
		save_scope_as = pol_requesting_nation
		ruler = { save_scope_as = pol_requesting_nation_ruler }
	}

    option = {
		name = flavor_pol.1600.a
		historical_option = yes

        show_as_tooltip = {
            location:lubica = {
                change_location_owner = c:POL
            }
            c:POL = {
                add_prestige = prestige_severe_bonus
				give_loan = {
					target = scope:pol_requesting_nation
					amount = local_var:spisz_price
					interest = 0.02
					months = 60
				}
            }
        }

		c:POL = {
            trigger_event_non_silently = {
                id = flavor_pol.1601
                months = 1
            }
        }
	}

	option = {
		name = flavor_pol.1600.b
	}
}

flavor_pol.1601 = {
    type = country_event

	title = flavor_pol.1601.title
	desc = flavor_pol.1601.desc

	trigger = {
		location:lubica = {
			owner = c:HUN
		}
		has_ruler = yes
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

    option = {
		name = flavor_pol.1601.a
		historical_option = yes

        location:lubica = {
            change_location_owner = ROOT
        }
		give_loan = {
			target = scope:pol_requesting_nation
			amount = local_var:spisz_price
			interest = 0.02
			months = 60
			set_loc_key = pledge_of_spisz
		}
		scope:pol_requesting_nation = {
			set_variable = has_taken_pledge_of_spisz
		}
        add_prestige = prestige_severe_bonus
	}

	option = {
		name = flavor_pol.1601.b
	}
}

flavor_pol.1602 = {
	hide_portraits = yes
    type = country_event

	title = flavor_pol.1602.title
	desc = flavor_pol.1602.desc

	trigger = {
		NOT = { is_at_war_with = c:HUN }
		country_exists = c:HUN
		owns = location:lubica
		NOT = {
			any_lent_loan = {
				has_loc_key = pledge_of_spisz
			}
		}
		c:HUN = { has_variable = has_taken_pledge_of_spisz }
	}

	dynamic_historical_event = {
		tag = POL
		from = 1350.1.1
		to = 1836.1.1
		monthly_chance = 5
	}

	fire_only_once = yes

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		location:lubica = { save_scope_as = loan_pledge }
		save_scope_as = loan_giver
		c:HUN = { save_scope_as = loan_repayer }
	}

    option = {
		name = flavor_pol.1602.a

        location:lubica = {
			change_location_owner = scope:loan_repayer
		}

		add_country_modifier = {
			modifier = pol_honored_agreement
			years = 15
		}
		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
	}

	option = {
		name = flavor_pol.1602.b

		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_large_move_to_left
		}
		show_as_tooltip = {
			scope:loan_repayer = {
				add_casus_belli = { target = scope:loan_giver type = casus_belli:cb_insulted_us }
			}
		}
	}
	after = {
		scope:loan_repayer = {
			trigger_event_silently = flavor_pol.1603
		}
		c:HUN = { remove_variable = has_taken_pledge_of_spisz }
	}
}

flavor_pol.1603 = {
    type = country_event

	title = flavor_pol.1603.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { owns = location:lubica }
				}
				desc = flavor_pol.1603.desc.a
			}
			triggered_desc = {
				desc = flavor_pol.1603.desc.b
			}
		}
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_pol.1603.a

        trigger = {
			owns = location:lubica
		}

		add_stability = stability_mild_bonus
		add_prestige = prestige_weak_bonus
	}

	option = {
		name = flavor_pol.1603.b

		trigger = {
			NOT = { owns = location:lubica }
		}
		c:HUN = {
			add_casus_belli = { target = scope:loan_giver type = casus_belli:cb_insulted_us }
		}
	}
}