namespace = flavor_pap

#######################
# Age of Renaissance
#######################

#Reorganization of the Holy Inquisition
flavor_pap.1 = {
	type = country_event
	title = flavor_pap.1.title
	desc = flavor_pap.1.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1500.1.1
		to = 1550.1.1
		monthly_chance = 5
	}

	trigger = {
		country_exists = c:CAS
		c:CAS = {
			has_policy = local_courts
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		location:naples.owner = {
			create_character = { #https://en.wikipedia.org/wiki/Pope_Paul_IV
				first_name = name_peter
				last_name = carafa
				culture = culture:neapolitan
				religion = religion:catholic
				estate = estate_type:clergy_estate
				birth_location = location:naples
				birth_date = 1476.6.28
				save_scope_as = future_paul_iv_scope
			}
		}
	}

	option = {
		name = flavor_pap.1.a
		historical_option = yes
		add_country_modifier = { modifier = pap_spanish_inquisition years = 100 mode = add_and_extend }
	}
	
	option = {
		name = flavor_pap.1.b
		add_country_modifier = { modifier = pap_moderate_inquisition years = 100 mode = add_and_extend }
	}
}

#Giordano Bruno https://en.wikipedia.org/wiki/Giordano_Bruno
flavor_pap.2 = {
	type = country_event
	title = flavor_pap.2.title
	desc = flavor_pap.2.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1575.1.1
		to = 1625.1.1
		monthly_chance = 5
	}

	trigger = {
		has_regent = no
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_jordan
			last_name = name_bruno
			culture = culture:neapolitan
			religion = religion:catholic
			estate = estate_type:clergy_estate
			birth_date = 1548.1.30
			adm = 50
			dip = 50
			mil = 50
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_pap.2.a
		historical_option = yes
		ruler = { add_character_modifier = { modifier = pap_burned_heretic months = -1 mode = add_and_extend } }
		kill_character = scope:target_character
	}
	option = {
		name = flavor_pap.2.b
		add_prestige = prestige_mild_bonus
		scope:target_character = { move_country = root }
	}
}

#The Borgia Pope
flavor_pap.4 = {
	type = country_event
	title = flavor_pap.4.title
	desc = flavor_pap.4.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1490.1.1
		to = 1503.1.1
		monthly_chance = 10
	}

	trigger = {
		religion:lutheran = { is_religion_enabled = no }
		location:valencia = {
			owner = {
				religion = religion:catholic
			}
		}
	}
	
	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = { #https://en.wikipedia.org/wiki/Pope_Alexander_VI
			first_name = name_roderick
			last_name = borgia
			adm = 75
			dip = 50
			mil = 65
			culture = culture:catalan
			trait_category = none
			birth_date = 1431.1.1
			prev = { set_new_ruler = prev }
			script = rodrigo_borgia
			save_scope_as = borgia_pope_scope
		}
		create_character = { #https://en.wikipedia.org/wiki/Cesare_Borgia
			first_name = name_caesar
			last_name = borgia
			adm = 20
			dip = 25
			mil = 60
			trait_category = none
			father = character:rodrigo_borgia
			birth_date = 1475.9.13
			save_scope_as = borgia_pope_son_scope
			script = caesar_borgia
		}
	}

	option = {
		name = flavor_pap.4.a
		religion:catholic = { add_reform_desire = reform_desire_severe_increase }
		custom_tooltip = borgia_pope_tt
		hidden_effect = {
			set_new_ruler = scope:borgia_pope_scope
			set_global_variable = borgia_pope_global
			ruler = { add_character_modifier = { modifier = borgia_pope months = -1 mode = add_and_extend } }
		}
	}
}

#Cesare Borgia
flavor_pap.5 = {
	type = country_event
	title = flavor_pap.5.title
	desc = flavor_pap.5.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1495.1.1
		to = 1550.1.1
		monthly_chance = 10
	}

	trigger = {
		ruler ?= { has_character_modifier = borgia_pope }
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		character:caesar_borgia = {
			save_scope_as = caesar_borgia_scope
		}
	}
	
	option = {
		name = flavor_pap.5.a
		religion:catholic = { add_reform_desire = reform_desire_weak_increase }
		add_army_tradition = army_tradition_extreme_bonus
	}
}

#A Scandalized Papacy
flavor_pap.6 = {
	type = country_event
	title = flavor_pap.6.title
	desc = flavor_pap.6.desc
	fire_only_once = yes

	dynamic_historical_event = {
		tag = PAP
		from = 1495.1.1
		to = 1550.1.1
		monthly_chance = 10
	}
	
	trigger = {
		ruler ?= { has_character_modifier = borgia_pope }
	}
	
	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		character:caesar_borgia = {
			save_scope_as = caesar_borgia_scope
		}
		create_character = { #https://en.wikipedia.org/wiki/Lucrezia_Borgia
			first_name = name_lucrece
			last_name = borgia
			father = character:rodrigo_borgia
			birth_date = 1480.4.18
			female = yes
			save_scope_as = lucrecia_borgia_scope
			script = lucrecia_borgia
		}
	}
	
	option = {
		name = flavor_pap.6.a
		historical_option = yes
		add_stability = stability_extreme_penalty
		ruler = { add_character_modifier = { modifier = scandalized_papacy months = -1 mode = add_and_extend } }
	}

	option = {
		name = flavor_pap.6.b
		trigger = { ruler = { dip >= 60 } }	#The special pope in question will start with 50 dip. If he *somehow* improves his dip ability this option becomes available
		add_prestige = prestige_weak_bonus
		ruler = { add_character_modifier = { modifier = borgia_diplomacy months = -1 mode = add_and_extend } }
	}
}

#The End of the Borgia Papacy
flavor_pap.7 = {
	type = country_event
	title = flavor_pap.7.title
	desc = flavor_pap.7.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = PAP
		from = 1495.1.1
		to = 1800.1.1
		monthly_chance = 10
	}
	
	trigger = {
		has_ruler = yes
		has_global_variable = borgia_pope_global
		NOT = { ruler = { has_character_modifier = borgia_pope } }
	}
	
	illustration_tags = {
        10 = happy
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		remove_global_variable = borgia_pope_global
		character:caesar_borgia = {
			save_scope_as = caesar_borgia_scope
		}
		ruler ?= { save_scope_as = target_character }
	}
	
	option = {
		name = flavor_pap.7.a
		religion:catholic = { add_reform_desire = reform_desire_mild_decrease }
		if = {
			limit = {
				country_exists = c:NAV
			}
			scope:caesar_borgia_scope ?= {
				move_country = c:NAV
			}
		}
	}
}

flavor_pap.8 = { #Heinrich Kramer Summis desiderantes
	hide_portraits = yes
	type = country_event
	title = flavor_pap.8.title
	desc = flavor_pap.8.desc
	historical_info = flavor_pap.8.historical_info

	fire_only_once = yes

	dynamic_historical_event = {
		tag = PAP
		from = 1460.1.1
		to = 1505.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		create_character = { #https://en.wikipedia.org/wiki/Heinrich_Kramer
				first_name = name_henry
				last_name = kramer
				culture = culture:rhine_alemannic
				religion = religion:catholic
				estate = estate_type:clergy_estate
				adm = {50 70}
				dip = {50 70}
				mil = {50 70}
				birth_location = location:colmar
				birth_date = 1430.1.1 #unknown
				add_trait = trait:unsuited_for_naval_command
				add_trait = trait:unsuited_for_army_command
				save_scope_as = target_character
				script = heinrich_kramer_script
				create_in_limbo = yes
			}
			location:innsbruck.owner = {
				if = {
					limit = {
						religion = religion:catholic
					}
					save_scope_as = target_country
				}
				else = {
					c:PAP = {
						save_scope_as = target_country
					}
				}
			}
			ruler = {
				save_scope_as = target_ruler
			}
			international_organization:catholic_church = {
				set_variable = witchcraft_discussed
			}
	}

	trigger = {
		religion = religion:catholic
		has_ruler = yes
	}

	option = {
		name = flavor_pap.8.a
		historical_option = yes

		add_religious_influence = religious_influence_severe_penalty
		scope:target_character = {
			move_country = scope:target_country
		}
		international_organization:catholic_church = {
			add_policy_to_international_organization = policy:witchcraft_aknowledged
		}
	}

	option = {
		name = flavor_pap.8.b

		add_government_power = government_power_mild_penalty
		add_religious_influence = religious_influence_mild_bonus
		scope:target_character = {
			move_country = scope:target_country
		}
	}
}

#The [GetCountry('PAP').GetGovernment.GetRulerTitle] Calls for an Apostolic Tax
flavor_pap.9 = {
	hide_portraits = yes
	type = country_event
	title = flavor_pap.9.title
	desc = flavor_pap.9.desc

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		save_scope_as = target_country
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pap.9.a

		add_gold = { value = scope:target_country.monthly_income_trade_and_tax multiply = -2 }
		c:PAP = {
			add_gold = {
				value = scope:target_country.monthly_income_trade_and_tax
				multiply = 2
				multiply = "c:PAP.estate_power(estate_type:crown_estate)"
			}
		}
		add_estate_satisfaction = { 
			type = estate_type:clergy_estate
			value = estate_satisfaction_weak_bonus
		}
	}
	option = {
		name = flavor_pap.9.b
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_extreme_penalty
		}
		add_religious_influence_if_valid = { VALUE = -10 }

		custom_tooltip = every_catholic_upset_tt
		hidden_effect = {
			religion:catholic = {
				every_country_in_religion = {
					limit = {
						NOT = {
							this = ROOT
						}
					}
					add_opinion = {
						target = ROOT
						modifier = opinion_refused_to_pay_apostolic_tax
					}
				}
			}
		}
	}
}

#The Swiss Guard
flavor_pap.10 = {
	hide_portraits = yes
	type = country_event
	title = flavor_pap.10.title
	desc = flavor_pap.10.desc
	fire_only_once = yes

	dynamic_historical_event = {
		tag = PAP
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 10
	}
	
	trigger = {
		any_related_country = {
			type = alliance
			culture = culture:high_alemannic
			opinion = {
				target = root
				value >= 100
			}
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		if = {
			limit = {
				is_ai = no
			}
			event_illustration_poptype_background_effect = { background = pop_type:soldiers }
			scope:event_target = {
				event_illustration_poptype_foreground_effect = { foreground = pop_type:soldiers }
			}
		}
		hidden_effect = {
			random_related_country = {
				type = alliance
				limit = {
					culture = culture:high_alemannic
					opinion = {
						target = root
						value >= 100
					}
				}
				save_scope_as = event_target
			}
		}
	}

	option = {
		name = flavor_pap.10.a
		unlock_unit_effect = {
			type = a_pontifical_swiss_guard
		}

		scope:event_target = {
			trigger_event_silently = {
				id = flavor_swi.1
			}
		}
	}
}

#Passetto di Borgo
# Can happen every 5 years
flavor_pap.11 = {
	type = country_event
	title = flavor_pap.11.title
	desc = flavor_pap.11.desc

	trigger = {
		tag = PAP
		scope:target = {
			location_key = rome
			NOT = { controller = c:PAP }
			is_capital = yes
		}
		NOT = { has_country_modifier = pap_passetto_di_borgo_timer }
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		hidden_effect = {
			add_country_modifier = { modifier = pap_passetto_di_borgo_timer months = 60 mode = add_and_extend }
			if = {
				limit = { has_ruler = yes }
				ruler ?= { save_scope_as = target_character }
			}
			else = {
				regent ?= { save_scope_as = target_character }
			}
		}
	}

	option = {
		name = flavor_pap.11.a
		add_prestige = prestige_weak_penalty
		add_government_power = government_power_extreme_penalty
	}
	
	option = {
		name = flavor_pap.11.b
		add_government_power = government_power_extreme_bonus
		random_list = {
			10 = {
				kill_character = {
					target = ruler
					reason = execution
				}
			}
			90 = {
			}
		}
	}
}

#Sack of Rome
# Can happen every 5 years
# root = country, scope:target = location
flavor_pap.12 = {
	type = country_event
	title = flavor_pap.12.title
	desc = flavor_pap.12.desc

	trigger = {
		tag = PAP
		war_exhaustion >= 2.00
		scope:target = {
			location_key = rome
			owner = c:PAP
			controller = c:PAP
			is_looted = yes
		}
		NOT = { has_country_modifier = pap_rome_loot_timer }
	}
	
	illustration_tags = {
        10 = armed
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		hidden_effect = { add_country_modifier = { modifier = pap_rome_loot_timer months = 60 mode = add_and_extend } }
	}

	option = {
		name = flavor_pap.12.a
		change_gold_effect = { scale = -6 }
		location:rome = {
			add_location_modifier = { modifier = roman_garisson months = 60 mode = add_and_extend }
		}
	}

	option = {
		name = flavor_pap.12.b
		change_gold_effect = { scale = -6 }
		add_war_exhaustion = war_exhaustion_weak_bonus
		location:rome = {
			change_prosperity = prosperity_weak_bonus
		}
	}
}

#The Vatican Library
flavor_pap.13 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.13.title
	desc = flavor_pap.13.desc

	dynamic_historical_event = {
		tag = PAP
		from = 1450.1.1
		to = 1500.1.1
		monthly_chance = 10
	}
	
	trigger = {
		owns = 	location:rome
		location:rome = {
			has_building_with_at_least_one_level = library
		}
	}
	
	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}
	
	option = {
		name = flavor_pap.13.a
		location:rome = {
			change_building_level_in_location = {
				building = building_type:adm_vatican_library
				value = 1
				owner = root
			}
		}
	}
	
	option = {
		name = flavor_pap.13.b
		location:rome = {
			change_building_level_in_location = {
				building = building_type:dip_vatican_library
				value = 1
				owner = root
			}
		}
	}
	
	option = {
		name = flavor_pap.13.c
		location:rome = {
			change_building_level_in_location = {
				building = building_type:mil_vatican_library
				value = 1
				owner = root
			}
		}
	}
}

#The Sistine Chapel
flavor_pap.14 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.14.title
	desc = flavor_pap.14.desc
	
	dynamic_historical_event = {
		tag = PAP
		from = 1470.1.1
		to = 1520.1.1
		monthly_chance = 10
	}
	
	trigger = {
		owns = location:rome
		location:rome = {
			has_building_with_at_least_one_level = cathedral
		}
		is_during_bankruptcy = no
		gold >= {
			value = monthly_income_total
			multiply = 2
		}
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"
	
	option = {
		name = flavor_pap.14.a
		change_gold_effect = { scale = -3.00 }
		add_government_power = government_power_mild_bonus
		location:rome = {
			add_location_modifier = { modifier = pap_sistine_chapel months = -1 mode = add_and_extend }
		}
	}
}

#Decorate the Sistine Chapel
flavor_pap.15 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.15.title
	desc = flavor_pap.15.desc
	dynamic_historical_event = {
		tag = PAP
		from = 1470.1.1
		to = 1600.1.1
		monthly_chance = 10
	}
	
	trigger = {
		owns = location:rome
		location:rome = { has_location_modifier = pap_sistine_chapel }
		is_during_bankruptcy = no
		gold >= {
			value = monthly_income_total
			multiply = 2
		}
	}
	
	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		location:rome = {
			remove_location_modifier = pap_sistine_chapel
			save_scope_as = target_location
		}

		character:flo_sandro_boticelli_script ?= {
			save_scope_as = sandro_boticelli_scope
		}
		character:michelangelo_artist ?= {
			save_scope_as = michaelangelo_scope
		}
		if = {
			limit = {
				current_year < 1494
			}
			location:florence.owner = {
				create_character = { #https://en.wikipedia.org/wiki/Domenico_Ghirlandaio
					first_name = name_dominic #Domenico
					last_name = di_tommaso_curradi
					nickname = ghirlandaio
					birth_date = 1448.6.2
					birth_location = location:florence
					culture = culture:tuscan
					estate = estate_type:burghers_estate
					artist_skill = 0.80
					artist = painter
					script = dominic_ghirlandaio
					save_scope_as = ghirlandaio_scope
				}
			}
		}
		if = {
			limit = {
				current_year < 1523
			}
			location:chiusi.owner = {
				create_character = { #https://en.wikipedia.org/wiki/Pietro_Perugino
					first_name = name_peter
					last_name = vannucci
					nickname = perugino
					birth_date = 1446.1.1
					birth_location = location:chiusi
					culture = culture:tuscan
					estate = estate_type:burghers_estate
					artist_skill = 0.85
					artist = painter
					script = pietro_perugino
					save_scope_as = pietro_perugino_scope
				}
			}
		}

	}
	
	option = {
		name = flavor_pap.15.a
		trigger = {
			current_year < 1510
			scope:sandro_boticelli_scope ?= {
				is_alive = yes
			}
		}
		change_gold_effect = { scale = -3.00 }
		scope:sandro_boticelli_scope = {
			if = {
				limit = { owner != root }
				move_country = root
			}
		}
		location:rome = {
			add_location_modifier = { modifier = pap_sistinechapel_botticelli months = -1 mode = add_and_extend }
		}
	}
	
	option = {
		name = flavor_pap.15.b
		trigger = {
			current_year < 1494
			scope:ghirlandaio_scope = {
				is_alive = yes
			}
		}
		change_gold_effect = { scale = -3.00 }
		scope:ghirlandaio_scope = {
			if = {
				limit = { owner != root }
				move_country = root
			}
		}
		location:rome = {
			add_location_modifier = { modifier = pap_sistinechapel_ghirlandaio months = -1 mode = add_and_extend }
		}
	}
	
	option = {
		name = flavor_pap.15.c
		trigger = {
			current_year < 1523
			scope:pietro_perugino_scope = {
				is_alive = yes
			}
		}
		change_gold_effect = { scale = -3.00 }
		scope:pietro_perugino_scope = {
			if = {
				limit = { owner != root }
				move_country = root
			}
		}
		location:rome = {
			add_location_modifier = { modifier = pap_sistinechapel_perugino months = -1 mode = add_and_extend }
		}
	}
	
	option = {
		name = flavor_pap.15.d
		trigger = {
			current_year >= 1500
			current_year < 1564
			scope:michaelangelo_scope = {
				is_alive = yes
			}
		}
		change_gold_effect = { scale = -3.00 }
		scope:michaelangelo_scope = {
			if = {
				limit = { owner != root }
				move_country = root
			}
		}
		location:rome = {
			add_location_modifier = { modifier = pap_sistinechapel_michelangelo months = -1 mode = add_and_extend }
		}
	}
	
	option = {
		name = flavor_pap.15.e
		change_gold_effect = { scale = -2.00 }
		location:rome = {
			add_location_modifier = { modifier = pap_sistinechapel_decorated months = -1 mode = add_and_extend }
		}
	}
}

#Simony Judged
flavor_pap.17 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.17.title
	desc = flavor_pap.17.desc
	
	dynamic_historical_event = {
		tag = PAP
		from = 1420.1.1
		to = 1520.1.1
		monthly_chance = 5
	}
	
	trigger = {
		religion:catholic = {
			reform_desire >= 0.50
			has_religion_modifier = tolerated_simony_religion
		}
		NOT = { religion:lutheran = { is_religion_enabled = yes} }
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}
	
	option = {
		name = flavor_pap.17.a

		add_stability = stability_extreme_penalty
		religion:catholic = { add_reform_desire = reform_desire_severe_decrease }
		add_government_power = government_power_extreme_bonus
		custom_tooltip = disables_simony

		religion:catholic = {
			remove_religion_modifier = tolerated_simony_religion
			add_religion_modifier = banned_simony_religion
		}
		international_organization:catholic_church = {
			add_policy_to_international_organization = policy:banned_simony
		}
	}
	
	option = {
		name = flavor_pap.17.b

		add_government_power = government_power_extreme_penalty
		religion:catholic = {
			remove_religion_modifier = tolerated_simony_religion
			add_religion_modifier = endorsed_simony_religion
		}
		international_organization:catholic_church = {
			add_policy_to_international_organization = policy:endorsed_simony
		}
	}
}

#Veneration of Relics - allow or disallow?
flavor_pap.18 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.18.title
	desc = flavor_pap.18.desc

	dynamic_historical_event = {
		tag = PAP
		from = 1437.1.1
		to = 1537.1.1
		monthly_chance = 5
	}
	
	trigger = {
		religion:catholic = { reform_desire >= 0.25 }
		NOT = { religion:lutheran = { is_religion_enabled = yes} }
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}
	
	option = {
		name = flavor_pap.18.a
		add_stability = stability_extreme_penalty
		religion:catholic = { add_reform_desire = reform_desire_severe_decrease }
		add_government_power = government_power_extreme_bonus
		custom_tooltip = disables_veneration_of_relics

		international_organization:catholic_church = {
			add_policy_to_international_organization = policy:no_veneration
		}
	}
	
	option = {
		name = flavor_pap.18.b

		add_government_power = government_power_extreme_penalty
		religion:catholic = { add_reform_desire = reform_desire_weak_increase }
	}

	option = {
		name = flavor_pap.18.c

		add_stability = stability_weak_penalty
		religion:catholic = { add_reform_desire = reform_desire_weak_decrease }
		international_organization:catholic_church = {
			add_policy_to_international_organization = policy:limited_veneration
		}
	}
}

#Galileo Galilei
flavor_pap.19 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.19.title
	desc = flavor_pap.19.desc
	
	dynamic_historical_event = {
		tag = PAP
		from = 1590.1.1
		to = 1640.1.1
		monthly_chance = 5
	}
	
	trigger = {
		knows_about_institution = institution:confessionalism
	}
	
	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		if = {
			limit = {
				NOT = { has_global_variable = galileo_spawned }
			}
			location:pisa.owner = {
				create_character = { #https://en.wikipedia.org/wiki/Galileo_Galilei
					first_name = name_galileo
					last_name = galilei
					birth_date = 1564.2.15
					birth_location = location:pisa
					culture = culture:tuscan
					estate = estate_type:burghers_estate
					artist_skill = 0.96
					artist = philosopher
					script = galileo_galilei
					save_scope_as = galileo_galilei_scope
				}
			}
			set_global_variable = galileo_spawned
		}
		else = {
			character:galileo_galilei = {
				save_scope_as = galileo_galilei_scope
			}
		}
	}

	option = {
		name = flavor_pap.19.a
		add_stability = stability_extreme_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_right }
	}
	
	option = {
		name = flavor_pap.19.b
		add_government_power = government_power_mild_bonus
		add_prestige = prestige_weak_bonus
		add_army_tradition = army_tradition_weak_bonus
		add_navy_tradition = navy_tradition_weak_bonus
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_left }
	}
}

#The Kingdom of God on Earth
flavor_pap.20 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.20.title
	desc = flavor_pap.20.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1300.1.1
		to = 1837.1.1
		monthly_chance = 100
	}
	trigger = {
		has_ruler = yes
		has_reform = government_reform:papacy_reform
		region:italy_region = {
			any_location_in_region = {
				OR = {
					is_ownable = no
					top_owner ?= root
				}
				count = all
			}
		}
	}

	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ruler ?= {
			save_scope_as = target_character
		}

		ordered_pop = {
			max = 1
			order_by = pop_size
			limit = {
				pop_type = pop_type:clergy
			}
			save_scope_as = target_pop
		}
		ordered_pop = {
			max = 1
			order_by = pop_size
			limit = {
				pop_type = pop_type:clergy
			}
			save_scope_as = target_pop_bckg
		}
	}

	option = {
		name = flavor_pap.20.a
		trigger = {
			not = {has_reform = government_reform:kingdom_of_god_reform}
		}

		#Kingdom of God reform
		unlock_government_reform_effect = { type = kingdom_of_god_reform }
		if = {
			#If we have all the slots already full
			limit = {
				num_reforms = modifier:government_reform_slots
			}
			add_country_modifier = { modifier = kingdom_of_god_slot_modifier }
		}
		add_reform = government_reform:kingdom_of_god_reform
	}

	option = {
		name = flavor_pap.20.b
		add_prestige = prestige_severe_bonus
		add_government_power = government_power_severe_bonus
	}
}

#Pope Accused of Fathering Children
flavor_pap.21 = {
	hide_portraits = yes
	type = country_event
	fire_only_once = yes
	title = flavor_pap.21.title
	desc = flavor_pap.21.desc
	fire_only_once = yes

	historical_info = flavor_pap.21.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ruler = yes
		ruler ?= {
			has_trait = sinner
			DIP < 60
		}
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ruler ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pap.21.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		scope:target_character = {
			add_character_modifier = { modifier = sinner_pope years = -1 mode = add_and_extend }
		}
	}

	option = {
		name = flavor_pap.21.b
		scope:target_character = {
			add_character_modifier = { modifier = sinner_pope_severe years = -1 mode = add_and_extend }
		}
	}
}

#Fire of the Lateran Palace
flavor_pap.22 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.22.title
	desc = flavor_pap.22.desc
	fire_only_once = yes

	historical_info = flavor_pap.22.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1361.1.1
		to = 1400.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:rome
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		location:rome ?= {
			save_scope_as = target_province
		}
	}

	option = {
		name = flavor_pap.22.a
		change_gold_effect = { scale = -8 }
		location:rome = {
			change_prosperity = prosperity_weak_penalty
			change_development = development_weak_penalty
		}
	}

	option = {
		name = flavor_pap.22.b
		historical_option = yes
		location:rome = {
			change_prosperity = prosperity_ultimate_penalty
			change_development = development_mild_penalty
		}
		set_variable = pap_can_rebuild_lateran
	}
}

flavor_pap.23 = { #Domenico Fontana
	type = country_event
	title = flavor_pap.23.title
	desc = flavor_pap.23.desc

	fire_only_once = yes

	historical_info = flavor_pap.23.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1575.1.1
		to = 1590.1.1
		monthly_chance = 10
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		create_character = {
			first_name = name_dominic
			last_name = Fontana
			birth_date = 1543.9.3
			birth_location = location:lugano
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.85
			culture = culture:lombard
			save_scope_as = pap_fontana
			script = pap_fontana_script
			create_in_limbo = yes

			artist = architect
		}
	}

	option = {
		name = flavor_pap.23.a
        scope:pap_fontana = {
            move_country = root
			add_trait = trait:prominent
		}
	}

	option = {
		name = flavor_pap.23.b
		add_estate_satisfaction = { type = estate_type:clergy_estate value = 0.1 }
		hidden_effect = {
   			kill_character_silently = scope:pap_fontana
  		}
	}
}

#Rebuilding the Lateran Palace
flavor_pap.24 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.24.title
	desc = flavor_pap.24.desc
	fire_only_once = yes

	historical_info = flavor_pap.24.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1580.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:rome
		has_variable = pap_can_rebuild_lateran
		character:pap_fontana_script ?= { is_alive = yes }
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		location:rome ?= {
			save_scope_as = target_province
		}
		character:pap_fontana_script ?= { save_scope_as = fontana }
	}

	option = {
		name = flavor_pap.24.a
		historical_option = yes
		scope:fontana = {
			add_artist_skill = 0.05
		}
		location:rome = {
			create_art = {
				quality = 70
				type = work_of_art_type:monument
				key = lateran_palace
				artist = scope:fontana
			}
		}
	}

	option = {
		name = flavor_pap.24.b
		location:rome = {
			change_development = development_mild_bonus
		}
	}

	after = {
		remove_variable = pap_can_rebuild_lateran
	}
}

flavor_pap.25 = { #Fortifying Castel Sant'Angelo
	type = country_event
	title = flavor_pap.25.title
	desc = flavor_pap.25.desc

	fire_only_once = yes

	historical_info = flavor_pap.25.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1337.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:rome
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		location:rome = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_pap.25.a
		historical_option = yes
		add_army_tradition = army_tradition_mild_bonus
		location:rome = {
			construct_building = {
				building_type = building_type:castel_sant_angelo
			}
		}
	}

	option = {
		name = flavor_pap.25.b
		add_prestige = prestige_mild_penalty
	}
}

#Summer Residence of the Popes
flavor_pap.26 = {
	hide_portraits = yes
	type = country_event
	fire_only_once = yes
	title = flavor_pap.26.title
	desc = flavor_pap.26.desc
	fire_only_once = yes

	historical_info = flavor_pap.26.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1583.1.1
		to = 1600.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:rome
		character:pap_fontana_script ?= { is_alive = yes }
		has_ruler = yes
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		location:rome ?= {
			save_scope_as = target_province
		}
		ruler ?= {
			save_scope_as = target_character
		}
		character:pap_fontana_script ?= { save_scope_as = fontana }
	}

	option = {
		name = flavor_pap.26.a
		historical_option = yes
		set_variable = has_unlocked_quirinal_palace
		scope:fontana = {
			add_artist_skill = 0.05
		}
		location:rome = {
			construct_building = {
				building_type = building_type:quirinal_palace
			}
		}
	}

	option = {
		name = flavor_pap.26.b
		add_prestige = prestige_mild_penalty
	}
}

flavor_pap.27 = { #Ignazio Danti
	type = country_event
	title = flavor_pap.27.title
	desc = flavor_pap.27.desc

	fire_only_once = yes

	historical_info = flavor_pap.27.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1560.1.1
		to = 1570.1.1
		monthly_chance = 10
	}

	image = "gfx/interface/illustrations/institutions/scientific_revolution.dds"

	immediate = {
		create_character = {
			first_name = name_ignatius
			last_name = Danti
			birth_date = 1536.4.2
			birth_location = location:perugia
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.70
			culture = culture:median
			save_scope_as = pap_danti
			create_in_limbo = yes

			artist = scientist
		}
	}

	option = {
		name = flavor_pap.27.a
		change_gold_effect = { scale = -2 }
        scope:pap_danti = {
            move_country = root
		}
	}

	option = {
		name = flavor_pap.27.b
		change_gold_effect = { scale = -5 }
        scope:pap_danti = {
            move_country = root
			add_trait = trait:prominent
			add_artist_skill = 0.05
		}
	}

	option = {
		name = flavor_pap.27.c
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:pap_danti
  		}
	}
}

flavor_pap.28 = { #Errors of the Julian Calendar
	type = country_event
	title = flavor_pap.28.title
	desc = flavor_pap.28.desc

	fire_only_once = yes

	historical_info = flavor_pap.28.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1580.1.1
		to = 1700.1.1
		monthly_chance = 10
	}

	trigger = {
		has_ruler = yes
		ruler = {
			dip >= 60
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	
	option = {
		name = flavor_pap.28.a
		historical_option = yes
		change_gold_effect = { scale = -24 }
		custom_tooltip = flavor_pap.28.a.tt
		set_variable = pap_reformed_calendar
	}

	option = {
		name = flavor_pap.28.b
        add_prestige = prestige_severe_penalty
	}
}

flavor_pap.29 = { #Inter Gravissimas – The New Calendar
	type = country_event
	title = flavor_pap.29.title
	desc = flavor_pap.29.desc

	fire_only_once = yes

	illustration_tags = {
        10 = happy
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ruler ?= {
			save_scope_as = target_ruler
		}
	}

	historical_info = flavor_pap.29.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1582.1.1
		to = 1630.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ruler = yes
		has_variable = pap_reformed_calendar
	}

	option = {
		name = flavor_pap.29.a
		add_prestige = prestige_severe_bonus
		add_research_progress = research_progress_severe_bonus
		culture = {
			add_cultural_influence = cultural_influence_severe_bonus
		}
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_right }
	}

	after = {
		remove_variable = pap_reformed_calendar
	}
}

flavor_pap.30 = { #Constitutiones Sanctæ Matris Ecclesiæ
	hide_portraits = yes
	type = country_event
	title = flavor_pap.30.title
	desc = flavor_pap.30.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1357.1.1
		to = 1400.1.1
		monthly_chance = 2
	}

	historical_info = flavor_pap.30.historical_info

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_giles
			last_name = Alvarez_Albornoz
			birth_date = 1310.3.2
			birth_location = location:cuenca
			estate = estate_type:clergy_estate
			adm = { 60 90 }
			dip = { 60 90 }
			mil = { 20 40 }
			culture = culture:castilian
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_pap.30.a
		historical_option = yes
		add_stability = stability_mild_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_right }
        scope:target_character = {
            move_country = root
		}
	}

	option = {
		name = flavor_pap.30.b
		add_prestige = prestige_mild_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		change_societal_value = { type = traditionalist_vs_innovative value = societal_value_minor_move_to_left }
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

flavor_pap.31 = { #Raffaello Sanzio da Urbino
	type = country_event
	title = flavor_pap.31.title
	desc = flavor_pap.31.desc

	fire_only_once = yes

	historical_info = flavor_pap.31.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1505.1.1
		to = 1515.1.1
		monthly_chance = 10
	}

	trigger = {
		has_embraced_institution = institution:renaissance
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		create_character = {
			first_name = name_raphael
			last_name = Sanzio_da_Urbino
			birth_date = 1483.3.28
			birth_location = location:urbino
			estate = estate_type:burghers_estate
			adm = { 20 70 }
			dip = { 20 70 }
			mil = { 20 70 }
			artist_skill = 0.85
			culture = culture:median
			save_scope_as = pap_raphael
			script = pap_raphael
			create_in_limbo = yes

			artist = painter
		}
	}

	option = {
		name = flavor_pap.31.a
		historical_option = yes
		change_gold_effect = { scale = -2 }
        scope:pap_raphael = {
            move_country = root
		}
	}

	option = {
		name = flavor_pap.31.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:pap_raphael
  		}
	}
}

flavor_pap.32 = { #Humanism and the Church Teachings
	type = country_event
	title = flavor_pap.32.title
	desc = flavor_pap.32.desc

	fire_only_once = yes

	dynamic_historical_event = {
		tag = PAP
		from = 1545.1.1
		to = 1600.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	trigger = {
		religion:lutheran = {
			is_religion_enabled = yes
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_pap.32.a
		add_religious_influence = religious_influence_mild_bonus
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_left }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}

	option = {
		name = flavor_pap.32.b
		culture = {
			add_cultural_influence = cultural_influence_mild_bonus
		}
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_right }
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}
}

#The Jubilee of 1350
flavor_pap.33 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.33.title
	desc = flavor_pap.33.desc

	historical_info = flavor_pap.33.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1350.1.1
		to = 1350.12.31
		monthly_chance = 100
	}

	trigger = {
		owns = location:rome
		has_ruler = yes
	}

	illustration_tags = {
        10 = happy
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ruler = {
			save_scope_as = target_ruler
		}
	}

	option = {
		name = flavor_pap.33.a
		historical_option = yes
		add_devotion = devotion_mild_bonus
		add_religious_influence = religious_influence_mild_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}
	option = {
		name = flavor_pap.33.b
		change_gold_effect = { scale = 2 }
		location:rome = {
			change_prosperity = prosperity_weak_bonus
		}
	}
}

#Publishing the Canzoniere
flavor_pap.34 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.34.title
	desc = flavor_pap.34.desc

	historical_info = flavor_pap.34.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1345.1.1
		to = 1355.1.1
		monthly_chance = 10
	}

	trigger = {
		has_ruler = yes
		exists = character:pap_francesco_petrarca
		character:pap_francesco_petrarca  = {
			owner = ROOT
			is_alive = yes
		}
		owns = location:rome
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ruler = {
			save_scope_as = target_ruler
		}
		character:pap_francesco_petrarca = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pap.34.a
		historical_option = yes
		change_gold_effect = { scale = -5 }
		location:rome = {
			create_art = {
				artist = scope:target_character
				quality = 80
				type = work_of_art_type:poem
				key = canzoniere
			}
		}
		add_research_progress = research_progress_severe_bonus
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_right
		}
	}
	option = {
		name = flavor_pap.34.b
		add_religious_influence = religious_influence_mild_bonus
		add_prestige = prestige_mild_penalty
		change_societal_value = {
			type = traditionalist_vs_innovative
			value = societal_value_move_to_left
		}
	}
}

#Draining the Pontine Marshes
flavor_pap.35 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.35.title
	desc = flavor_pap.35.desc

	historical_info = flavor_pap.35.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1500.1.1
		to = 1836.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:velletri
		owns = location:terracina
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}
	
	option = {
		name = flavor_pap.35.a
		historical_option = yes
		change_gold_effect = { scale = -12 }
		location:velletri = {
			change_prosperity = prosperity_mild_bonus
			change_development = development_mild_bonus
			add_location_modifier = { modifier = pap_drained_marshes years = -1 mode = add }
		}
		location:terracina = {
			change_prosperity = prosperity_mild_bonus
			change_development = development_mild_bonus
			add_location_modifier = { modifier = pap_drained_marshes years = -1 mode = add }
		}
		custom_tooltip = flavor_pap.35.a.tt
	}

	option = {
		name = flavor_pap.35.b
		add_prestige = prestige_mild_penalty
	}
}

flavor_pap.36 = { #The Greed of Cardinal Borghese
	type = country_event
	title = flavor_pap.36.title
	desc = flavor_pap.36.desc

	fire_only_once = yes

	historical_info = flavor_pap.36.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1610.1.1
		to = 1630.1.1
		monthly_chance = 1
	}

	trigger = {
		religion = religion:catholic
		num_cardinals >= 1
	}
	
	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			first_name = name_scipio
			last_name = Caffarelli_Borghese
			adm = { 50 80 }
			dip = { 50 80 }
			mil = { 20 40 }
			birth_date = 1577.9.1
			birth_location = location:rome
			culture = culture:median
			estate = estate_type:clergy_estate
			save_scope_as = target_character
			add_trait = trait:unsuited_for_naval_command
			add_trait = trait:unsuited_for_army_command
			create_in_limbo = yes
		}
	}

	option = {
		name = flavor_pap.36.a
		historical_option = yes
		scope:target_character = {
			move_country = root
		}
		add_devotion = devotion_mild_penalty
		add_religious_influence = religious_influence_severe_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_weak_penalty }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_weak_penalty }
	}

	option = {
		name = flavor_pap.36.b
		add_devotion = devotion_mild_bonus
		add_religious_influence = religious_influence_mild_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_weak_bonus }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_weak_bonus }
		scope:target_character = {
			banish_character = yes
		}
	}
}

#The Great Devotion of 1399
flavor_pap.37 = {
	hide_portraits = yes
	type = country_event
	fire_only_once = yes
	title = flavor_pap.37.title
	desc = flavor_pap.37.desc

	historical_info = flavor_pap.37.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1399.1.1
		to = 1399.12.31
		monthly_chance = 100
	}

	trigger = {
		owns = location:rome
		has_ruler = yes
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		ruler = {
			save_scope_as = target_ruler
		}
	}

	option = {
		name = flavor_pap.37.a
		historical_option = yes
		add_stability = stability_mild_penalty
		add_devotion = devotion_mild_bonus
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_bonus }
	}
	option = {
		name = flavor_pap.37.b
		add_stability = stability_mild_bonus
		add_devotion = devotion_mild_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_mild_penalty }
	}
}

#Establishment of the Corsican Guard
flavor_pap.38 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.38.title
	desc = flavor_pap.38.desc

	historical_info = flavor_pap.38.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1600.1.1
		to = 1650.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ruler = yes
		OR = {
			area:liguria_area = {
				any_location_in_area = {
					owner ?= root
					count >= 10
				}
			}
			"culture_percentage_in_country(culture:corsican)" > 0
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		ruler = {
			save_scope_as = target_ruler
		}
	}

	option = {
		name = flavor_pap.38.a
		historical_option = yes
		change_gold_effect = { scale = -4 }
		add_army_tradition = army_tradition_mild_bonus
		capital = {
			add_location_modifier = { modifier = pap_corsican_guard years = 100 mode = add_and_extend }
		}
	}
	option = {
		name = flavor_pap.38.b
		add_army_tradition = army_tradition_mild_penalty
	}
}

#The Corsican Guard's Uncontrollable Behavior
flavor_pap.39 = {
	hide_portraits = yes
	type = country_event
	fire_only_once = yes
	title = flavor_pap.39.title
	desc = flavor_pap.39.desc

	historical_info = flavor_pap.39.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1650.1.1
		to = 1700.1.1
		monthly_chance = 1
	}

	trigger = {
		has_ruler = yes
		capital = {
			has_location_modifier = pap_corsican_guard
		}
	}

	illustration_tags = {
        10 = angry
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		ruler = {
			save_scope_as = target_ruler
		}
	}

	option = {
		name = flavor_pap.39.a
		historical_option = yes
		capital = {
			remove_location_modifier = pap_corsican_guard
		}
		add_stability = stability_mild_bonus
		custom_tooltip = {
			text = flavor_pap.39.a.tt
			capital = {
				every_pop = {
					limit = {
						owner = root
					}
					add_pop_satisfaction = pop_satisfaction_severe_bonus
				}
			}
		}
	}

	option = {
		name = flavor_pap.39.b
		add_stability = stability_severe_penalty
		custom_tooltip = {
			text = flavor_pap.39.b.tt
			capital = {
				every_pop = {
					limit = {
						owner = root
					}
					add_pop_satisfaction = pop_satisfaction_severe_penalty
				}
			}
		}
	}
}

flavor_pap.40 = { #Strengthening the Papal Navy
	type = country_event
	title = flavor_pap.40.title
	desc = flavor_pap.40.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1500.1.1
		to = 1600.1.1
		monthly_chance = 1

	}

	historical_info = flavor_pap.40.historical_info

	trigger = {
		has_ports = yes
		any_rival = {
			navy_size > ROOT.navy_size
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		random_port_in_country = {
			save_scope_as = target_location
		}
		set_variable = {
			name = total_gained_ships_variable
			value = {
				add = 5
				add = {
					value = {
						add = expected_navy_size
						multiply = 0.05
					}
				}
				add = {
					value = {
						add = navy_tradition
						multiply = 0.25
					}
				}
				add = {
					value = {
						add = num_of_non_rural_ports
						multiply = 0.25
					}
				}
				max = {
					value = expected_navy_size
					multiply = 0.25
				}
				ceiling = yes
			}
		}
	}

	option = {
		name = flavor_pap.40.a
		historical_option = yes
		change_gold_effect = { scale = -6 }
		add_navy_tradition = navy_tradition_severe_bonus
		custom_tooltip = {
			text = flavor_pap.40.a.tt
			while = {
				limit = {
					var:total_gained_ships_variable > 0
				}
				change_variable = {
					name = total_gained_ships_variable
					subtract = 1
				}
				scope:target_location = {
					create_sub_unit_of_category = sub_unit_category:navy_galley
				}
			}
		}
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_large_move_to_right
		}
	}

	option = {
		name = flavor_pap.40.b
		add_navy_tradition = navy_tradition_severe_penalty
		change_societal_value = {
			type = land_vs_naval
			value = societal_value_minor_move_to_left
		}
	}

	after = { hidden_effect = { remove_variable = total_gained_ships_variable } }
}

flavor_pap.41 = { #Patronage of Bernini
	type = country_event
	title = flavor_pap.41.title
	desc = flavor_pap.41.desc

	fire_only_once = yes

	historical_info = flavor_pap.41.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1630.1.1
		to = 1640.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:rome
		has_ruler = yes
	}

	image = "gfx/interface/illustrations/institutions/renaissance.dds"

	immediate = {
		create_character = {
			first_name = name_janus.name_laurence
			last_name = Bernini
			birth_date = 1598.12.7
			birth_location = location:naples
			estate = estate_type:burghers_estate
			artist_skill = 0.85
			culture = culture:neapolitan
			save_scope_as = target_character
			script = pap_bernini_script
			create_in_limbo = yes

			artist = architect
		}
	}

	option = {
		name = flavor_pap.41.a
		historical_option = yes
		change_gold_effect = { scale = -3 }
        scope:target_character = {
            move_country = root
		}
	}

	option = {
		name = flavor_pap.41.b
		add_prestige = prestige_mild_penalty
		hidden_effect = {
   			kill_character_silently = scope:target_character
  		}
	}
}

#Commissioning the First Theater
flavor_pap.42 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.42.title
	desc = flavor_pap.42.desc
	fire_only_once = yes

	historical_info = flavor_pap.42.historical_info

	dynamic_historical_event = {
		tag = PAP
		from = 1640.1.1
		to = 1660.1.1
		monthly_chance = 1
	}

	trigger = {
		owns = location:rome
		location:rome = {
			NOT = {
				has_building = building_type:theater
			}
		}
		character:pap_bernini_script ?= {
			is_alive = yes
			owner = ROOT
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		character:pap_bernini_script ?= { save_scope_as = bernini }
		location:rome = { save_scope_as = target_location }
	}

	option = {
		name = flavor_pap.42.a
		historical_option = yes
		change_gold_effect = { scale = -5 }
		scope:bernini = {
			add_artist_skill = 0.1
		}
		if = {
			limit = {
				scope:bernini = {
					NOT = {
						has_trait = prominent
					}
				}
			}
			scope:bernini = {
				add_trait = trait:prominent
			}
		}
		else = {
			add_research_progress = research_progress_mild_bonus
		}
		location:rome = {
			construct_building = {
				building_type = building_type:theater
			}
		}
		culture = {
			add_cultural_tradition = cultural_tradition_mild_bonus
			add_cultural_influence = cultural_influence_mild_bonus
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_penalty }
	}

	option = {
		name = flavor_pap.42.b
		culture = {
			add_cultural_tradition = cultural_tradition_mild_penalty
			add_cultural_influence = cultural_influence_mild_penalty
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_mild_bonus }
	}
}

#Movement of the Papal Archives
flavor_pap.101 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.101.title
	desc = flavor_pap.101.desc
	
	dynamic_historical_event = {
		tag = PAP
		from = 1337.1.1
		to = 1350.1.1
		monthly_chance = 5
	}
	
	trigger = {
		owns = location:assisi
		owns = location:avignon
		location:assisi = { has_building = building_type:papal_archives }
		has_ruler = yes
	}
	
	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		hidden_effect = {
			location:assisi = { save_scope_as = from_location }
			location:avignon = { save_scope_as = target_location }
			ruler ?= { save_scope_as = ruler_scope }	#loc
		}
	}
	
	option = {
		name = flavor_pap.101.a
		historical_option = yes
		scope:from_location = {
			if = {
				limit = { has_building = building_type:papal_archives }
				destroy_building = "building(building_type:papal_archives|root)"
			}
		}
		scope:target_location = {
			custom_tooltip = {
				text = move_building_tt
				if = {
					limit = { NOT = { has_building = building_type:papal_archives } }
					construct_building = {
						building_type = building_type:papal_archives
						cost_multiplier = 0
						instant = yes
						cost_multiplier_reason = "game_concept_event"
					}
				}
				else = {
					change_building_level_in_location = {
						building = building_type:papal_archives
						value = 1
						owner = root
					}
				}
			}
		}
		change_gold_effect = { scale = -1 }
	}
	
	option = {
		name = flavor_pap.101.b
		add_prestige = prestige_weak_penalty
	}
}

#The Foundation of Societas Jesu
flavor_pap.1000 = {
	type = country_event
	title = flavor_pap.1000.title
	desc = flavor_pap.1000.desc
	historical_info = flavor_pap.1000.historical_info
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = PAP
		from = 1550.1.1
		to = 1800.1.1
		monthly_chance = 5
	}
	
	trigger = {
		any_known_country = {
			religion = religion:catholic
			has_policy = jesuits_allowed
		}
	}
	
	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		ordered_known_country = {
			limit = {
				religion = religion:catholic
				has_policy = jesuits_allowed
			}
			order_by = total_population
			max = 1
			check_range_bounds = no

			save_scope_as = target_country
		}
	}
	
	option = {
		name = flavor_pap.1000.a
		scope:target_country = {
			show_as_tooltip = {
				add_religious_influence = religious_influence_mild_bonus
			}
			trigger_event_silently = { id = flavor_pap.1001 }
		}
		add_prestige = prestige_mild_bonus
		if = {
			limit = {
				international_organization:catholic_church = {
					international_organization_has_policy = policy:society_of_jesus_not_allowed
				}
			}
			international_organization:catholic_church = {
				add_policy_to_international_organization = policy:society_of_jesus_allowed
			}
		}
	}
}

#Papal approval of the Jesuit order
flavor_pap.1001 = {
	type = country_event
	title = flavor_pap.1001.title
	desc = flavor_pap.1001.desc
	historical_info = flavor_pap.1001.historical_info

	illustration_tags = {
        10 = happy
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}
	
	option = {
		name = flavor_pap.1001.a
		add_religious_influence = religious_influence_mild_bonus
	}
}

# Mission To China
flavor_pap.1200 = {
	type = country_event
	title = flavor_pap.1200.title
	desc = flavor_pap.1200.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1635.1.1
		to = 1800.1.1
		monthly_chance = 1
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		location:dadu.owner = {
			random_owned_location = {
				limit = {
					is_port = yes
				}
				province_definition = {
					save_scope_as = target_province
				}
			}
		}
	}

	trigger = {
		has_discovered = location:dadu
		location:dadu.owner = {
			has_ports = yes
		}
		has_unlocked_global_law_trigger = { type = society_of_jesus }
	}

	option = {
		name = flavor_pap.1200.a
		location:dadu.owner = {
			trigger_event_silently = flavor_pap.1201
		}
	}
}

#The arrival of the Jesuits
flavor_pap.1201 = {
	type = country_event
	title = flavor_pap.1201.title
	desc = flavor_pap.1201.desc

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		if = {
			limit = {
				is_ai = no
			}
			event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
			c:PAP = {
				event_illustration_estate_foreground_effect = { foreground = estate_type:clergy_estate }
			}
		}
		random_owned_location = {
			limit = {
				is_port = yes
			}
			province_definition = {
				save_scope_as = target_province
			}
		}
	}

	option = {
		name = flavor_pap.1201.a
		scope:target_province = {
			every_location_in_province_definition = {
				every_pop = {
					limit = {
						NOT = {
							religion = religion:catholic
						}
					}
					split_pop = {
						fraction = 0.25
						religion = religion:catholic
					}
				}
			}
		}
		add_prestige = prestige_mild_bonus
		custom_tooltip = all_catholic_will_love_tt
		hidden_effect = {
			every_country = {
				limit = {
					religion = religion:catholic
					OR = {
						knows_country = root
						tag = PAP
					}
				}
				add_opinion = { target = prev modifier = opinion_accepted_jesuits }
			}
		}
	}
	option = {
		name = flavor_pap.1201.b
		add_stability = stability_extreme_bonus
	}
}

#Mission To Japan
flavor_pap.1300 = {
	type = country_event
	title = flavor_pap.1300.title
	desc = flavor_pap.1300.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1535.1.1
		to = 1800.1.1
		monthly_chance = 2
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		location:kyoto.owner = {
			random_owned_location = {
				limit = {
					is_port = yes
				}
				province_definition = {
					save_scope_as = target_province
				}
			}
		}
	}

	trigger = {
		has_discovered = location:kyoto
		location:kyoto.owner = {
			has_ports = yes
		}
		has_unlocked_global_law_trigger = { type = society_of_jesus }
	}

	option = {
		name = flavor_pap.1300.a

		location:kyoto.owner = {
			trigger_event_silently = flavor_pap.1301
		}
	}
}

#The Kirishitan
flavor_pap.1301 = {
	type = country_event
	title = flavor_pap.1301.title
	desc = flavor_pap.1301.desc

	illustration_tags = {
        10 = angry
        10 = exterior
    }

	immediate = {
		if = {
			limit = {
				is_ai = no
			}
			event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
			c:PAP = {
				event_illustration_estate_foreground_effect = { foreground = estate_type:clergy_estate }
			}
		}
		random_owned_location = {
			limit = {
				is_port = yes
			}
			province_definition = {
				save_scope_as = target_province
			}
		}
	}

	option = {
		name = flavor_pap.1301.a
		historical_option = yes

		scope:target_province = {
			every_location_in_province_definition = {
				every_pop = {
					limit = {
						NOT = {
							religion = religion:catholic
						}
					}
					split_pop = {
						fraction = 0.25
						religion = religion:catholic
					}
				}
			}
			random_owned_location = {
				every_pop = {	add_pop_satisfaction = pop_satisfaction_severe_penalty	}
			}
		}
	}
	option = {
		name = flavor_pap.1301.b
		scope:target_province = {
			every_location_in_province_definition = {
				every_pop = {
					limit = {
						NOT = {
							religion = religion:catholic
						}
					}
					split_pop = {
						fraction = 1.00
						religion = religion:catholic
					}
				}
			}
		}
		custom_tooltip = all_catholic_will_love_tt
		hidden_effect = {
			every_country = {
				limit = {
					religion = religion:catholic
					OR = {
						knows_country = root
						tag = PAP
					}
				}
				add_opinion = { target = prev modifier = opinion_accepted_jesuits }
			}
		}
		add_stability = stability_extreme_penalty
	}
}

#Society of Jesus
flavor_pap.1400 = {
	type = country_event
	title = flavor_pap.1400.title
	desc = flavor_pap.1400.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1535.1.1
		to = 1800.1.1
		monthly_chance = 10
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}
	
	trigger = {
		religion = religion:catholic
	}
	option = {
		name = flavor_pap.1400.a
		custom_tooltip = flavor_pap.1400.tooltip
		international_organization:catholic_church = {
			set_variable = society_of_jesus_founded
		}
		international_organization:catholic_church = {
			add_policy_to_international_organization = policy:society_of_jesus_allowed
		}
		every_country = {
			limit = {
				religion = religion:catholic
			}
			trigger_event_silently = { id = flavor_pap.1401 }
		}
	}
}

#Institute the Societas Jesu
flavor_pap.1401 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.1401.title
	desc = flavor_pap.1401.desc

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}
		
	option = {
		name = flavor_pap.1401.a
		historical_option = yes
		add_policy = policy:jesuits_allowed

	}
	
	option = {
		name = flavor_pap.1401.b
		add_policy = policy:jesuits_not_allowed
	}
}

#The Commissioning of the Saint Peter's Basilica
flavor_pap.1500 = {
	type = country_event
	title = flavor_pap.1500.title
	desc = flavor_pap.1500.desc
	historical_info = flavor_pap.1500.historical_info
	fire_only_once = yes
	dynamic_historical_event = {
		tag = PAP
		from = 1500.1.1
		to = 1550.1.1
		monthly_chance = 5
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		if = {
			limit = {
				character:michelangelo_artist = {
					is_alive = yes
					owner = root
				}
			}
			character:michelangelo_artist ?= {
				save_scope_as = michaelangelo_scope
			}
		}
	}

	option = {#Build the Basilica with the Pope's money
		name = flavor_pap.1500.a
		trigger = {
			not = {
				exists = scope:michaelangelo_scope
			}
		}

		change_gold_effect = { scale = -2 }

		add_country_modifier = {
			modifier = saint_peter_basilica_being_built_with_own_money
			years = 120
			mode = add
		}
		trigger_event_silently = { id = flavor_pap.1501  years = 120 }
	}

	option = {#Build it using indulgences money
		name = flavor_pap.1500.b
		trigger = {
			not = {
				exists = scope:michaelangelo_scope
			}
		}

		religion:catholic = {
			add_religion_modifier = {
				modifier = saint_peter_basilica_being_built_with_indulgences
				years = 120
				mode = add
			}
		}
		add_country_modifier = {
			modifier = saint_peter_basilica_being_built
			years = 120
			mode = add
		}
		trigger_event_silently = { id = flavor_pap.1501  years = 120 }
	}

	option = {#Build the Basilica with the Pope's money and Michaelangelo
		name = flavor_pap.1500.c
		trigger = {
			exists = scope:michaelangelo_scope
		}
		change_gold_effect = { scale = -2 }
		set_variable = { name = michaelangelo_embellished_st_peters value = yes }
		add_country_modifier = {
			modifier = saint_peter_basilica_being_built_with_own_money
			years = 120
			mode = add
		}
		trigger_event_silently = { id = flavor_pap.1501  years = 120 }
	}

	option = {#Build it using indulgences money and Michaelangelo
		name = flavor_pap.1500.d
		historical_option = yes
		trigger = {
			exists = scope:michaelangelo_scope
		}
		set_variable = { name = michaelangelo_embellished_st_peters value = yes }
		religion:catholic = {
			add_religion_modifier = {
				modifier = saint_peter_basilica_being_built_with_indulgences
				years = 120
				mode = add
			}
		}
		add_country_modifier = {
			modifier = saint_peter_basilica_being_built
			years = 120
			mode = add
		}
		trigger_event_silently = { id = flavor_pap.1501  years = 120 }
	}

	option = {#Don't build it
		name = flavor_pap.1500.e
		add_government_power = government_power_mild_bonus
		add_prestige = prestige_weak_bonus
	}
}

#Saint Peter's Inauguration
flavor_pap.1501 = {
	hide_portraits = yes
	type = country_event
	fire_only_once = yes
	title = flavor_pap.1501.title
	desc = flavor_pap.1501.desc

	trigger = {
		owns = location:rome
	}

	illustration_tags = {
        10 = happy
        10 = exterior
    }

	immediate = {
		clear_saved_scope = michaelangelo_scope

		if = {#If Michaelangelo didn't participate in building it we make a new artist
			limit = {
				not = {
					has_variable = michaelangelo_embellished_st_peters
				}
			}
			create_character = {
				artist = architect
				estate = estate_type:burghers_estate
				artist_skill = 0.67
				save_scope_as = stpeters_architect
			}
		}
		else = {
			character:michelangelo_artist ?= {
				save_scope_as = stpeters_architect
			}
		}

	}

	option = {
		name = flavor_pap.1501.a

		add_prestige = prestige_extreme_bonus
		change_gold_effect = { scale = -5 }
		location:rome = {
			create_art = {
				artist = scope:stpeters_architect
				quality = {
					value = 100
					multiply = scope:stpeters_architect.artist_skill
				}
				type = work_of_art_type:monument
				key = saint_peters_basilica
			}
		}

	}

	option = {
		name = flavor_pap.1501.b

		add_prestige = prestige_mild_bonus
		location:rome = {
			create_art = {
				artist = scope:stpeters_architect
				quality = {
					value = 100
					multiply = scope:stpeters_architect.artist_skill
				}
				type = work_of_art_type:monument
				key = saint_peters_basilica
			}
		}

	}
}

# Saint Peter's Basilica Demise
flavor_pap.1502 = {
	type = country_event
	fire_only_once = yes
	title = flavor_pap.1502.title
	desc = flavor_pap.1502.desc
	
	trigger = {
		tag = PAP
		location:rome = { 
			NOT = { controller ?= root } 
		}
		country_exists = c:PAP
		c:PAP = { #The Basilica is still being built
			OR = {
				has_country_modifier = saint_peter_basilica_being_built
				has_country_modifier = saint_peter_basilica_being_built_with_own_money
			}
		}
	}
	
	illustration_tags = {
        10 = angry
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		location:rome = {
			controller = {
				save_scope_as = rome_ocupier
			}
		}
	}
	
	option = {
		name = flavor_pap.1502.a
		add_prestige = prestige_mild_penalty
		add_stability = stability_mild_penalty
		location:rome = { change_prosperity = prosperity_weak_penalty }
		#Remove all modifiers
		religion:catholic = {
			if = {
				limit = {has_religion_modifier = saint_peter_basilica_being_built_with_indulgences}
				remove_religion_modifier = saint_peter_basilica_being_built_with_indulgences
			}
		}
		if = {
			limit = { has_country_modifier = saint_peter_basilica_being_built }
			remove_country_modifier = saint_peter_basilica_being_built
		}
		if = {
			limit = { has_country_modifier = saint_peter_basilica_being_built_with_own_money }
			remove_country_modifier = saint_peter_basilica_being_built_with_own_money
		}
	}

}

flavor_pap.1700 = { #Bishops claim papal authority to sell indulgences
	type = country_event
	fire_only_once = yes
	title = flavor_pap.1700.title
	desc = flavor_pap.1700.desc

	dynamic_historical_event = {
		tag = PAP
		from = 1380.1.1
		to = 1440.1.1
		monthly_chance = 2
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}
	
	trigger = {
		religion:catholic = {
			has_religion_modifier = limited_indulgences_religion
		}
		religion:lutheran = { is_religion_enabled = no }
		has_ruler = yes
	}

	option = {
		name = flavor_pap.1700.a
		historical_option = yes

		custom_tooltip = {
			text = flavor_pap.1700.a.tt
			trigger_event_silently = {
				id = flavor_pap.1703
				years = 1
			}
		}
	}

	option = {
		name = flavor_pap.1700.b

		international_organization:catholic_church = {
			add_policy_to_international_organization = policy:unlimited_indulgences
		}
		religion:catholic = {
			add_religion_modifier = unlimited_sale_indulgences_religion
			remove_religion_modifier = limited_indulgences_religion
		}
	}
	
	option = {
		name = flavor_pap.1700.c

		set_variable = indulgences_investigated
		add_stability = stability_ultimate_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_severe_penalty }
	}
}

flavor_pap.1701 = { #Johann Tetzel starts selling in Saxony
	type = country_event
	fire_only_once = yes
	title = flavor_pap.1701.title
	desc = flavor_pap.1701.desc
	dynamic_historical_event = {
		tag = PAP
		from = 1485.1.1
		to = 1520.1.1
		monthly_chance = 1
	}

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		location:wittenberg.owner = {
			create_character = { #https://en.wikipedia.org/wiki/Johann_Tetzel
				first_name = name_john
				last_name = tetzel
				culture = culture:saxon
				religion = religion:catholic
				estate = estate_type:clergy_estate
				adm = 66
				dip = 66
				mil = 66
				birth_location = location:pirna
				birth_date = 1465.1.1 # unknown also 1460
				add_trait = trait:unsuited_for_naval_command
				add_trait = trait:unsuited_for_army_command
				save_scope_as = target_character
				script = johann_tetzel_script
			}
			trigger_event_silently = flavor_pap.1702
			save_scope_as = target_country
		}
	}
	
	trigger = {
		has_ruler = yes
		religion:catholic = {
			reform_desire >= 0.30
			OR = {
				has_religion_modifier = limited_indulgences_religion
				has_religion_modifier = unlimited_sale_indulgences_religion
			}
		}
		religion:lutheran = { is_religion_enabled = no }
	}

	option = {
		name = flavor_pap.1701.a
		historical_option = yes

		add_gold = { value = scope:target_country.monthly_income_trade_and_tax multiply = 12 }
	}

	option = {
		name = flavor_pap.1701.b

		trigger = {
			has_variable = indulgences_investigated
		}

		add_stability = stability_ultimate_penalty
		add_government_power = government_power_extreme_bonus
		international_organization:catholic_church = {
			add_policy_to_international_organization = policy:no_financial_indulgences
		}
		religion:catholic = {
			remove_religion_modifier = limited_indulgences_religion
			remove_religion_modifier = unlimited_sale_indulgences_religion
			add_religion_modifier = no_financial_indulgences_religion
		}
		remove_variable = indulgences_investigated
		trigger_event_silently = {
			id = flavor_pap.1704
			months = 6
		}
	}
}

flavor_pap.1702 = { #Wittenberg Owner receives Johann Tetzel
	hide_portraits = yes
	type = country_event
	title = flavor_pap.1701.title
	desc = flavor_pap.1702.desc

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		character:johann_tetzel_script = {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_pap.1702.a

		scope:target_character = {
			add_character_modifier = {
				modifier = refuses_to_serve_in_cabinet
				years = -1
				mode = add_and_extend
			}
		}
	}
}

flavor_pap.1703 = { #Investigation of the Indulgences
	type = country_event
	title = flavor_pap.1703.title
	desc = flavor_pap.1703.desc

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}

	option = {
		name = flavor_pap.1703.a
		historical_option = yes

		international_organization:catholic_church = {
			add_policy_to_international_organization = policy:unlimited_indulgences
		}
	}

	option = {
		name = flavor_pap.1703.b

		set_variable = indulgences_investigated

		add_stability = stability_severe_penalty
		add_government_power = government_power_mild_bonus
	}
}

flavor_pap.1704 = { #The Trial of Johann Tetzel
	type = country_event
	title = flavor_pap.1704.title
	desc = flavor_pap.1704.desc

	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		character:johann_tetzel_script = {
			save_scope_as = target_character
			move_country = root
		}
	}

	option = {
		name = flavor_pap.1704.a

		kill_character = {
			target = scope:target_character
			reason = execution
			killer = ruler
		}
	}

	option = {
		name = flavor_pap.1704.b

		add_stability = stability_mild_bonus
		add_government_power = government_power_severe_penalty
	}

	option = {
		name = flavor_pap.1704.c

		scope:target_character = {
			remove_trait = trait:unsuited_for_naval_command
			remove_trait = trait:unsuited_for_army_command
			remove_character_modifier = refuses_to_serve_in_cabinet
		}
	}
}

flavor_pap.1800 = { #The Ottomans and the Crown of Rome
	hide_portraits = yes
	type = country_event
	title = flavor_pap.1800.title
	desc = flavor_pap.1800.desc

	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = PAP
		from = 1337.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	historical_info = flavor_pap.1800.historical_info

	trigger = {
		country_exists = c:TUR
		c:TUR = {
			owns = location:constantinople
			has_ruler = yes
			NOT = {
				religion = religion:catholic
			}
		}
		exists = international_organization:hre
		exists = international_organization:hre.leader_country
		NOT = {
			country_exists = c:BYZ
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		root.ruler = { save_scope_as = ruler }
		c:TUR = {
			ruler = {
				save_scope_as = ottoman_ruler
			}
		}
		international_organization:hre.leader_country = {
			save_scope_as = target_emperor
		}
	}

	option = {
		name = flavor_pap.1800.a
		ai_chance = { factor = 99 }
		historical_option = yes
		add_prestige = prestige_mild_bonus
	}

	option = {
		name = flavor_pap.1800.b
		ai_chance = { factor = 1 }
		add_devotion = devotion_severe_penalty
		scope:target_emperor = {
			add_opinion = { target = root modifier = opinion_pap_compromising_legitimacy  }
		}
		c:TUR ?= {
			trigger_event_non_silently = flavor_pap.1801
		}
	}
}

flavor_pap.1801 = { #The Ottomans and the Crown of Rome - Ottoman event
	hide_portraits = yes
	type = country_event
	title = flavor_pap.1801.title
	desc = flavor_pap.1801.desc

	fire_only_once = yes

	historical_info = flavor_pap.1800.historical_info

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		c:PAP = {
			ruler = {
				save_scope_as = pope_ruler
			}
		}
	}

	option = {
		name = flavor_pap.1801.a
		ai_chance = { factor = 99 }
		historical_option = yes
		add_prestige = prestige_mild_bonus
		c:PAP ?= {
			trigger_event_non_silently = flavor_pap.1802
		}
	}

	option = {
		name = flavor_pap.1801.b
		ai_chance = { factor = 1 }
		add_prestige = prestige_extreme_penalty
		add_stability = stability_extreme_penalty
		change_religion = religion:catholic
		change_religion_for_ruler_and_family = { country = ROOT religion = religion:catholic }
		custom_tooltip = {
			text = suffer_100_opinion_with_every_muslim_in_range_tt
			every_known_country = {
				limit = {
					within_diplomatic_range = root
					religion.group = religion_group:muslim
				}
				add_opinion = {
					modifier = opinion_tur_betrayed_the_true_faith
					target = root
				}
			}
		}
		custom_tooltip = {
			text = gain_50_opinion_with_every_christian_in_range_tt
			every_known_country = {
				limit = {
					within_diplomatic_range = root
					religion.group = religion_group:christian
				}
				add_opinion = {
					modifier = opinion_tur_embraced_the_true_faith
					target = root
				}
			}
		}
		c:PAP ?= {
			trigger_event_non_silently = flavor_pap.1803
		}
	}
}

flavor_pap.1802 = { #Ottomans Reject the Conversion
	type = country_event
	title = flavor_pap.1802.title
	desc = flavor_pap.1802.desc

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	
	option = {
		name = flavor_pap.1802.a
		add_prestige = prestige_severe_penalty
	}
}

flavor_pap.1803 = { #Ottomans Accept the Conversion
	type = country_event
	title = flavor_pap.1803.title
	desc = flavor_pap.1803.desc

	illustration_tags = {
        10 = happy
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
	}
	
	option = {
		name = flavor_pap.1803.a
		add_devotion = devotion_severe_bonus
		show_as_tooltip = {
			c:TUR = {
				add_prestige = prestige_extreme_penalty
				add_stability = stability_extreme_penalty
				change_religion = religion:catholic
				change_religion_for_ruler_and_family = { country = c:TUR religion = religion:catholic }
				custom_tooltip = {
					text = suffer_100_opinion_with_every_muslim_in_range_tt
					every_known_country = {
						limit = {
							within_diplomatic_range = root
							religion.group = religion_group:muslim
						}
						add_opinion = {
							modifier = opinion_tur_betrayed_the_true_faith
							target = root
						}
					}
				}
				custom_tooltip = {
					text = gain_50_opinion_with_every_christian_in_range_tt
					every_known_country = {
						limit = {
							within_diplomatic_range = root
							religion.group = religion_group:christian
						}
						add_opinion = {
							modifier = opinion_tur_embraced_the_true_faith
							target = root
						}
					}
				}
			}
		}
	}
}

#when you own rome and PAP doesn't exist. Give it back, you godless fuckers
flavor_pap.9000 = {
	type = country_event
	title = flavor_pap.9000.title
	desc = flavor_pap.9000.desc

	trigger = {
		exists = international_organization:catholic_church
		location:rome = {
			owner ?= root
		}
		religion = religion:catholic
		NOT = { tag = ITA }
		NOT = { tag = ROM }
		NOT = { country_exists = c:PAP }
		NOT = { var:no_support ?= yes }
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
	}
	
	on_trigger_fail = {
		random_country = {
			limit = {
				can_give_land_to_pope_trigger = yes
			}
			trigger_event_silently = {
				id = flavor_pap.9001
			}
		}
	}

	option = {
		name = flavor_pap.9000.a # We will never support such a state
		ai_chance = { factor = 25 }
		add_prestige = prestige_mild_penalty
		add_stability = stability_severe_penalty
		custom_tooltip = {
			text = every_catholic_hates_us_tt
			every_country = {
				limit = {
					religion = religion:catholic
					NOT = { this = ROOT }
				}
				add_opinion = {
					target = ROOT
					modifier = opinion_declined_independent_state_support
				}
			}
		}
		set_variable = {
			name = no_support
			value = yes
		}
		random_country = {
			limit = {
				is_human = no
				can_give_land_to_pope_trigger = yes
			}
			trigger_event_silently = {
				id = flavor_pap.9001
			}
		}
	}
	option = {
		name = flavor_pap.9000.b # Rome is rightfully theirs
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				location:rome = {
					integration_level = core
				}
			}
		}
		reinstate_the_pope = {
			target_province = location:rome
		}
		add_prestige = prestige_extreme_bonus
		international_organization:catholic_church = {
			set_leader_country = c:PAP
		}
	}
}

#they didn't give it back. PAP is on the loose and wants your land
flavor_pap.9001 = {
	type = country_event
	title = flavor_pap.9001.title
	desc = flavor_pap.9001.desc

	trigger = {
		exists = international_organization:catholic_church
		NOT = { country_exists = c:PAP }
		NOT = { country_exists = c:ITA }
		can_give_land_to_pope_trigger = yes
		location:rome = {
			owner ?= {
				OR = {
					NOT = { religion = religion:catholic }
					var:no_support ?= yes
				}
			}
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		hidden_effect = {
			random_owned_location = {
				limit = {
					is_capital = no
					dominant_religion = religion:catholic
					continent = continent:europe
					any_neighbor_location = {
						NOT = {
							owner ?= root
						}
					}
				}
				save_scope_as = papal_province
			}
		}
	}

	option = {
		name = flavor_pap.9001.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				NOT = { country_exists = c:PAP }
			}
			reinstate_the_pope = {
				target_province = scope:papal_province
			}
			add_religious_influence = religious_influence_extreme_bonus
			add_prestige = prestige_extreme_bonus
			international_organization:catholic_church = {
				set_leader_country = c:PAP
			}
		}
	}
	option = {
		name = flavor_pap.9001.b
		ai_chance = { factor = 0 }
		set_variable = {
			name = refused_papacy
			value = yes
		}
		add_prestige = prestige_ultimate_penalty
	}
}

flavor_pap.9002 = {
	type = country_event
	title = flavor_pap.9002.title
	desc = flavor_pap.9002.desc

	trigger = {
		exists = international_organization:catholic_church
		country_exists = c:PAP
	}

	illustration_tags = {
        10 = angry
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		location:rome = { save_scope_as = target_location }
	}

	option = {
		name = flavor_pap.9002.a

		ai_will_select = {
			value = 1

			add = {
				value = modifier:tolerance_own
				multiply = 2
			}

			add = {
				value = num_cardinals
			}

			add = {
				value = societal_value:spiritualist_vs_humanist
				multiply = -0.1
			}
		}

		if = {
			limit = { country_exists = c:PAP }
		}
		location:rome = {
			change_location_owner = c:PAP
		}

		custom_tooltip = {
			text = accepted_to_return_rome_tt
			religion:catholic = {
				every_country_in_religion = {
					limit = { this != root }
					add_opinion = {
						target = ROOT
						modifier = returned_rome
					}
				}
			}
		}
		
	}
	option = {
		name = flavor_pap.9002.b

		ai_will_select = {		#AI can have a little bit of opportunism as a treat
			value = 5
		}
		
		custom_tooltip = {
			text = declined_to_return_rome_tt
			religion:catholic = {
				every_country_in_religion = {
					limit = { this != root }
					add_opinion = {
						target = ROOT
						modifier = declined_return_rome
					}
				}
			}
		}
	}
}