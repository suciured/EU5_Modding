namespace = flavor_ven_tur_conflict
flavor_ven_tur_conflict.1000 = {
	hide_portraits = yes
	type = country_event
	title = flavor_ven_tur_conflict.1000.title
	desc = flavor_ven_tur_conflict.1000.desc
	historical_info = flavor_ven_tur_conflict.1000.historical_info
	
	fire_only_once = yes
	dynamic_historical_event = {
		tag = VEN
		from = 1450.1.1
		to = 1551.1.1
		monthly_chance = 5
	}
		
	trigger = {
		#Triggering for any Turk country Rising in the East Mediterranean (not only the Ottomans)
		location:constantinople.owner = {
			culture = culture:turkish_culture
			owns = location:alexandria
			is_subject = no
			NOT = { is_allied_with = { target = ROOT } }
			NOT = {	is_at_war_with = ROOT }
		}
		NOT = {
			has_global_variable = tur_started_alexandria
		}
	}

	illustration_tags = {
        10 = angry
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
		root = {
			save_scope_as = origin_tag
		}
		location:constantinople.owner = {
			save_scope_as = rising_power
		}
	}

	option = {
		name = flavor_ven_tur_conflict.1000.a
		historical_option = yes
		scope:rising_power = { 
			trigger_event_silently = { id = flavor_ven_tur_conflict.1001 }	
		}
	}

	option = {
		name = flavor_ven_tur_conflict.1000.b
		add_prestige = prestige_mild_penalty
	}
}

flavor_ven_tur_conflict.1001 = {
	type = country_event
	title = flavor_ven_tur_conflict.1001.title
	desc = flavor_ven_tur_conflict.1001.desc
	historical_info = flavor_ven_tur_conflict.1001.historical_info

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_ven_tur_conflict.1001.a
		historical_option = yes
		c:VEN = {
			custom_tooltip = VEN_will_get_a_cb
			add_opinion = { target = root modifier = trade_conflict }
			trigger_event_silently = { id = flavor_ven_tur_conflict.1002 }
		}
	}

	option = {
		name = flavor_ven_tur_conflict.1001.b
		location:alexandria = {
			change_location_owner = c:VEN
		}
		c:VEN = {
			add_opinion = { target = root modifier = ceded_alexandria }
			trigger_event_silently = { id = flavor_ven_tur_conflict.1003 }
		}
	}
}

flavor_ven_tur_conflict.1002 = {
	type = country_event
	title = flavor_ven_tur_conflict.1002.title
	desc = flavor_ven_tur_conflict.1002.desc

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_ven_tur_conflict.1002.a
		add_casus_belli =  { 
			type = casus_belli:cb_conquer_province 
			target = location:alexandria.owner 
			province = location:alexandria.province 
		}
	}
}

flavor_ven_tur_conflict.1003 = {
	type = country_event
	title = flavor_ven_tur_conflict.1003.title
	desc = flavor_ven_tur_conflict.1003.desc

	illustration_tags = {
        10 = happy
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:burghers_estate }
	}

	option = {
		name = flavor_ven_tur_conflict.1003.a
		add_prestige = prestige_extreme_bonus
	}
}

flavor_ven_tur_conflict.1100 = {
	hide_portraits = yes
	type = country_event
	title = flavor_ven_tur_conflict.1100.title
	desc = flavor_ven_tur_conflict.1100.desc


	fire_only_once = yes
	dynamic_historical_event = {
		tag = VEN
		from = 1300.1.1
		to = 1500.1.1
		monthly_chance = 10
	}
	

	trigger = {
		country_exists = c:TUR
		area:morea_area = {
			any_location_in_area = {
				owner = c:TUR
			}
		}
	}
	
	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		root = {
			save_scope_as = origin_tag
		}
		c:TUR = { save_scope_as = rising_power }
		scope:rising_power = {
			ordered_owned_location = {
				limit = {
					area = area:morea_area
				}
				order_by = population
				max = 1
				
				save_scope_as = morea_target
			}
		}
	}
	

	option = {
		name = flavor_ven_tur_conflict.1100.a
		historical_option = yes
		scope:rising_power = {
			add_opinion = { target = root modifier = ven_opinion_morean_confrontation }
		}
		add_casus_belli =  { type = casus_belli:cb_conquer_province target = scope:morea_target.owner province = scope:morea_target.province }
		hidden_effect = {
			scope:rising_power = {
				trigger_event_silently = { id = flavor_ven_tur_conflict.1101 }
			}
		}
	}
	
	option = {
		name = flavor_ven_tur_conflict.1100.b
		add_prestige = prestige_mild_penalty
	}
}

flavor_ven_tur_conflict.1101 = {
	type = country_event
	title = flavor_ven_tur_conflict.1101.title
	desc = flavor_ven_tur_conflict.1101.desc
	
	illustration_tags = {
        10 = armed
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = flavor_ven_tur_conflict.1101.a
		add_casus_belli = {	target = scope:origin_tag	type = casus_belli:cb_insulted_us	}
	}
}
