namespace = volcano_events

#Corresponding location - Name of volcano - Important Eruptions - Strength - Link
#klikitat #Mount St. Helens - c.1480, c.1482, c.1800, 1980 - 5 - https://en.wikipedia.org/wiki/Mount_St._Helens
#daha #Kelud - c.1586, 1641, 1826, 1919, 1951, 1966, 1990 - 5 - https://en.wikipedia.org/wiki/Kelud
#tboli #Mount Melibengoy - December 26, 1640 - 5 - https://en.wikipedia.org/wiki/Mount_Melibengoy
#arop #Long Island, PNG - c.1660 - 6 - https://en.wikipedia.org/wiki/Long_Island_(Papua_New_Guinea)
#dompu #Mount Tambora - April 10, 1815 - 7 - https://en.wikipedia.org/wiki/Mount_Tambora
#tezoatega #Cosig?ina - January 20, 1835 - 5 - https://en.wikipedia.org/wiki/Cosig%C3%BCina
#naples #Monte Nuovo (Phlegraean Fields) - 1538 - 3 - https://en.wikipedia.org/wiki/Monte_Nuovo
##naples #Mount Vesuvius - 1631, 1875-1906, 1944 - 5 - https://en.wikipedia.org/wiki/Mount_Vesuvius
#ponta_delgada #?gua de Pau - 1563 - 5 - https://en.wikipedia.org/wiki/%C3%81gua_de_Pau_Massif
##ponta_delgada #Furnas - 1630 - 5 - https://en.wikipedia.org/wiki/Furnas
#cuauhtemallan #Volc?n de Fuego - 1581, 1717, 1737, 1857, 1880, 1932, 1974 - 4 - https://en.wikipedia.org/wiki/Volc%C3%A1n_de_Fuego
#kayabe #Hokkaido Komagatake - 1640, 1856, 1929 - 5 - https://en.wikipedia.org/wiki/Hokkaido_Koma-ga-take
#tidore #Makian - 1646, 1760-1761, 1861 - 4 - https://en.wikipedia.org/wiki/Makian
#quito #Guagua Pichincha - 1660 - 4 - https://en.wikipedia.org/wiki/Guagua_Pichincha
#shiraoi #Mount Usu - 1663, 1769, 1822, 1853 - 5 - https://en.wikipedia.org/wiki/Mount_Usu
#jailolo #Mount Gamkonora - 1673 - 5 - https://en.wikipedia.org/wiki/Mount_Gamkonora
#manado #Tangkoko - 1680 - 5 - https://en.wikipedia.org/w/index.php?title=Tangkoko&action=edit&redlink=1
#futoro #Oshima�Oshima - 1741-1742 - 4 - https://en.wikipedia.org/wiki/Oshima_(Hokkaido)
#aguacana #El Jorullo - 1759-1774 - 4 - https://en.wikipedia.org/wiki/El_Jorullo
#qagaan #Mount Pavlof - 1762 - 4 - https://en.wikipedia.org/wiki/Mount_Pavlof
#izu_islands #Miyake-jima - 1763 - 4 - https://en.wikipedia.org/wiki/Miyake-jima
#ternate #Gamalama - 1775 - 3 - https://en.wikipedia.org/wiki/Gamalama
#ka_u #Kilauea - 1790 - 4 - https://en.wikipedia.org/wiki/Kilauea
#tozlan #San Martin Tuxtla - 1793 - 4 - https://en.wikipedia.org/wiki/San_Martin_Tuxtla
#unimax #Mount Westdahl - 1795 - 4 - https://en.wikipedia.org/wiki/Mount_Westdahl
#bola #Witori - 1800 - 4 - https://en.wikipedia.org/wiki/Pago_(Papua_New_Guinea)
#choquepata_mountains #Tutupaca - 1802 - 4 - https://en.wikipedia.org/wiki/Tutupaca
#youloumain #La Soufri?re - 1812, 1902 - 4 - https://en.wikipedia.org/wiki/La_Soufri%C3%A8re_(volcano)
#tabukan #Mount Awu - 1812, 1856, 1892, 1966 - 4 - https://en.wikipedia.org/wiki/Mount_Awu
#sawangan #Mount Mayon - 1814, 1897 - 4 - https://en.wikipedia.org/wiki/Mayon
#babuyan_islands #Babuyan Claro - 1831 - 4 - https://en.wikipedia.org/wiki/Babuyan_Claro_Volcano
#julah #Mount Agung - 1843, 1963 - 5 - https://en.wikipedia.org/wiki/Mount_Agung
#bayul #Dubbi - 1861 - 3 - https://en.wikipedia.org/wiki/Dubbi_Volcano
#onnekotan #Sinarka - 1872 - 4 - https://en.wikipedia.org/wiki/Sinarka
##onnekotan #Kharimkotan - 1933 - 5 - https://en.wikipedia.org/wiki/Kharimkotan
#kalianda #Krakatoa - 1883 - 6 - https://en.wikipedia.org/wiki/Krakatoa
#swikshak #Augustine - 1883-1884, 1976, 1986 - 4 - https://en.wikipedia.org/wiki/Augustine_Volcano
#yama_jap #Mount Bandai - 1888 - 4 - https://en.wikipedia.org/wiki/Mount_Bandai
#caurakawin #Calbuco - 1893-1894 - 4 - https://en.wikipedia.org/wiki/Calbuco_(volcano)
##caurakawin #Carran-Los Venados - 1955 - 4 - https://en.wikipedia.org/wiki/Carran-Los_Venados
#iguanacaera #Mount Pel?e - 1902 - 4 - https://en.wikipedia.org/wiki/Mount_Pel%C3%A9e
#melamela #Lolobau - 1904, 1911  - 4 - https://en.wikipedia.org/wiki/Lolobau_Island
#amalik #Novarupta - 1912 - 6 - https://en.wikipedia.org/wiki/Novarupta
#kimotsuki #Sakurajima - 1914 - 4 - https://en.wikipedia.org/wiki/Sakurajima
#aruamu #Manam - 1919 - 4 - https://en.wikipedia.org/wiki/Manam_Motu
#sikka #Paluweh - 1928 - 3 - https://en.wikipedia.org/wiki/Paluweh
#gomu #Kuchinoerabu-jima - 1933-1934 - 4 - https://en.wikipedia.org/wiki/Kuchinoerabu-jima
#baining #Rabaul - 1937, 1994 - 4 - https://en.wikipedia.org/wiki/Rabaul_Caldera
#uruapan #Par?cutin - 1943-1952 - 4 - https://en.wikipedia.org/wiki/Par%C3%ADcutin
#shimushiru #Sarychev Peak - 1946 - 4 - https://en.wikipedia.org/wiki/Sarychev_Peak
#pikunwijimapu #Villarrica - 1948 - 3 - https://en.wikipedia.org/wiki/Villarrica_(volcano)
#orokaiva #Mount Lamington - 1951 - 4 - https://en.wikipedia.org/wiki/Mount_Lamington
#hingoog #Hibok-Hibok - 1951 - 3 - https://en.wikipedia.org/wiki/Hibok-Hibok
#isabela_island #Fernandina - 1968 - 4 - https://en.wikipedia.org/wiki/Fernandina_Island
#garabito #Volc?n Arenal - 1968 - 3 - https://en.wikipedia.org/wiki/Arenal_Volcano
#hvolsvollur #Eldfell - 1973 - 3 - https://en.wikipedia.org/wiki/Eldfell
#kunashiri #Tyatya - 1973 - 4 - https://en.wikipedia.org/wiki/Tyatya
#paramushiru #Vulkan Alaid - 1981 - 4 - https://en.wikipedia.org/wiki/Atlasov_Island
##paramushiru #Chikurachki - 1986 - 4 - https://en.wikipedia.org/wiki/Chikurachki
#quechula #El Chich?n - 1982 - 5 - https://en.wikipedia.org/wiki/El_Chich%C3%B3n
#una_una #Mount Colo - 1983 - 4 - https://en.wikipedia.org/wiki/Mount_Colo
#bayambang #Mount Pinatubo - 1991 - 6 - https://en.wikipedia.org/wiki/Mount_Pinatubo
#sasak #Rinjani - 1994 - 3 - https://en.wikipedia.org/wiki/Rinjani
#ariogana #Soufri?re Hills - 1997 - 3 - https://en.wikipedia.org/wiki/Soufri%C3%A8re_Hills
#whakatane #Mount Tarawera - 1886 - 5 - https://en.wikipedia.org/wiki/Mount_Tarawera
#pagan_island #North Pagan - 1981-1985 - 4 - https://en.wikipedia.org/wiki/Pagan_Island
#ambrym #Ambrym - 1950 - 4 - https://en.wikipedia.org/wiki/Ambrym
#niuafo_ou #Niuafo'ou - 1886 - 4 - https://en.wikipedia.org/wiki/Niuafo%27ou
#
##Important Volcanos located in Wastelands
#mount_etna #Mount Etna - 1669, 1787, 1979 - 4 - https://en.wikipedia.org/wiki/Mount_Etna
#mount_stromboli
#ami_mountains #Cotopaxi - 1532, 1534, 1744, 1768, 1877 - 4 - https://en.wikipedia.org/wiki/Cotopaxi
#vattnajokull #Hekla - 1510, 1597, 1693, 1766�1768, 1845, 1947 - 4 - https://en.wikipedia.org/wiki/Hekla
#popocatepetl_mountains #Popocat�petl 1363, 1509, 1512, 1519�1528, 1530, 1539, 1540, 1548, 1562�1570, 1571, 1592, 1642, 1663, 1664, 1665, 1697, 1720, 1802 - 2 - https://en.wikipedia.org/wiki/Popocat%C3%A9petl
#vattnajokull #Hekla - 1510, 1597, 1693, 17661768, 1845, 1947 - 4 - https://en.wikipedia.org/wiki/Hekla
#popocatepetl_mountains #Popocatpetl 1363, 1509, 1512, 15191528, 1530, 1539, 1540, 1548, 15621570, 1571, 1592, 1642, 1663, 1664, 1665, 1697, 1720, 1802 - 2 - https://en.wikipedia.org/wiki/Popocat%C3%A9petl
#vattnajokull #rfajkull - June 5, 1362, 1727-1728 - 6 - https://en.wikipedia.org/wiki/%C3%96r%C3%A6faj%C3%B6kull
#vattnajokull #Brarbunga - c.1477 - 6 - https://en.wikipedia.org/wiki/B%C3%A1r%C3%B0arbunga
#vattnajokull #Katla - 1500, 1550, 1580, 1612, 1625, 16601661, 1721, 1755, 1860, 1918- 5 - https://en.wikipedia.org/wiki/Katla_(volcano)
#rapoisi_jungle #Billy Mitchell - c.1580 - 6 - https://en.wikipedia.org/wiki/Billy_Mitchell_(volcano)
#parwayuni_mountains #Huaynaputina - February 19, 1600 - 6 - https://en.wikipedia.org/wiki/Huaynaputina
#mount_fuji #Mount Fuji - December 16, 1707 - 5 - https://en.wikipedia.org/wiki/Mount_Fuji
#javanese_mountains1 #Mount Galunggung - October 8, 1822, 1982 - 5 - https://en.wikipedia.org/wiki/Galunggung
#javanese_mountains3 #Semeru - 2021 - 4 - https://en.wikipedia.org/wiki/Semeru
#colima_mountains #Volc?n de Colima - 1585, 1606, 1622, 1818, 1889, 1913 - 4 - https://en.wikipedia.org/wiki/Volc%C3%A1n_de_Colima
#javanese_mountains3 #Raung - 1593, 1638, 1817 - 5 - https://en.wikipedia.org/wiki/Raung
#central_mountain_range #Nevado del Ruiz - 1595, 1845, 1985 - 4 - https://en.wikipedia.org/wiki/Nevado_del_Ruiz
#lake_taal #Taal - 1716, 1749, 1754, 1911, 1965 - 5 - https://en.wikipedia.org/wiki/Taal_Volcano
#central_mountain_range #Cerro Bravo - 1720 - 4 - https://en.wikipedia.org/wiki/Cerro_Bravo
#javanese_mountains1 #Mount Papandayan - 1772 - 3 - https://en.wikipedia.org/wiki/Mount_Papandayan
#vattnajokull #Laki - 1783�1784 - 4 - https://en.wikipedia.org/wiki/Laki
#javanese_mountains2 #Mount Merapi - 1872, 1930-1931 - 4 - https://en.wikipedia.org/wiki/Mount_Merapi
#vattnajokull #Gr?msv?tn - 1873 - 4 - https://en.wikipedia.org/wiki/Gr%C3%ADmsv%C3%B6tn
#vattnajokull #Askja - 1875 - 5 - https://en.wikipedia.org/wiki/Askja
#sangay_volcano #Tungurahua - 1886, 1916 - 4 - https://en.wikipedia.org/wiki/Tungurahua
#chiapas_mountains #Santa Mar?a - 1902 - 6 - https://en.wikipedia.org/wiki/Santa_Mar%C3%ADa_(volcano)
#vattnajokull #??r?arhyrna - 1903 - 4 - https://en.wikipedia.org/wiki/%C3%9E%C3%B3r%C3%B0arhyrna
#chumawi_range #Lassen Peak - 1915 - 3 - https://en.wikipedia.org/wiki/Lassen_Peak
#chignik #Mount Aniakchak - 1931 - 4 - https://en.wikipedia.org/wiki/Mount_Aniakchak
#huemui_mountains #Cerro Azul - 1932 - 5 - https://en.wikipedia.org/wiki/Cerro_Azul_(Chile_volcano)#Major_eruption,_1932
#dena_ina_uplands #Mount Spurr - 1953, 1992 - 4 - https://en.wikipedia.org/wiki/Mount_Spurr
#asama_mountains #Mount Asama - 1783 - 4 - https://en.wikipedia.org/wiki/Mount_Asama
#pimempiro_mountains #Do?a Juana - 1899 - 4 - https://en.wikipedia.org/wiki/Do%C3%B1a_Juana
#dena_ina_uplands #Mount Redoubt - 1989-1990 - 3 - https://en.wikipedia.org/wiki/Mount_Redoubt
#aucanquilcha_volcano #L?scar - 1993 - 4 - https://en.wikipedia.org/wiki/Lascar_(volcano)
#san_rafael_forest #Mount Hudson - 1971, 1991 - 5 - https://en.wikipedia.org/wiki/Mount_Hudson
#kamchatka_uplands2 #Bezymianny - 1955�1957, 2022- 3 - https://en.wikipedia.org/wiki/Bezymianny
#kamchatka_uplands1 #Shiveluch - 1652, 1854, 1964 - 5 - https://en.wikipedia.org/wiki/Shiveluch
#kamchatka_uplands2 #Avachinsky - 1827, 1926, 1945 - 4 - https://en.wikipedia.org/wiki/Avachinsky
#kamchatka_uplands2 #Klyuchevskaya Sopka - 1829, 1931, 1987 - 4 - https://en.wikipedia.org/wiki/Klyuchevskaya_Sopka
#kamchatka_uplands3 #Ksudach - 1907 - 5 - https://en.wikipedia.org/wiki/Ksudach
#rapoisi_jungle #Bagana - 1952 - 4 - https://en.wikipedia.org/wiki/Bagana
#kamchatka_uplands2 #Tolbachik - 1975 - 4 - https://en.wikipedia.org/wiki/Tolbachik

scripted_effect weak_volcano_damage_cost = {
	owner = {
		change_gold_effect = { scale = -2 }
	}
}

scripted_effect minor_volcano_damage_cost = {
	owner = {
		change_gold_effect = { scale = -4 }
	}
}

scripted_effect major_volcano_damage_cost = {
	owner = {
		change_gold_effect = { scale = -6 }
	}	
}

scripted_effect catastrophic_volcano_damage_cost = {
	owner = {
		change_gold_effect = { scale = -10 }
	}
}

scripted_effect weak_volcano_damage_with_rebuild = {
	weak_volcano_damage = yes
	add_location_modifier = {
		modifier = minor_recovery_effort
		years = 10
		mode = add_and_extend
	}
}

scripted_effect minor_volcano_damage_with_rebuild = {
	minor_volcano_damage = yes
	add_location_modifier = {
		modifier = minor_recovery_effort
		years = 10
		mode = add_and_extend
	}
}

scripted_effect major_volcano_damage_with_rebuild = {
	major_volcano_damage = yes
	add_location_modifier = {
		modifier = major_recovery_effort
		years = 10
		mode = add_and_extend
	}
}

scripted_effect catastrophic_volcano_damage_with_rebuild = {
	catastrophic_volcano_damage = yes
	add_location_modifier = {
		modifier = major_recovery_effort
		years = 10
		mode = add_and_extend
	}
}

scripted_effect weak_volcano_damage = {
	change_development = development_weak_penalty
	change_prosperity = prosperity_severe_penalty
	every_pop = {
		add_pop_size = {
			value = pop_size
			multiply = -0.1
		}
	}
	change_max_raw_material_workers = -1
	add_location_modifier = {
		modifier = volcanic_soil
		years = 20
		mode = add_and_extend
	}
	every_unit_in_location = {
		damage_unit_percent = { 0 0.33 }
		damage_unit_morale_percent = { 0.2 0.5 }
	}
}

scripted_effect minor_volcano_damage = {
	change_development = development_mild_penalty
	change_prosperity = prosperity_extreme_penalty
	every_pop = {
		add_pop_size = {
			value = pop_size
			multiply = -0.2
		}
	}
	change_max_raw_material_workers = -2
	add_location_modifier = {
		modifier = volcanic_soil
		years = 50
		mode = add_and_extend
	}
	ordered_buildings_in_location = {
		order_by = building_level
		max = 1
		location = { minor_destroy_building_levels_in_location = yes }
	}
	
	every_unit_in_location = {
		damage_unit_percent = { 0.33 1 }
		damage_unit_morale_percent = { 0.5 1 }
	}
}

scripted_effect major_volcano_damage = {
	change_development = development_severe_penalty
	change_prosperity = prosperity_ultimate_penalty
	every_pop = {
		add_pop_size = {
			value = pop_size
			multiply = -0.3
		}
	}
	change_max_raw_material_workers = -3
	add_location_modifier = {
		modifier = volcanic_soil
		years = 70
		mode = add_and_extend
	}
	ordered_buildings_in_location = {
		order_by = building_level
		max = {
			value = 1
			add = {
				value = location.num_buildings
				divide = 8
			}
		}
		location = { major_destroy_building_levels_in_location = yes }
	}
	
	every_unit_in_location = {
		damage_unit_percent = { 0.5 1 }
		damage_unit_morale_percent = { 0.75 1 }
	}
}

scripted_effect catastrophic_volcano_damage = {
	change_development = development_extreme_penalty
	change_prosperity = prosperity_radical_penalty
	every_pop = {
		add_pop_size = {
			value = pop_size
			multiply = -0.5
		}
	}
	change_max_raw_material_workers = -5
	add_location_modifier = {
		modifier = volcanic_soil
		years = 100
		mode = add_and_extend
	}
	ordered_buildings_in_location = {
		order_by = building_level
		max = {
			value = 1
			add = {
				value = num_buildings
				divide = 6
			}
		}
		location = { catastrophic_destroy_building_levels_in_location = yes }
	}
	
	every_unit_in_location = {
		destroy_unit = yes
	}
}

volcano_events.1 = { #The respective image is showing according to the grade.
	type = location_event
	title = volcano_events_weak.title
	desc = volcano_events_weak.desc
	fire_only_once = yes

	trigger = {
		has_owner = yes
	}

	immediate = {
		set_variable = { name = volcano_erupted_minor value = yes days = {20 300} }
		add_vfx = {
			name = volcano_eruption_test
			duration = 0
		}
	}
	
	option = {
		name = volcano_events_weak.a
		weak_volcano_damage	 = yes
	}

	option = {
		name = volcano_events_weak.b
		weak_volcano_damage_cost = yes
		weak_volcano_damage_with_rebuild = yes
	}
}

volcano_events.2 = { #The respective image is showing according to the grade.
	type = location_event
	title = volcano_events_minor.title
	desc = volcano_events_minor.desc
	fire_only_once = yes

	trigger = {
		has_owner = yes
	}

	immediate = {
		set_variable = { name = volcano_erupted_minor value = yes days = {20 300} }
		add_vfx = {
			name = volcano_eruption_test
			duration = 0
		}
	}

	option = {
		name = volcano_events_minor.a
		minor_volcano_damage = yes
	}

	option = {
		name = volcano_events_minor.b
		minor_volcano_damage_cost = yes
		minor_volcano_damage_with_rebuild = yes
	}
}

volcano_events.3 = { #The respective image is showing according to the grade.
	type = location_event
	title = volcano_events_major.title
	desc = volcano_events_major.desc
	fire_only_once = yes

	trigger = {
		has_owner = yes
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
		set_variable = { name = volcano_erupted_major value = yes days = {20 60} }
		set_variable = { name = volcano_erupted_minor value = yes days = {20 300} }
		add_vfx = {
			name = volcano_eruption_test
			duration = 0
		}
	}

	option = {
		name = volcano_events_major.a
		major_volcano_damage = yes
	}

	option = {
		name = volcano_events_major.b
		major_volcano_damage_cost = yes
		major_volcano_damage_with_rebuild = yes
	}
}

volcano_events.4 = { #The respective image is showing according to the grade.
	type = location_event
	title = volcano_events_catastrophic.title
	desc = volcano_events_catastrophic.desc
	fire_only_once = yes

	trigger = {
		has_owner = yes
	}

	immediate = {
		set_variable = { name = volcano_erupted_major value = yes days = {20 60} }
		set_variable = { name = volcano_erupted_minor value = yes days = {20 300} }
		add_vfx = {
			name = volcano_eruption_test
			duration = 0
		}	
	}

	option = {
		name = volcano_events_catastrophic.a
		catastrophic_volcano_damage = yes
	}

	option = {
		name = volcano_events_catastrophic.b
		catastrophic_volcano_damage_cost = yes
		catastrophic_volcano_damage_with_rebuild = yes
	}
}