namespace = industrialization_events

industrialization_events.1 = { #The Atmospheric Engine
	type = country_event
	title = industrialization_events.1.title
	desc = industrialization_events.1.desc

	trigger = {
		knows_about_institution = institution:industrialization
		NOT = { has_embraced_institution = institution:industrialization }
		NOT = {
			has_variable = atmospheric_engine_flag
		}
		capital ?= {
			area = {
				any_location_in_area = {
					owner ?= root
					integration_level = core
					OR = {
						raw_material ?= goods:iron
						raw_material ?= goods:coal
						raw_material ?= goods:copper
					}
				}
			}
		}
		any_artist = {
			artist_type = scientist
			artist_skill > 0.5
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		set_variable = atmospheric_engine_flag
		capital ?= {
			area = {
				random_location_in_area = {
					limit = {
						owner ?= root
						integration_level = core
						OR = {
							raw_material ?= goods:iron
							raw_material ?= goods:coal
							raw_material ?= goods:copper
						}
					}
					save_scope_as = invention_province
				}
			}
		}
		random_artist = {
			limit = {
				artist_type = scientist
				artist_skill > 0.5
			}
			save_scope_as = target_scientist
		}
	}

	option = {
		name = industrialization_events.1.a
		scope:invention_province = {
			change_development = development_weak_bonus
			add_location_modifier = { modifier = introduction_of_newcommen_engine years = 10 mode = add_and_extend }  
			if = {
				limit = {
					institution_progress:industrialization < 99
				}
				change_institution_progress = { type = institution:industrialization value = institution_progress_mild_bonus }
			}
		}
	}
}

industrialization_events.2 = { #Steam Powered Blast
	type = country_event
	title = industrialization_events.2.title
	desc = industrialization_events.2.desc

	trigger = {
		has_advance = coke_blast_furnace
		NOT = { has_advance = hot_blast_furnace }
		has_embraced_institution = institution:industrialization
		has_variable = atmospheric_engine_flag
		capital ?= {
			area = {
				any_location_in_area = {
					owner ?= root
					integration_level = core
					OR = {
						raw_material ?= goods:iron
						raw_material ?= goods:coal
						raw_material ?= goods:copper
					}
					NOT = {
						has_location_modifier = introduction_of_steam_power_blast
					}
				}
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		capital ?= {
			area = {
				random_location_in_area = {
					limit = {
						owner ?= root
						integration_level = core
						OR = {
							raw_material ?= goods:iron
							raw_material ?= goods:coal
							raw_material ?= goods:copper
						}
						NOT = {
							has_location_modifier = introduction_of_steam_power_blast
						}
					}
					save_scope_as = invention_province
				}
			}
		}
	}

	option = {
		name = industrialization_events.2.a
		if = {
			limit = {
				owns = location:shrewsbury
				OR = {
					tag = ENG
					tag = GBR
				}
				location:shrewsbury != scope:invention_province
			}
			location:shrewsbury = {
				change_development = development_weak_bonus
				add_location_modifier = { modifier = introduction_of_steam_power_blast years = 10 mode = add_and_extend }  
			}
		}
		scope:invention_province = {
			change_development = development_weak_bonus
			add_location_modifier = { modifier = introduction_of_steam_power_blast years = 10 mode = add_and_extend }  
		}
		add_research_progress = research_progress_mild_bonus
	}
}

industrialization_events.3 = { #Improved Steam Engine
	type = country_event
	title = industrialization_events.3.title
	desc = industrialization_events.3.desc

	trigger = {
		has_variable = atmospheric_engine_flag
		knows_about_institution = institution:industrialization
		NOT = { has_embraced_institution = institution:industrialization }
		NOT = {
			has_variable = watt_steam_engine_flag
		}
		capital ?= {
			area = {
				any_location_in_area = {
					owner ?= root
					integration_level = core
					OR = {
						raw_material ?= goods:iron
						raw_material ?= goods:coal
						raw_material ?= goods:copper
					}
				}
			}
		}
		any_artist = {
			artist_type = scientist
			artist_skill > 0.5
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		set_variable = watt_steam_engine_flag
		capital ?= {
			area = {
				random_location_in_area = {
					limit = {
						owner ?= root
						integration_level = core
						OR = {
							raw_material ?= goods:iron
							raw_material ?= goods:coal
							raw_material ?= goods:copper
						}
					}
					save_scope_as = invention_province
				}
			}
		}
		random_artist = {
			limit = {
				artist_type = scientist
				artist_skill > 0.5
			}
			save_scope_as = target_scientist
		}
	}

	option = {
		name = industrialization_events.3.a
		scope:invention_province = {
			change_development = development_weak_bonus
			add_location_modifier = { modifier = introduction_of_watt_engine years = 10 mode = add_and_extend }  
			if = {
				limit = {
					institution_progress:industrialization < 99
				}
				change_institution_progress = { type = institution:industrialization value = institution_progress_mild_bonus }
			}
		}
	}
}

industrialization_events.4 = { #Self-Sharpening Plows
	type = country_event
	title = industrialization_events.4.title
	desc = industrialization_events.4.desc

	trigger = {
		has_advance = rotherham_plough
		capital ?= {
			area = {
				any_location_in_area = {
					owner ?= root
					integration_level = core
					OR = {
						raw_material ?= goods:wheat
						raw_material ?= goods:livestock
					}
					NOT = {
						has_location_modifier = introduction_of_self_sharpening_plows
					}
				}
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/manufactories.dds"

	immediate = {
		capital ?= {
			area = {
				random_location_in_area = {
					limit = {
						owner ?= root
						integration_level = core
						OR = {
							raw_material ?= goods:wheat
							raw_material ?= goods:livestock
						}
						NOT = {
							has_location_modifier = introduction_of_self_sharpening_plows
						}
					}
					save_scope_as = invention_province
				}
			}
		}
	}

	option = {
		name = industrialization_events.4.a
		scope:invention_province = {
			change_development = development_weak_bonus
			add_location_modifier = { modifier = introduction_of_self_sharpening_plows years = 10 mode = add_and_extend }  
		}
		add_research_progress = research_progress_mild_bonus
	}
}

industrialization_events.5 = { #The Flying Shuttle
	type = country_event
	title = industrialization_events.5.title
	desc = industrialization_events.5.desc

	trigger = {
		knows_about_institution = institution:industrialization
		NOT = { has_embraced_institution = institution:industrialization }
		NOT = {
			has_variable = flying_shuttle_flag
		}
		capital ?= {
			area = {
				any_location_in_area = {
					owner ?= root
					integration_level = core
					OR = {
						raw_material ?= goods:wool
						raw_material ?= goods:cotton
						raw_material ?= goods:silk
					}
				}
			}
		}
		any_artist = {
			artist_type = scientist
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		set_variable = { name = flying_shuttle_flag value = 1 }
		capital ?= {
			area = {
				random_location_in_area = {
					limit = {
						owner ?= root
						integration_level = core
						OR = {
							raw_material ?= goods:wool
							raw_material ?= goods:cotton
							raw_material ?= goods:silk
						}
					}
					save_scope_as = invention_province
				}
			}
		}
		random_artist = {
			limit = {
				artist_type = scientist
			}
			save_scope_as = target_scientist
		}
	}

	option = {
		name = industrialization_events.5.a
		scope:invention_province = {
			change_development = development_weak_bonus
			add_location_modifier = { modifier = introduction_of_flying_shuttle years = 10 mode = add_and_extend }  
			if = {
				limit = {
					institution_progress:industrialization < 99
				}
				change_institution_progress = { type = institution:industrialization value = institution_progress_mild_bonus }
			}
		}
	}
}

industrialization_events.6 = { #Spinning Jenny
	type = country_event
	title = industrialization_events.6.title
	desc = industrialization_events.6.desc

	trigger = {
		has_variable = flying_shuttle_flag
		NOT = {
			has_variable = spinning_jenny_flag
		}
		capital ?= {
			area = {
				any_location_in_area = {
					owner ?= root
					integration_level = core
					OR = {
						raw_material ?= goods:wool
						raw_material ?= goods:cotton
						raw_material ?= goods:silk
					}
				}
			}
		}
		any_artist = {
			artist_type = scientist
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		set_variable = spinning_jenny_flag
		capital ?= {
			area = {
				random_location_in_area = {
					limit = {
						owner ?= root
						integration_level = core
						OR = {
							raw_material ?= goods:wool
							raw_material ?= goods:cotton
							raw_material ?= goods:silk
						}
					}
					save_scope_as = invention_province
				}
			}
		}
		random_artist = {
			limit = {
				artist_type = scientist
			}
			save_scope_as = target_scientist
		}
	}

	option = {
		name = industrialization_events.6.a
		scope:invention_province = {
			change_development = development_weak_bonus
			add_location_modifier = { modifier = introduction_of_spinning_jenny years = 10 mode = add_and_extend }  
			if = {
				limit = {
					institution_progress:industrialization < 99
				}
				change_institution_progress = { type = institution:industrialization value = institution_progress_mild_bonus }
			}
		}
	}
}

industrialization_events.7 = { #The Flow of Goods
	type = country_event
	title = industrialization_events.7.title
	desc = industrialization_events.7.desc

	trigger = {
		has_embraced_institution = institution:industrialization
		OR = {
			has_variable = flying_shuttle_flag
			has_variable = atmospheric_engine_flag
			has_advance = rotherham_plough
		}
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					OR = {
						AND = {
							root = { has_variable = flying_shuttle_flag }
							OR = {
								raw_material ?= goods:wool
								raw_material ?= goods:cotton
								raw_material ?= goods:silk
							}
						}
						AND = {
							root = { has_variable = atmospheric_engine_flag }
							OR = {
								raw_material ?= goods:iron
								raw_material ?= goods:coal
								raw_material ?= goods:copper
							}
						}
						AND = {
							root = { has_advance = rotherham_plough }
							OR = {
								raw_material ?= goods:wheat
								raw_material ?= goods:livestock
							}
						}
					}
				}
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						NOT = { has_location_modifier = improved_flow_of_goods }
						OR = {
							AND = {
								root = { has_variable = flying_shuttle_flag }
								OR = {
									raw_material ?= goods:wool
									raw_material ?= goods:cotton
									raw_material ?= goods:silk
								}
							}
							AND = {
								root = { has_variable = atmospheric_engine_flag }
								OR = {
									raw_material ?= goods:iron
									raw_material ?= goods:coal
									raw_material ?= goods:copper
								}
							}
							AND = {
								root = { has_advance = rotherham_plough }
								OR = {
									raw_material ?= goods:wheat
									raw_material ?= goods:livestock
								}
							}
						}
					}
					save_scope_as = industrial_province
					area = {
						save_scope_as = target_area
					}
				}
			}
		}
	}

	option = {
		name = industrialization_events.7.a
		change_gold_effect = { scale = -4.20 }
		scope:industrial_province = {
			change_development = development_mild_bonus
			custom_tooltip = {
				text = industrialization_events.7.a.tt
				area = {
					every_location_in_area = {
						limit = { owner ?= root }
						add_location_modifier = { modifier = improved_flow_of_goods years = 20 mode = add_and_extend }  
					}
				}
			}
		}
	}
	option = {
		name = industrialization_events.7.b
		scope:industrial_province = {
			change_development  = development_weak_bonus
			custom_tooltip = {
				text = industrialization_events.7.b.tt
				area = {
					every_location_in_area = {
						limit = { owner ?= root }
						add_location_modifier = { modifier = improved_flow_of_goods years = 10 mode = add_and_extend }  
					}
				}
			}
		}
	}
}

industrialization_events.8 = { #The Seeds of Greatness
	type = country_event
	title = industrialization_events.8.title
	desc = industrialization_events.8.desc

	trigger = {
		has_embraced_institution = institution:industrialization
		capital ?= {
			region = {
				any_location_in_region = {
					NOT = { has_location_modifier = agricultural_revolution }
					owner ?= root
					integration_level = core
					prosperity > 0
					OR = {
						raw_material ?= goods:wheat
						raw_material ?= goods:livestock
					}
				}
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						NOT = { has_location_modifier = agricultural_revolution }
						owner ?= root
						integration_level = core
						prosperity > 0
						OR = {
							raw_material ?= goods:wheat
							raw_material ?= goods:livestock
						}
					}
					save_scope_as = agricultural_province
					area = { save_scope_as = target_area }
				}
			}
		}
	}

	option = {
		name = industrialization_events.8.a
		scope:agricultural_province = {
			change_development = development_mild_bonus
			custom_tooltip = {
				text = industrialization_events.8.a.tt
				area = {
					every_location_in_area = {
						limit = { owner ?= root }
						add_location_modifier = { modifier = agricultural_revolution years = 10 mode = add_and_extend }  
					}
				}
			}
		}
	}
}

industrialization_events.9 = { #Economic Development
	type = country_event
	title = industrialization_events.9.title
	desc = industrialization_events.9.desc

	trigger = {
		has_embraced_institution = institution:industrialization
		OR = {
			has_variable = flying_shuttle_flag
			has_variable = atmospheric_engine_flag
			has_advance = rotherham_plough
		}
		num_provinces > 1
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					NOT = { has_location_modifier = economic_urbanization_modifier }
					OR = {
						AND = {
							root = { has_variable = flying_shuttle_flag }
							OR = {
								raw_material ?= goods:wool
								raw_material ?= goods:cotton
								raw_material ?= goods:silk
							}
						}
						AND = {
							root = { has_variable = atmospheric_engine_flag }
							OR = {
								raw_material ?= goods:iron
								raw_material ?= goods:coal
								raw_material ?= goods:copper
							}
						}
						AND = {
							root = { has_advance = rotherham_plough }
							OR = {
								raw_material ?= goods:wheat
								raw_material ?= goods:livestock
							}
						}
					}
				}
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/manufactories.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						NOT = { has_location_modifier = economic_urbanization_modifier }
						OR = {
							AND = {
								root = { has_variable = flying_shuttle_flag }
								OR = {
									raw_material ?= goods:wool
									raw_material ?= goods:cotton
									raw_material ?= goods:silk
								}
							}
							AND = {
								root = { has_variable = atmospheric_engine_flag }
								OR = {
									raw_material ?= goods:iron
									raw_material ?= goods:coal
									raw_material ?= goods:copper
								}
							}
							AND = {
								root = { has_advance = rotherham_plough }
								OR = {
									raw_material ?= goods:wheat
									raw_material ?= goods:livestock
								}
							}
						}
					}
					save_scope_as = industrialization_province
					area = { save_scope_as = target_area }
				}
			}
		}
		random_province = {
			limit = {
				this != scope:industrialization_province.province
			}
			save_scope_as = target_rural_province
		}
	}

	option = {
		name = industrialization_events.9.a
		scope:industrialization_province = {
			change_development = development_mild_bonus
			custom_tooltip = {
				text = industrialization_events.9.a.tt
				area = {
					every_location_in_area = {
						limit = { owner ?= root }
						add_location_modifier = { modifier = economic_urbanization_modifier years = 10 mode = add_and_extend }  
					}
				}
			}
		}
		add_migration = {
			owner = root
			from = scope:target_rural_province.province_definition
			to = scope:industrialization_province.province_definition
			amount = 0.010
			months = 24
		}
	}

	option = {
		name = industrialization_events.9.b
		add_stability = stability_mild_bonus
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_minor_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_minor_move_to_left }
	}
}

industrialization_events.10 = { #Growth of the Textile Industry in [target_location.GetNameWithNoTooltip]
	type = country_event
	title = industrialization_events.10.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:target_location ?= { location_rank = location_rank:rural_settlement}
				}
				desc = industrialization_events.10.rural.desc
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = industrialization_events.10.desc
			}
		}
	}

	trigger = {		
		has_advance = textile_mill_advance
		has_advance = fine_cloth_mill_advance
		OR = {
			has_variable = flying_shuttle_flag
			has_variable = spinning_jenny_flag
		}
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					OR = {
						raw_material ?= goods:wool
						raw_material ?= goods:cotton
					}
					NOT = { has_building_with_at_least_one_level = fine_cloth_mill }
					NOT = { has_building_with_at_least_one_level = textile_mill }
					OR = {
						NOT = { location_rank = location_rank:rural_settlement }
						NOT = { has_building_with_at_least_one_level = rural_clothmaker }
						any_buildings_in_location = {
							building_type = building_type:rural_clothmaker
							is_at_max_level = no
						}
					}
				}
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						OR = {
							raw_material ?= goods:wool
							raw_material ?= goods:cotton
						}
						NOT = { has_building_with_at_least_one_level = fine_cloth_mill }
						NOT = { has_building_with_at_least_one_level = textile_mill }
						OR = {
							NOT = { location_rank = location_rank:rural_settlement }
							NOT = { has_building_with_at_least_one_level = rural_clothmaker }
							any_buildings_in_location = {
								building_type = building_type:rural_clothmaker
								is_at_max_level = no
							}
						}
					}
					save_scope_as = target_location
				}
			}
		}
	}

	option = {
		name = industrialization_events.10.a
		scope:target_location = {
			change_development = development_weak_bonus
			if = {
				limit = {
					location_rank = location_rank:rural_settlement
				}
				change_building_level_in_location = { building = building_type:rural_clothmaker value = 1 }
			}
			else = {
				change_building_level_in_location = { building = building_type:fine_cloth_mill value = 1 }
				change_building_level_in_location = { building = building_type:textile_mill value = 1 }
			}
		}
	}
}

industrialization_events.11 = { #Growth of the [ShowGoodsNameWithNoTooltip('paper')] Industry
	type = country_event
	title = industrialization_events.11.title
	desc = industrialization_events.11.desc

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_paper.dds"

	
	trigger = {
		has_embraced_institution = institution:industrialization
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					OR = {
						raw_material ?= goods:wool
						raw_material ?= goods:cotton
						raw_material ?= goods:fiber_crops
						raw_material ?= goods:lumber
					}
					can_build_building = building_type:paper_guild
				}
			}
		}
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						OR = {
							raw_material ?= goods:wool
							raw_material ?= goods:cotton
							raw_material ?= goods:fiber_crops
							raw_material ?= goods:lumber
						}
						can_build_building = building_type:paper_guild
					}
					save_scope_as = industrialization_province
				}
			}
		}
	}

	option = {
		name = industrialization_events.11.a
		scope:industrialization_province = {
			change_development = development_weak_bonus
			change_building_level_in_location = { building = building_type:paper_guild value = 1 }
		}
	}
}

industrialization_events.12 = { #Growth of the [ShowGoodsNameWithNoTooltip('glass')] Industry
	type = country_event
	title = industrialization_events.12.title
	desc = industrialization_events.12.desc

	trigger = {
		has_embraced_institution = institution:industrialization
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					OR = {
						raw_material ?= goods:sand
						raw_material ?= goods:lumber
					}
					can_build_building = building_type:glassworks
				}
			}
		}
	}

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_glass.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						OR = {
							raw_material ?= goods:sand
							raw_material ?= goods:lumber
						}
						can_build_building = building_type:glassworks
					}
					save_scope_as = industrialization_province
				}
			}
		}
	}

	option = {
		name = industrialization_events.12.a
		scope:industrialization_province = {
			change_development = development_weak_bonus
			change_building_level_in_location = { building = building_type:glassworks value = 1 }
		}
	}
}

industrialization_events.13 = { #Industrial Urbanization
	hide_portraits = yes
	type = country_event
	title = industrialization_events.13.title
	desc = industrialization_events.13.desc

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_coal.dds"

	trigger = {		
		has_embraced_institution = institution:industrialization
		num_provinces > 1
		capital ?= {
			market ?= { is_produced_in_market = goods:coal }
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					OR = {
						raw_material ?= goods:coal
						has_building_with_at_least_one_level = glassworks
						has_building_with_at_least_one_level = paper_guild
						has_building_with_at_least_one_level = fine_cloth_mill
						has_building_with_at_least_one_level = textile_mill
					}
					NOT = { has_location_modifier = industrial_urbanization_modifier }
				}
			}
		}
	}


	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						OR = {
							raw_material ?= goods:coal
							has_building_with_at_least_one_level = glassworks
							has_building_with_at_least_one_level = paper_guild
							has_building_with_at_least_one_level = fine_cloth_mill
							has_building_with_at_least_one_level = textile_mill
						}
						NOT = { has_location_modifier = industrial_urbanization_modifier }
					}
					save_scope_as = urbanization_province
					area = { save_scope_as = target_area }
				}
			}
		}
		random_province = {
			limit = {
				this != scope:urbanization_province.province
			}
			save_scope_as = target_rural_province
		}
	}

	option = {
		name = industrialization_events.13.a
		scope:urbanization_province = {
			change_development = development_mild_bonus
			add_location_modifier = { modifier = industrial_urbanization_modifier years = 10 mode = add_and_extend }  
		}
		add_migration = {
			owner = root
			from = scope:target_rural_province.province_definition
			to = scope:urbanization_province.province_definition
			amount = 0.010
			months = 24
		}
	}

	option = {
		name = industrialization_events.13.b
		add_stability = stability_mild_bonus
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_minor_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_minor_move_to_left }
	}
}

industrialization_events.14 = { #The Metalworks of [iron_province.GetNameWithNoTooltip]
	hide_portraits = yes
	type = country_event
	title = industrialization_events.14.title
	desc = industrialization_events.14.desc

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_steel.dds"

	trigger = {
		has_advance = hot_blast_furnace
		num_provinces > 1
		capital ?= { 
			market ?= {
				OR = {
					is_produced_in_market = goods:iron
					is_produced_in_market = goods:coal
				}
			}
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					OR = {
						raw_material ?= goods:iron
						raw_material ?= goods:copper
					}
					NOT = { has_location_modifier = modern_industry_modifier }
					OR = {
						has_building_with_at_least_one_level = cannons_factory
						has_building_with_at_least_one_level = firearms_factory
						has_building_with_at_least_one_level = weapon_factory
						has_building_with_at_least_one_level = iron_foundry
						has_building_with_at_least_one_level = steel_mill
					}
				}
			}
		}
	}

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						OR = {
							raw_material ?= goods:iron
							raw_material ?= goods:copper
						}
						NOT = { has_location_modifier = modern_industry_modifier }
						OR = {
							has_building_with_at_least_one_level = cannons_factory
							has_building_with_at_least_one_level = firearms_factory
							has_building_with_at_least_one_level = weapon_factory
							has_building_with_at_least_one_level = iron_foundry
							has_building_with_at_least_one_level = steel_mill
						}
					}
					save_scope_as = iron_province
					area = { save_scope_as = target_area }
				}
			}
		}
		random_province = {
			limit = {
				this != scope:iron_province.province
			}
			save_scope_as = target_rural_province
		}
	}

	option = {
		name = industrialization_events.14.a
		scope:iron_province = {
			change_development = development_mild_bonus
			add_location_modifier = { modifier = modern_industry_modifier years = 20 mode = add_and_extend }  
		}
		add_migration = {
			owner = root
			from = scope:target_rural_province.province_definition
			to = scope:iron_province.province_definition
			amount = 0.010
			months = 24
		}
	}

	option = {
		name = industrialization_events.14.b
		add_stability = stability_mild_bonus
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_minor_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_minor_move_to_left }
	}
}

industrialization_events.15 = { #Textile Mills of [textile_province.GetNameWithNoTooltip]
	hide_portraits = yes
	type = country_event
	title = industrialization_events.15.title
	desc = industrialization_events.15.desc

	trigger = {
		has_embraced_institution = institution:industrialization
		num_provinces > 1
		capital ?= {
			market ?= {
				OR = {
					is_produced_in_market = goods:coal
					is_produced_in_market = goods:cloth
					is_produced_in_market = goods:silk
				}
			}
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					OR = {
						has_building_with_at_least_one_level = fine_cloth_mill
						has_building_with_at_least_one_level = textile_mill
					}
					NOT = { has_location_modifier = modern_industry_modifier }
				}
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						OR = {
							has_building_with_at_least_one_level = fine_cloth_mill
							has_building_with_at_least_one_level = textile_mill
						}
						NOT = { has_location_modifier = modern_industry_modifier }
					}
					save_scope_as = textile_province
					area = { save_scope_as = target_area }
				}
			}
		}
		random_province = {
			limit = {
				this != scope:textile_province.province
			}
			save_scope_as = target_rural_province
		}
	}

	option = {
		name = industrialization_events.15.a
		scope:textile_province = {
			change_development = development_mild_bonus
			add_location_modifier = { modifier = modern_industry_modifier years = 20 mode = add_and_extend }  
		}
		add_migration = {
			owner = root
			from = scope:target_rural_province.province_definition
			to = scope:textile_province.province_definition
			amount = 0.010
			months = 24
		}
	}

	option = {
		name = industrialization_events.15.b
		add_stability = stability_mild_bonus
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_minor_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_minor_move_to_left }
	}
}

industrialization_events.16 = { #Shipyards of [ship_province.GetNameWithNoTooltip]
	hide_portraits = yes
	type = country_event
	title = industrialization_events.16.title
	desc = industrialization_events.16.desc
	
	trigger = {
		has_embraced_institution = institution:industrialization
		capital ?= {
			market ?= { is_produced_in_market = goods:coal }
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					is_port = yes
					OR = {
						has_building_with_at_least_one_level = naval_base
						has_building_with_at_least_one_level = naval_supplies_manufactory
					}
					NOT = { has_location_modifier = shipyards_of_x_modifier }
				}
			}
		}
	}

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_naval_supplies.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						is_port = yes
						OR = {
							has_building_with_at_least_one_level = naval_base
							has_building_with_at_least_one_level = naval_supplies_manufactory
						}
						NOT = { has_location_modifier = shipyards_of_x_modifier }
					}
					save_scope_as = ship_province
					area = { save_scope_as = target_area }
				}
			}
		}
	}

	option = {
		name = industrialization_events.16.a
		scope:ship_province = {
			change_development = development_mild_bonus
			add_location_modifier = { modifier = shipyards_of_x_modifier years = 20 mode = add_and_extend }  
		}
		add_migration = {
			owner = root
			from = scope:ship_province.province_definition
			to = scope:textile_province.province_definition
			amount = 0.010
			months = 24
		}
	}

	option = {
		name = industrialization_events.16.b
		add_stability = stability_mild_bonus
		change_societal_value = { type = capital_economy_vs_traditional_economy value = societal_value_minor_move_to_right }
		change_societal_value = { type = serfdom_vs_free_subjects value = societal_value_minor_move_to_left }
	}

}

industrialization_events.17 = { #Hostility to New Production Techniques
	type = country_event
	title = industrialization_events.17.title
	desc = industrialization_events.17.desc

	trigger = {
		has_embraced_institution = institution:industrialization
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					OR = {
						has_location_modifier = economic_urbanization_modifier
						has_location_modifier = industrial_urbanization_modifier
						has_location_modifier = modern_industry_modifier
						has_location_modifier = shipyards_of_x_modifier
					}
					NOT = { has_location_modifier = gave_in_to_luddite_protests }
				}
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						OR = {
							has_location_modifier = economic_urbanization_modifier
							has_location_modifier = industrial_urbanization_modifier
							has_location_modifier = modern_industry_modifier
							has_location_modifier = shipyards_of_x_modifier
						}
						NOT = { has_location_modifier = gave_in_to_luddite_protests }
					}
					save_scope_as = luddite_province
				}
			}
		}
	}

	option = {
		name = industrialization_events.17.a
		scope:luddite_province = {
			change_prosperity = prosperity_severe_penalty
			custom_tooltip = {
				text = industrialization_events.17.a.tt
				every_pop = {
					limit = { owner ?= root }
					add_pop_satisfaction = pop_satisfaction_severe_penalty
				}
			}
		}
	}
	option = {
		name = industrialization_events.17.b
		scope:luddite_province = {
			change_prosperity = prosperity_weak_penalty
			add_location_modifier = { modifier = gave_in_to_luddite_protests years = 10 mode = add_and_extend }  
		}
	}
}

industrialization_events.18 = { #Impoverished Artisans
	type = country_event
	title = industrialization_events.18.title
	desc = industrialization_events.18.desc

	trigger = {		
		has_embraced_institution = institution:industrialization
		OR = {
			has_variable = flying_shuttle_flag
			has_variable = atmospheric_engine_flag
			has_variable = spinning_jenny_flag
			has_advance = rotherham_plough
			has_advance = hot_blast_furnace
		}
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					NOR = {
						has_location_modifier = economic_urbanization_modifier
						has_location_modifier = industrial_urbanization_modifier
						has_location_modifier = modern_industry_modifier
						has_location_modifier = shipyards_of_x_modifier
					}
					NOT = { has_location_modifier = impoverished_artisans }
				}
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						NOR = {
							has_location_modifier = economic_urbanization_modifier
							has_location_modifier = industrial_urbanization_modifier
							has_location_modifier = modern_industry_modifier
							has_location_modifier = shipyards_of_x_modifier
						}
						NOT = { has_location_modifier = impoverished_artisans }
					}
					save_scope_as = poor_artisans_province
				}
			}
		}
	}

	option = {
		name = industrialization_events.18.a
		scope:poor_artisans_province = {
			add_location_modifier = { modifier = impoverished_artisans years = 10 mode = add_and_extend }  
		}
	}
	option = {
		name = industrialization_events.18.b
		change_gold_effect = { scale = -1.50 }
	}
}

industrialization_events.19 = { #Spread of Disease in [disease_province.GetNameWithNoTooltip]
	type = country_event
	title = industrialization_events.19.title
	desc = industrialization_events.19.desc
	
	trigger = {
		has_embraced_institution = institution:industrialization
		OR = {
			has_variable = flying_shuttle_flag
			has_variable = atmospheric_engine_flag
			has_variable = spinning_jenny_flag
			has_advance = rotherham_plough
			has_advance = hot_blast_furnace
		}
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					integration_level = core
					prosperity > 0
					OR = {
						has_location_modifier = economic_urbanization_modifier
						has_location_modifier = industrial_urbanization_modifier
						has_location_modifier = modern_industry_modifier
						has_location_modifier = shipyards_of_x_modifier
					}
					development >= 40.00
					NOT = { has_variable = spread_of_disease }
				}
			}
		}
	}

	image = "gfx/interface/illustrations/situation/black_death.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						integration_level = core
						prosperity > 0
						OR = {
							has_location_modifier = economic_urbanization_modifier
							has_location_modifier = industrial_urbanization_modifier
							has_location_modifier = modern_industry_modifier
							has_location_modifier = shipyards_of_x_modifier
						}
						development >= 40.00
						NOT = { has_variable = spread_of_disease }
					}
					save_scope_as = disease_province
					set_variable = { name = spread_of_disease value = 1 years = 10 }
				}
			}
		}
	}

	option = {
		name = industrialization_events.19.a
		change_gold_effect = { scale = -1.80 }
	}
	option = {
		name = industrialization_events.19.b
		scope:disease_province = {
			change_prosperity = prosperity_extreme_penalty
		}
	}
}

industrialization_events.20 = { #Mining Accident in [mining_province.GetNameWithNoTooltip
	type = country_event
	title = industrialization_events.20.title
	desc = industrialization_events.20.desc

	trigger = {
		has_embraced_institution = institution:industrialization
		OR = {
			has_variable = flying_shuttle_flag
			has_variable = atmospheric_engine_flag
			has_variable = spinning_jenny_flag
			has_advance = rotherham_plough
			has_advance = hot_blast_furnace
		}
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					OR = {
						has_location_modifier = economic_urbanization_modifier
						has_location_modifier = industrial_urbanization_modifier
						has_location_modifier = modern_industry_modifier
						has_location_modifier = shipyards_of_x_modifier
					}
					OR = {
						raw_material ?= goods:coal
						raw_material ?= goods:iron
						raw_material ?= goods:copper
					}
					NOT = { has_variable = mining_accident }
				}
			}
		}
	}

	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_silver.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						OR = {
							has_location_modifier = economic_urbanization_modifier
							has_location_modifier = industrial_urbanization_modifier
							has_location_modifier = modern_industry_modifier
							has_location_modifier = shipyards_of_x_modifier
						}
						OR = {
							raw_material ?= goods:coal
							raw_material ?= goods:iron
							raw_material ?= goods:copper
						}
						NOT = { has_variable = mining_accident }
					}
					set_variable = { name = mining_accident value = 1 years = 10 }
					save_scope_as = mining_province
				}
			}
		}
	}

	option = {
		name = industrialization_events.20.a
		scope:mining_province = {
			change_prosperity = prosperity_extreme_penalty
		}
	}
}

industrialization_events.21 = { #Fire of [fire_province.GetNameWithNoTooltip]
	type = country_event
	title = industrialization_events.21.title
	desc = industrialization_events.21.desc
	
	trigger = {
		has_embraced_institution = institution:industrialization
		OR = {
			has_variable = flying_shuttle_flag
			has_variable = atmospheric_engine_flag
			has_variable = spinning_jenny_flag
			has_advance = rotherham_plough
			has_advance = hot_blast_furnace
		}
		capital ?= {
			region = {
				any_location_in_region = {
					owner ?= root
					OR = {
						location_rank = location_rank:city
						location_rank = location_rank:town
					}
					OR = {
						has_location_modifier = economic_urbanization_modifier
						has_location_modifier = industrial_urbanization_modifier
						has_location_modifier = modern_industry_modifier
						has_location_modifier = shipyards_of_x_modifier
					}
					NOT = { has_variable = great_fire }
				}
			}
		}
	}

	image = "gfx/interface/illustrations/event/backgrounds/special/devastation.dds"

	immediate = {
		capital ?= {
			region = {
				random_location_in_region = {
					limit = {
						owner ?= root
						OR = {
							location_rank = location_rank:city
							location_rank = location_rank:town
						}
						OR = {
							has_location_modifier = economic_urbanization_modifier
							has_location_modifier = industrial_urbanization_modifier
							has_location_modifier = modern_industry_modifier
							has_location_modifier = shipyards_of_x_modifier
						}
						NOT = { has_variable = great_fire }
					}
					set_variable = { name = great_fire value = 1 years = 10 }
					save_scope_as = fire_province
					area = { save_scope_as = target_area }
				}
			}
		}
	}

	option = {
		name = industrialization_events.21.a
		scope:fire_province = {
			change_prosperity = prosperity_extreme_penalty
			area = {
				custom_tooltip = {
					text = industrialization_events.21.a.tt
					every_location_in_area = {
						add_location_modifier = { modifier = fire_compensation years = 10 mode = add_and_extend }  
					}
				}
			}
		}
	}
	option = {
		name = industrialization_events.21.b
		change_gold_effect = { scale = -1.80 }
		scope:fire_province = {
			change_prosperity = prosperity_extreme_penalty
		}
	}
}

industrialization_events.22 = { #Local Production Crushed
	type = country_event
	title = industrialization_events.22.title
	desc = industrialization_events.22.desc

	trigger = {		
		has_embraced_institution = institution:industrialization
		OR = {
			has_variable = flying_shuttle_flag
			has_variable = atmospheric_engine_flag
			has_variable = spinning_jenny_flag
			has_advance = rotherham_plough
			has_advance = hot_blast_furnace
		}
		exists = capital
		any_market_present_in_country = {
			location.continent != root.capital.continent
			OR = {
				is_produced_in_market = goods:cloth
				is_produced_in_market = goods:fine_cloth
			}
			any_location_in_market = {
				owner ?= root
				OR = {
					has_building_with_at_least_one_level = fine_cloth_mill
					has_building_with_at_least_one_level = textile_mill
				}
				NOT = { has_variable = overseas_production_province_flag }
			}
		}
	}

	image = "gfx/interface/illustrations/institutions/industrialization.dds"

	immediate = {
		random_market_present_in_country = {
			limit = {
				location.continent != root.capital.continent
				OR = {
					is_produced_in_market = goods:cloth
					is_produced_in_market = goods:fine_cloth
				}
			}
			random_location_in_market = {
				limit = {
					owner ?= root
					OR = {
						has_building_with_at_least_one_level = fine_cloth_mill
						has_building_with_at_least_one_level = textile_mill
					}
					NOT = { has_variable = overseas_production_province_flag }
				}
				set_variable = { name = overseas_production_province_flag value = 1 years = 10}
				save_scope_as = overseas_production_province
			}
		}
	}

	option = {
		name = industrialization_events.22.a
		add_prestige = prestige_weak_penalty
		change_gold_effect = { scale = -1.5 }
	}
	option = {
		name = industrialization_events.22.b
		scope:overseas_production_province = {
			change_development = development_mild_penalty
		}
	}
}
