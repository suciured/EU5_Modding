namespace = golden_age_of_piracy

######################################
# The start of the situation events
######################################

#A strong front against piracy
golden_age_of_piracy.100 = {
	type = country_event
	category = situation_event

	title = golden_age_of_piracy.100.title
	desc = golden_age_of_piracy.100.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		root = {
			save_scope_as = target_country_scope
		}
	}

	option = {
		name = golden_age_of_piracy.100.a
		add_policy = policy:anti_piracy_policy
		add_opinion_mutual_effect = {
			target = scope:actor
			modifier = opinion_accepted_prosecute_pirates
		}
		scope:actor = {
			trigger_event_non_silently = golden_age_of_piracy.101
		}
	}

	option = {
		name = golden_age_of_piracy.100.b
		scope:actor = {
			trigger_event_non_silently = golden_age_of_piracy.102
			add_opinion = {
				target = ROOT
				modifier = opinion_refused_prosecute_pirates
			}
			add_trust = {
				target = ROOT
				modifier = trust_protects_pirates
			}
		}
	}
}

#A strong front against piracy
golden_age_of_piracy.101 = {
	type = country_event
	category = situation_event

	title = golden_age_of_piracy.101.title
	desc = golden_age_of_piracy.101.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = golden_age_of_piracy.101.a
		show_as_tooltip = {
			scope:target_country_scope = {
				add_policy = policy:anti_piracy_policy
				add_opinion_mutual_effect = {
					target = scope:actor
					modifier = opinion_accepted_prosecute_pirates
				}
			}
		}
	}

}

#A strong front against piracy
golden_age_of_piracy.102 = {
	type = country_event
	category = situation_event

	title = golden_age_of_piracy.102.title
	desc = golden_age_of_piracy.102.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = golden_age_of_piracy.102.a
		show_as_tooltip = {
			add_opinion = {
				target = scope:target_country_scope
				modifier = opinion_refused_prosecute_pirates
			}
			add_trust = {
				target = scope:target_country_scope
				modifier = trust_protects_pirates
			}
		}
	}
}

#A Nation of Pirates
golden_age_of_piracy.110 = {
	type = country_event
	category = situation_event

	title = golden_age_of_piracy.110.title
	desc = golden_age_of_piracy.110.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }

		scope:target_location = {
			create_country_from_location  = { #create_navy_country_in_location
				unlock_government_reform_effect = { type = pirate_brethren_reform }

				hidden_effect = {
					scope:target_location = {
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
						create_sub_unit_of_category = sub_unit_category:navy_galley
					}
				}

				reforms = {
					pirate_brethren_reform
				}
				save_scope_as = pirate_tag_scope

				hidden_effect = {
					change_heir_selection = heir_selection:pirate_elective
					change_government_type = government_type:republic
				}
				add_gold = {
					value = root.monthly_income_trade_and_tax
					multiply = 4
				}
				make_subject_of = {
					target = root
					type = subject_type:vassal
				}
				change_culture = root.culture
				change_religion = root.religion
				create_character = {
					estate = estate_type:peasants_estate
					culture = root.culture
					religion = root.religion
					save_scope_as = pirate_ruler_scope
				}
				set_new_ruler = scope:pirate_ruler_scope
				change_religion_for_ruler_and_family = { country = this religion = root.religion }

			}

			scope:pirate_tag_scope = {
				change_country_type = navy
			}

			change_building_level_in_location = {
				building = building_type:pirate_stronghold
				value = 1
				owner = scope:pirate_tag_scope
			}
		}
	}

	option = {
		name = golden_age_of_piracy.110.a
		custom_tooltip = golden_age_of_piracy.110.tt
	}

	option = {
		name = golden_age_of_piracy.110.b

		trigger = { is_ai = no }	#Let's avoid weird potential issues...
		change_player = scope:pirate_tag_scope
	}
}

namespace = great_pirate_era

######################################
# The start of the situation events
######################################

great_pirate_era.1 = {
	type = country_event
	category = situation_event
	fire_only_once = yes
	title = great_pirate_era.1.title
	desc = great_pirate_era.1.desc
	historical_info = great_pirate_era.1.historical_info
	trigger = {
		current_year > 1679
		current_year < 1715
		NOT = { country_exists = c:NPV }
		NOT = { has_reform = government_reform:pirate_brethren_reform }
		location:bahama = {
			has_owner = yes
			integration_level = core
			trigger_if = {
				limit = {
					owner ?= { is_human = yes }
				}
				owner = root
			}
			trigger_else = {
				top_owner = ROOT
			}
			owner ?= {
				num_of_non_rural >= 2
			}
			is_capital = no
			OR = {
				local_control < 0.5
				average_satisfaction < 0.5
			}
		}
	}


	immediate = {
		location:bahama = { save_scope_as = target_location }
		scope:target_location = {
			construct_building = {
				building_type = building_type:pirate_stronghold
				instant = yes
				cost_multiplier = 0
				cost_multiplier_reason = "game_concept_event"
			}
			create_country_from_location = {
				unlock_government_reform_effect = { type = pirate_brethren_reform }
				if = {
					limit = { navy_size_percentage < 1 }
					custom_tooltip = {
						text = build_galleys_to_navy_size_percentage_tt
						scope:target_location = {
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley

						}
					}
				}
				name = {
					name = NPV
				}
				reforms = {
					pirate_brethren_reform
				}
				add_policy = policy:state_piracy_policy
				add_policy = policy:council_of_captains
				add_policy = policy:articles_of_agreement
				add_policy = policy:smugglers_haven
				add_policy = policy:authority_of_the_captain
				add_policy = policy:loyal_pirate_crews
				add_policy = policy:ship_boarding
				add_policy = policy:benefits_for_privateers
				add_policy = policy:port_logs
				save_scope_as = target_country

				change_heir_selection = heir_selection:pirate_elective
				change_government_type = government_type:republic
				add_gold = 1000
				create_character = {
					first_name = name_henry
					last_name = Avery
					birth_date = 1659.8.20
					adm = { 30 95 }
					dip = { 30 95 }
					mil = { 30 95 }
					birth_location = location:plymouth
					save_scope_as = target_character
					estate = estate_type:peasants_estate
				}
				create_character = {
					first_name = name_benjamin
					last_name = Hornigold
					birth_date = 1674.7.1
					adm = { 30 95 }
					dip = { 30 95 }
					mil = { 30 95 }
					birth_location = location:plymouth
					save_scope_as = target_character2
					estate = estate_type:peasants_estate
				}
				set_new_ruler = scope:target_character
				change_country_type = navy
				change_country_tag = NPV
				change_country_flag = NPV
			}
		}
	}

	option = {
		name = great_pirate_era.1.a

		trigger = { is_human = yes }
		change_player = scope:target_country #Fun option for cool people

		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}

	option = {
		name = great_pirate_era.1.b
		#Meh, I am boring at parties

		custom_tooltip = target_country_rises_in_target_location_tt
		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}
}

great_pirate_era.2 = {
	type = country_event
	category = situation_event
	fire_only_once = yes
	title = great_pirate_era.2.title
	desc = great_pirate_era.2.desc
	historical_info = great_pirate_era.2.historical_info
	trigger = {
		current_year > 1689
		current_year < 1720
		NOT = { has_reform = government_reform:pirate_brethren_reform }
		NOT = { country_exists = c:LIB }
		location:maroantsetra = {
			has_owner = yes
			integration_level = core
			trigger_if = {
				limit = {
					owner ?= { is_human = yes }
				}
				owner = root
			}
			trigger_else = {
				top_owner = ROOT
			}
			owner ?= {
				num_of_non_rural >= 2
			}
			is_capital = no
			OR = {
				local_control < 0.5
				average_satisfaction < 0.5
			}
		}
	}


	immediate = {
		location:maroantsetra = { save_scope_as = target_location }
		scope:target_location = {
			construct_building = {
				building_type = building_type:pirate_stronghold
				instant = yes
				cost_multiplier = 0
				cost_multiplier_reason = "game_concept_event"
			}
			create_country_from_location = {
				unlock_government_reform_effect = { type = pirate_brethren_reform }
				if = {
					limit = { navy_size_percentage < 1 }
					custom_tooltip = {
						text = build_galleys_to_navy_size_percentage_tt
						scope:target_location = {
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley

						}
					}
				}
				name = {
					name = LIB
				}
				reforms = {
					pirate_brethren_reform
				}
				add_policy = policy:state_piracy_policy
				add_policy = policy:council_of_captains
				add_policy = policy:articles_of_agreement
				add_policy = policy:smugglers_haven
				add_policy = policy:authority_of_the_captain
				add_policy = policy:loyal_pirate_crews
				add_policy = policy:ship_boarding
				add_policy = policy:benefits_for_privateers
				add_policy = policy:port_logs
				save_scope_as = target_country

				change_heir_selection = heir_selection:pirate_elective
				change_government_type = government_type:republic
				add_gold = 1000
				create_character = {
					first_name = name_james
					last_name = Misson
					birth_date = 1670.8.20
					adm = { 30 95 }
					dip = { 30 95 }
					mil = { 30 95 }
					birth_location = location:aix_en_provence
					save_scope_as = target_character
					estate = estate_type:peasants_estate
				}
				create_character = {
					first_name = name_thomas
					last_name = Tew
					birth_date = 1659.3.1
					adm = { 30 95 }
					dip = { 30 95 }
					mil = { 30 95 }
					birth_location = location:london
					save_scope_as = target_character2
					estate = estate_type:peasants_estate
				}
				set_new_ruler = scope:target_character
				change_country_type = navy
				change_country_tag = LIB
				change_country_flag = LIB
			}
		}
	}

	option = {
		name = great_pirate_era.1.a

		trigger = { is_human = yes }
		change_player = scope:target_country #Fun option for cool people

		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}

	option = {
		name = great_pirate_era.1.b
		#Meh, I am boring at parties

		custom_tooltip = target_country_rises_in_target_location_tt
		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}
}

great_pirate_era.3 = {
	type = country_event
	category = situation_event
	fire_only_once = yes
	title = great_pirate_era.3.title
	desc = great_pirate_era.3.desc
	historical_info = great_pirate_era.3.historical_info
	trigger = {
		current_year > 1588
		current_year < 1635
		NOT = { has_reform = government_reform:pirate_brethren_reform }
		NOT = { country_exists = c:SLE }
		location:sale = {
			has_owner = yes
			integration_level = core
			trigger_if = {
				limit = {
					owner ?= { is_human = yes }
				}
				owner = root
			}
			trigger_else = {
				top_owner = ROOT
			}
			owner ?= {
				num_of_non_rural >= 2
			}
			is_capital = no
			OR = {
				local_control < 0.5
				average_satisfaction < 0.5
			}
		}
	}


	immediate = {
		location:sale = { save_scope_as = target_location }
		scope:target_location = {
			construct_building = {
				building_type = building_type:pirate_stronghold
				instant = yes
				cost_multiplier = 0
				cost_multiplier_reason = "game_concept_event"
			}
			create_country_from_location = {
				unlock_government_reform_effect = { type = pirate_brethren_reform }
				if = {
					limit = { navy_size_percentage < 1 }
					custom_tooltip = {
						text = build_galleys_to_navy_size_percentage_tt
						scope:target_location = {
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley

						}
					}
				}
				name = {
					name = SLE
				}
				reforms = {
					pirate_brethren_reform
				}
				add_policy = policy:state_piracy_policy
				add_policy = policy:council_of_captains
				add_policy = policy:articles_of_agreement
				add_policy = policy:smugglers_haven
				add_policy = policy:authority_of_the_captain
				add_policy = policy:loyal_pirate_crews
				add_policy = policy:ship_boarding
				add_policy = policy:benefits_for_privateers
				add_policy = policy:port_logs
				save_scope_as = target_country

				change_heir_selection = heir_selection:pirate_elective
				change_government_type = government_type:republic
				add_gold = 1000
				if = {
					limit = {
						current_year > 1590
						current_year < 1615
					}
					create_character = {
						first_name = name_murad
						last_name = Reis

						adm = { 50 95 }
						dip = { 50 95 }
						mil = { 50 95 }
						birth_location = location:the_hague
						religion = religion:sunni
						save_scope_as = target_character
						estate = estate_type:peasants_estate
					}
				}
				else = {
					create_character = {
						age = 30
						adm = { 50 95 }
						dip = { 50 95 }
						mil = { 50 95 }
						birth_location = location:the_hague
						save_scope_as = target_character
						estate = estate_type:peasants_estate
					}
				}
				set_new_ruler = scope:target_character
				change_country_type = navy
				change_country_tag = SLE
				change_country_flag = SLE
			}
		}
	}

	option = {
		name = great_pirate_era.1.a

		trigger = { is_human = yes }
		change_player = scope:target_country #Fun option for cool people

		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}

	option = {
		name = great_pirate_era.1.b
		#Meh, I am boring at parties

		custom_tooltip = target_country_rises_in_target_location_tt
		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}
}

great_pirate_era.4 = {
	type = country_event
	category = situation_event
	fire_only_once = yes
	title = great_pirate_era.4.title
	desc = great_pirate_era.4.desc
	historical_info = great_pirate_era.4.historical_info
	trigger = {
		current_year > 1689
		NOT = { has_reform = government_reform:pirate_brethren_reform }
		NOT = { country_exists = c:TET }
		location:tizgane = {
			has_owner = yes
			integration_level = core
			trigger_if = {
				limit = {
					owner ?= { is_human = yes }
				}
				owner = root
			}
			trigger_else = {
				top_owner = ROOT
			}
			owner ?= {
				num_of_non_rural >= 2
			}
			is_capital = no
			OR = {
				local_control < 0.5
				average_satisfaction < 0.5
			}
		}
	}


	immediate = {
		location:tizgane = {
			save_scope_as = target_location
			construct_building = {
				building_type = building_type:pirate_stronghold
				instant = yes
				cost_multiplier = 0
				cost_multiplier_reason = "game_concept_event"
			}
			create_country_from_location = {
				unlock_government_reform_effect = { type = pirate_brethren_reform }
				if = {
					limit = { navy_size_percentage < 1 }
					custom_tooltip = {
						text = build_galleys_to_navy_size_percentage_tt
						scope:target_location = {
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley

						}
					}
				}
				name = {
					name = TET
				}
				reforms = {
					pirate_brethren_reform
				}
				add_policy = policy:state_piracy_policy
				add_policy = policy:council_of_captains
				add_policy = policy:articles_of_agreement
				add_policy = policy:smugglers_haven
				add_policy = policy:authority_of_the_captain
				add_policy = policy:loyal_pirate_crews
				add_policy = policy:ship_boarding
				add_policy = policy:benefits_for_privateers
				add_policy = policy:port_logs
				save_scope_as = target_country

				change_heir_selection = heir_selection:pirate_elective
				change_government_type = government_type:republic
				add_gold = 1000
				change_country_type = navy
				change_country_tag = TET
				change_country_flag = TET
			}
		}
	}

	option = {
		name = great_pirate_era.1.a

		trigger = { is_human = yes }

		change_player = scope:target_country #Fun option for cool people

		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}

	option = {
		name = great_pirate_era.1.b
		#Meh, I am boring at parties

		custom_tooltip = target_country_rises_in_target_location_tt
		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}
}

great_pirate_era.5 = {
	type = country_event
	category = situation_event

	title = great_pirate_era.5.title
	desc = great_pirate_era.5.desc
	historical_info = great_pirate_era.5.historical_info
	trigger = {
		current_year > 1650
		NOT = { has_reform = government_reform:pirate_brethren_reform }
		NOT = { country_exists = c:PRY }
		location:yaguabo = {
			has_owner = yes
			integration_level = core
			trigger_if = {
				limit = {
					owner ?= { is_human = yes }
				}
				owner = root
			}
			trigger_else = {
				top_owner = ROOT
			}
			owner ?= {
				num_of_non_rural >= 2
			}
			is_capital = no
			OR = {
				local_control < 0.5
				average_satisfaction < 0.5
			}
		}
	}


	immediate = {
		location:yaguabo = {
			save_scope_as = target_location
			construct_building = {
				building_type = building_type:pirate_stronghold
				instant = yes
				cost_multiplier = 0
				cost_multiplier_reason = "game_concept_event"
			}
			create_country_from_location = {
				unlock_government_reform_effect = { type = pirate_brethren_reform }
				if = {
					limit = { navy_size_percentage < 1 }
					custom_tooltip = {
						text = build_galleys_to_navy_size_percentage_tt
						scope:target_location = {
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley

						}
					}
				}
				name = {
					name = PRY
				}
				reforms = {
					pirate_brethren_reform
				}
				add_policy = policy:state_piracy_policy
				add_policy = policy:council_of_captains
				add_policy = policy:articles_of_agreement
				add_policy = policy:smugglers_haven
				add_policy = policy:authority_of_the_captain
				add_policy = policy:loyal_pirate_crews
				add_policy = policy:ship_boarding
				add_policy = policy:benefits_for_privateers
				add_policy = policy:port_logs
				save_scope_as = target_country

				change_heir_selection = heir_selection:pirate_elective
				change_government_type = government_type:republic
				add_gold = 1000
				create_character = {
					adm = { 30 95 }
					dip = { 30 95 }
					mil = { 30 95 }
					save_scope_as = target_character
					estate = estate_type:peasants_estate
				}
				set_new_ruler = scope:target_character
				change_country_type = navy
				change_country_tag = PRY
				change_country_flag = PRY
			}
		}
	}

	option = {
		name = great_pirate_era.1.a

		trigger = { is_human = yes }
		change_player = scope:target_country #Fun option for cool people

		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}

	option = {
		name = great_pirate_era.1.b
		#Meh, I am boring at parties

		custom_tooltip = target_country_rises_in_target_location_tt
		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}
}

great_pirate_era.6 = {
	type = country_event
	category = situation_event

	title = great_pirate_era.6.title
	desc = great_pirate_era.6.desc
	historical_info = great_pirate_era.6.historical_info
	trigger = {
		current_year > 1640
		NOT = { country_exists = c:TRU }
		location:tortuga = {
			has_owner = yes
			integration_level = core
			trigger_if = {
				limit = {
					owner ?= { is_human = yes }
				}
				owner = root
			}
			trigger_else = {
				top_owner = ROOT
			}
			owner ?= {
				num_of_non_rural >= 2
			}
			is_capital = no
			OR = {
				local_control < 0.5
				average_satisfaction < 0.5
			}
		}
	}


	immediate = {
		location:tortuga = {
			save_scope_as = target_location
			construct_building = {
				building_type = building_type:pirate_stronghold
				instant = yes
				cost_multiplier = 0
				cost_multiplier_reason = "game_concept_event"
			}
			create_country_from_location = {
				unlock_government_reform_effect = { type = pirate_brethren_reform }
				if = {
					limit = { navy_size_percentage < 1 }
					custom_tooltip = {
						text = build_galleys_to_navy_size_percentage_tt
						scope:target_location = {
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley
							create_sub_unit_of_category = sub_unit_category:navy_galley

						}
					}
				}
				name = {
					name = TRU
				}
				reforms = {
					pirate_brethren_reform
				}
				add_policy = policy:state_piracy_policy
				add_policy = policy:council_of_captains
				add_policy = policy:articles_of_agreement
				add_policy = policy:smugglers_haven
				add_policy = policy:authority_of_the_captain
				add_policy = policy:loyal_pirate_crews
				add_policy = policy:ship_boarding
				add_policy = policy:benefits_for_privateers
				add_policy = policy:port_logs
				save_scope_as = target_country

				change_heir_selection = heir_selection:pirate_elective
				change_government_type = government_type:republic
				add_gold = 1000
				create_character = {
					adm = { 30 95 }
					dip = { 30 95 }
					mil = { 30 95 }
					save_scope_as = target_character
					estate = estate_type:peasants_estate
				}
				set_new_ruler = scope:target_character
				change_country_type = navy
				change_country_tag = TRU
				change_country_flag = TRU
			}
		}
	}

	option = {
		name = great_pirate_era.1.a

		trigger = { is_human = yes }
		change_player = scope:target_country #Fun option for cool people

		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}

	option = {
		name = great_pirate_era.1.b
		#Meh, I am boring at parties

		custom_tooltip = target_country_rises_in_target_location_tt
		show_as_tooltip = {
			scope:target_location = {
				construct_building = {
					building_type = building_type:pirate_stronghold
					instant = yes
					cost_multiplier = 0
					cost_multiplier_reason = "game_concept_event"
				}
			}
		}
	}
}

great_pirate_era.100 = {	#Pirates Win
	type = country_event
	category = situation_event

	title = great_pirate_era.100.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					root = scope:target_pirate_country
				}
				desc = great_pirate_era.100.desc_a
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = great_pirate_era.100.desc_b
			}
		}
	}

	image = "gfx/interface/illustrations/situation/golden_age_of_piracy.dds"

	immediate = {
		c:LGK = { save_scope_as = target_pirate_country }
		scope:target_pirate_country = {
			ruler_or_regent ?= { save_scope_as = target_character }
		}
	}

	option = {
		name = great_pirate_era.100.a

		trigger = {
			root != scope:target_pirate_country
		}

		custom_tooltip = end_situation_gaop_tt
		show_as_tooltip = {
			scope:target_pirate_country = {
				add_country_modifier = {
					modifier = great_pirate_state_modifier
					years = 30
					mode = replace
				}
			}
			scope:target_character = {
				add_adm = 20
				add_dip = 20
				add_mil = 20
			}
		}
	}

	option = {
		name = great_pirate_era.100.b

		trigger = {
			root = scope:target_pirate_country
		}

		custom_tooltip = end_situation_gaop_tt
		scope:target_pirate_country = {
			add_country_modifier = {
				modifier = great_pirate_state_modifier
				years = 30
				mode = replace
			}
		}
		scope:target_character = {
			add_adm = 20
			add_dip = 20
			add_mil = 20
		}
	}
}

great_pirate_era.200 = {	#Pirates Lose
	type = country_event
	category = situation_event

	title = great_pirate_era.200.title
	desc = great_pirate_era.200.desc
	image = "gfx/interface/illustrations/situation/golden_age_of_piracy.dds"

	immediate = {
		ruler_or_regent ?= { save_scope_as = target_character }
	}

	option = {
		name = great_pirate_era.200.a

		custom_tooltip = end_situation_gaop_tt
	}
}

great_pirate_era.300 = {	#Start of the situation
	type = country_event
	category = situation_event

	title = great_pirate_era.300.title
	desc = great_pirate_era.300.desc
	historical_info = great_pirate_era.300.historical_info
	image = "gfx/interface/illustrations/situation/golden_age_of_piracy.dds"

	option = {
		name = great_pirate_era.300.a

		custom_tooltip = situation_gaop_start_tt
	}
}
