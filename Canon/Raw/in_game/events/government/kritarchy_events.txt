namespace = kritarchy_events
kritarchy_events.1 = {
	type = country_event
	title = kritarchy_events.1.title
	desc = kritarchy_events.1.desc
	trigger = {
		succession_law = heir_selection:judicial_election
	}

	illustration_tags = {
        10 = happy
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		if = {
			limit = { exists = previous_ruler }
			previous_ruler ?= {
				ordered_close_relative = {
					order_by = adm
					position = 1
					save_scope_as = successor_character
				}
			}
		}
		if = {
			limit = { NOT = { exists = scope:successor_character } }
			ordered_cabinet_character = {
				order_by = adm
				position = 1
				save_scope_as = successor_character
			}
		}
		if = {
			limit = { NOT = { exists = scope:successor_character } }
			random_character = {
				limit = {
					culture = root.culture
				}
				save_scope_as = successor_character
			}
		}
		if = {
			limit = { NOT = { exists = scope:successor_character } }
			create_character = {
				save_scope_as = successor_character
			}
		}
	}

	option = {
		name = kritarchy_events.1.a
		set_new_ruler = scope:successor_character
	}
}
