namespace = catholic_flavor

catholic_flavor.1 = { #Influential Preacher
	type = country_event
	title = catholic_flavor.1.title
	desc = catholic_flavor.1.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	trigger = {
		religion = religion:catholic
		country_exists = c:PAP
		c:PAP ?= {
			NOT = { this = ROOT }
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		create_character = {
			estate = estate_type:clergy_estate
			dip = { 65 95 }
			female = no
			religion = religion:catholic
			save_scope_as = target_character
			create_in_limbo = yes
		}
		c:PAP.capital = {
			save_scope_as = pope_capital_scope
		}
	}

	option = {
		name = catholic_flavor.1.a
		add_religious_influence = religious_influence_mild_bonus
		scope:target_character = { move_country = c:PAP }
	}
	option = {
		name = catholic_flavor.1.b
		add_prestige = prestige_weak_bonus
		scope:target_character = { move_country = ROOT }
	}
}

catholic_flavor.2 = { #A Prospering [ShowBuildingTypeNameWithNoTooltip('monastery')]
	type = country_event
	title = catholic_flavor.2.title
	desc = catholic_flavor.2.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	trigger = {
		religion = religion:catholic
		has_ruler = yes
		any_owned_location = {
			has_building_with_at_least_one_level = monastery
		}
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:clergy   background = pop_type:clergy }

		random_owned_location = {
			limit = {
				has_building_with_at_least_one_level = monastery
			}
			save_scope_as = target_location
		}
		ruler = {
			save_scope_as = target_ruler
		}
	}

	option = {
		name = catholic_flavor.2.a
		
		add_government_power = government_power_weak_bonus
	}

	option = {
		name = catholic_flavor.2.b

		scope:target_location = {
			if = {
				limit = {
					prosperity = 1
				}
				change_development = development_weak_bonus
			}
			change_prosperity = prosperity_mild_bonus
		}
	}
}

catholic_flavor.3 = { #A [ShowBuildingTypeNameWithNoTooltip('monastery')] in Trouble
	type = country_event
	title = catholic_flavor.3.title
	desc = catholic_flavor.3.desc

	illustration_tags = {
		10 = angry
		10 = interior
	}

	trigger = {
		religion = religion:catholic
		any_owned_location = {
			has_building_with_at_least_one_level = monastery
		}
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:clergy   background = pop_type:clergy }

		random_owned_location = {
			limit = {
				has_building_with_at_least_one_level = monastery
			}
			save_scope_as = target_location
		}
	}

	option = {
		name = catholic_flavor.3.a
		
		change_gold_effect = { scale = -1 }
	}

	option = {
		name = catholic_flavor.3.b

		scope:target_location = {
			change_prosperity =prosperity_weak_penalty
		}
	}
}

catholic_flavor.4 = { #Simony?
	type = country_event
	title = catholic_flavor.4.title
	desc = catholic_flavor.4.desc

	illustration_tags = {
		10 = regular
		10 = exterior
	}

	trigger = {
		religion = religion:catholic
		NOT = {	tag = PAP}
		international_organization:catholic_church = {
			NOT = {
				international_organization_has_policy = policy:banned_simony
			}
		}

		any_character = {
			religion = religion:catholic
			has_estate = estate_type:clergy_estate
			is_adult = yes
			count <= 3
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:clergy_estate }

		create_character = {
			estate = estate_type:clergy_estate
			religion = religion:catholic
			adm = { 35 85 }
			save_scope_as = target_character
			create_in_limbo = yes
		}
	}

	option = {
		name = catholic_flavor.4.a
		scope:target_character = { move_country = root }
		change_gold_effect = { scale = 2 }
	}

	option = {
		name = catholic_flavor.4.b
		add_religious_influence = religious_influence_mild_bonus
		add_government_power = government_power_mild_bonus
		c:PAP = {
			add_opinion = { target = root modifier = opinion_pleased }
		}

		kill_character_silently = scope:target_character
	}
}

catholic_flavor.5 = { #Selling of Indulgences repetetive Event
	type = country_event
	title = catholic_flavor.5.title
	desc = catholic_flavor.5.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	trigger = {
		religion = religion:catholic
		has_ruler = yes
		is_excommunicated = no
		NOT = {	tag = PAP }
		international_organization:catholic_church = {
			NOT = {
				international_organization_has_policy = policy:no_financial_indulgences
			}
		}
		ruler = {
			age_in_years >= 35
		}
		ruler_reign >= 4
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }

		ruler = {
			save_scope_as = target_ruler
		}
	}

	option = {
		name = catholic_flavor.5.a

		change_gold_effect = { scale = -2 }
		add_religious_influence = religious_influence_mild_bonus
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_weak_penalty }
	}
	option = {
		name = catholic_flavor.5.b

		add_religious_influence = religious_influence_mild_penalty
		add_estate_satisfaction = { type = estate_type:peasants_estate value = estate_satisfaction_weak_bonus }
		c:PAP = {
			add_opinion = { target = root modifier = catholic_obstructing_church }
		}
	}
}

catholic_flavor.6 = { #Veneration of Relics repetetive Event
	type = country_event
	title = catholic_flavor.6.title
	desc = catholic_flavor.6.desc

	illustration_tags = {
		10 = regular
		10 = interior
		}

	trigger = {
		religion = religion:catholic
		NOT = {	tag = PAP }
		international_organization:catholic_church = {
			NOT = {
				international_organization_has_policy = policy:no_veneration
			}
		}
		any_province = {
			religion_percentage = {
				religion = religion:catholic
				value > 0.5
			}
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:clergy_estate }
		hidden_effect = {
			random_province = {
				limit = {
					religion_percentage = {
						religion = religion:catholic
						value > 0.5
					}
				}
				save_scope_as = unrest_province
			}
		}
	}

	option = {
		name = catholic_flavor.6.a

		change_gold_effect = { scale = -2 }
	}
	option = {
		name = catholic_flavor.6.b

		custom_tooltip = catholic_flavor.6.b.tt
		hidden_effect = {
			scope:unrest_province = {
				every_location_in_province = {
					every_pop = {
						limit = {
							owner = root
							religion = religion:catholic
						}
						add_pop_satisfaction = pop_satisfaction_weak_penalty
					}
				}
			}
		}
	}
}

catholic_flavor.7 = { #Veneration of the Virgin Mary
	type = country_event
	title = catholic_flavor.7.title
	desc = catholic_flavor.7.desc
	illustration_tags = {
 		10 = interior
 	}
	immediate = { 
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
	}	
	trigger = {
		religion = religion:catholic
		NOT = {	tag = PAP }
		international_organization:catholic_church = {
			NOT = {
				international_organization_has_policy = policy:no_veneration
			}
		}
	}

	option = {
		name = catholic_flavor.7.a

		add_religious_influence = religious_influence_weak_bonus
	}
	option = {
		name = catholic_flavor.7.b

		add_stability = stability_weak_bonus
		c:PAP = {
			add_opinion = { target = root modifier = opinion_denying_the_holy_mother }
		}
	}
}

scripted_trigger location_catholic_flavor_8_trigger = {
	integration_level = core
	dominant_religion = religion:catholic
	has_building_with_at_least_one_level = monastery
	any_pop = {
		pop_type = pop_type:clergy
		religion = religion:catholic
	}
}
catholic_flavor.8 = { #Doctrine of Particular Judgement
	type = country_event
	title = catholic_flavor.8.title
	desc = catholic_flavor.8.desc
	illustration_tags = {
		10 = angry
 		10 = exterior
 	}
	trigger = {
		religion = religion:catholic
		NOT = {	tag = PAP }
		any_owned_location = {
			location_catholic_flavor_8_trigger = yes
		}
	}


	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		random_owned_location = {
			limit = {
				location_catholic_flavor_8_trigger = yes
			}
			save_scope_as = unrest_location_scope
		}
	}

	option = {
		name = catholic_flavor.8.a

		add_religious_influence = religious_influence_weak_penalty
	}
	option = {
		name = catholic_flavor.8.b

		scope:unrest_location_scope = {
			every_pop = {
				limit = {
					owner = root
					religion = religion:catholic
				}
				add_pop_satisfaction = pop_satisfaction_mild_penalty
			}
		}
	}
}

scripted_trigger location_catholic_flavor_9_trigger = {
	integration_level = core
	dominant_religion = religion:catholic
	has_building_with_at_least_one_level = temple
	any_pop = {
		pop_type = pop_type:clergy
		religion = religion:catholic
	}
}

catholic_flavor.9 = { #A New Confession of Faith
	type = country_event
	title = catholic_flavor.9.title
	desc = catholic_flavor.9.desc
	illustration_tags = {
 		10 = exterior
 	}
	trigger = {
		religion = religion:catholic
		religion:catholic = { reform_desire >= 0.10 }
		NOT = {	tag = PAP }
		any_owned_location = {
			location_catholic_flavor_9_trigger = yes
		}
	}

	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
		random_owned_location = {
			limit = {
				location_catholic_flavor_9_trigger = yes
			}
			save_scope_as = unrest_location_scope
		}
	}

	option = {
		name = catholic_flavor.9.a

		add_government_power = government_power_weak_bonus
		scope:unrest_location_scope = {
			create_some_heretics = yes
		}
	}
	option = {
		name = catholic_flavor.9.b

		add_religious_influence = religious_influence_mild_bonus
	}
}

catholic_flavor.10 = { #A Promise of Safe Passage?
	type = country_event
	title = catholic_flavor.10.title
	desc = catholic_flavor.10.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	trigger = {
		current_year >= 1420
		religion = religion:catholic
		religion:catholic = { reform_desire >= 0.75 }
		NOT = {	tag = PAP }
		exists = character:boh_jan_hus
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		character:boh_jan_hus ?= {
			save_scope_as = jan_hus_scope
		}
		capital = {
			save_scope_as = target_location
		}
	}

	option = {
		name = catholic_flavor.10.a

		add_prestige = prestige_weak_bonus

		scope:target_location = {
			create_some_heretics = yes
		}
	}

	option = {
		name = catholic_flavor.10.b

		add_government_power = government_power_weak_bonus
	}
}

catholic_flavor.11 = { #Saint Proclaimed
	type = country_event
	title = catholic_flavor.11.title
	desc = catholic_flavor.11.desc

	illustration_tags = {
		10 = happy
		10 = interior
	}

	trigger = {
		religion = religion:catholic
		government_type = government_type:monarchy
		#We had Saint-like ancestor?
		ruler ?= {
			any_ancestor = {
				religion = religion:catholic
				OR = {
					has_trait = benevolent
					has_trait = just
					has_trait = righteous
					has_trait = calm
					has_trait = zealot
					has_trait = pious
					has_trait = lawgiver
					has_trait = kind_hearted
					has_trait = incorruptible
				}
				nor = {
					has_trait = cruel
					has_trait = babbling_buffoon
					has_trait = embezzler
					has_trait = drunkard
					has_trait = sinner
					has_trait = greedy
					has_trait = naive
					has_trait = craven
					has_trait = loose_lips
					has_trait = obsessive_perfectionist
					has_trait = malevolent
				}
				is_saint = no
				is_alive = no
			}
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		ruler ?= {
			random_ancestor = {
				limit = {
					religion = religion:catholic
					OR = {
						has_trait = benevolent
						has_trait = just
						has_trait = righteous
						has_trait = calm
						has_trait = zealot
						has_trait = pious
						has_trait = lawgiver
						has_trait = kind_hearted
						has_trait = incorruptible
					}
					nor = {
						has_trait = cruel
						has_trait = babbling_buffoon
						has_trait = embezzler
						has_trait = drunkard
						has_trait = sinner
						has_trait = greedy
						has_trait = naive
						has_trait = craven
						has_trait = loose_lips
						has_trait = obsessive_perfectionist
						has_trait = malevolent
					}
					is_saint = no
					is_alive = no
				}
				save_scope_as = ancestor_saint
			}
		}
		get_pope_character_scope = yes
	}

	option = {
		name = catholic_flavor.11.a
		
		add_religious_influence = religious_influence_mild_bonus
		add_stability = stability_weak_bonus
		scope:ancestor_saint = {
			make_saint = root
		}
	}
}

catholic_flavor.12 = { #Sublimis Deus
	type = country_event
	title = catholic_flavor.12.title
	desc = catholic_flavor.12.desc
	illustration_tags = {
		10 = exterior
	}

	trigger = {
		religion = religion:catholic
		country_exists = c:PAP
		NOT = {
			tag = PAP
		}
		any_subject = {
			is_subject_type = colonial_nation
		}
		capital = {
			continent = continent:europe
		}
		NOT = {
			OR = {
				has_country_modifier = sublimis_deus_iberia
				any_subject = {
					OR = {
						has_country_modifier = sublimis_deus_not_iberia
						has_country_modifier = sublimis_deus_not_enforced
					}
				}
			}
		}
	}

	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
		get_pope_character_scope = yes
	}

	option = {
		name = catholic_flavor.12.a

		add_religious_influence = religious_influence_extreme_bonus
		c:PAP = {
			add_opinion = { target = root modifier = opinion_sublimis_deus }
		}
		if = {
			limit = {
				culture = { has_culture_group = culture_group:iberian_group }
			}
			add_country_modifier = { modifier = sublimis_deus_iberia years = 20 mode = add_and_extend }
		}
		else = {
			every_subject = {
				limit = {
					is_subject_type = colonial_nation
				}
				add_country_modifier = { modifier = sublimis_deus_not_iberia years = 20 mode = add_and_extend }
			}
		}
	}

	option = {
		name = catholic_flavor.12.b

		every_subject = {
			limit = {
				is_subject_type = colonial_nation
			}
			add_country_modifier = { modifier = sublimis_deus_not_enforced years = 20 mode = add_and_extend }
		}
	}
}

catholic_flavor.13 = { #[ShowBuildingTypeNameWithNoTooltip('scriptorium')] Spreads Heresy
	type = country_event
	title = catholic_flavor.13.title
	desc = catholic_flavor.13.desc

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	trigger = {
		religion = religion:catholic
		any_owned_non_rural_location = {
			has_building_with_at_least_one_level = scriptorium
		}
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:clergy   background = pop_type:clergy }

		random_owned_non_rural_location = {
			limit = {
				has_building_with_at_least_one_level = scriptorium
			}
			save_scope_as = target_location
		}
	}

	option = {
		name = catholic_flavor.13.a
		
		add_religious_influence = religious_influence_weak_penalty
	}

	option = {
		name = catholic_flavor.13.b

		add_stability = stability_weak_penalty
	}
}

catholic_flavor.14 = { #The [target_country.GetLongNameWithNoTooltip] Heals The Schism
	type = country_event
	title = catholic_flavor.14.title
	desc = catholic_flavor.14.desc

	illustration_tags = {
		10 = interior
	}

	trigger = {
		religion = religion:orthodox
		country_exists = c:PAP
		c:PAP = {
			religion = religion:catholic
			has_ruler = yes
		}
		NOT = {
			has_variable = schism_conversion_rejected
		}
		location:constantinople = {
			dominant_religion = religion:catholic
		}
		location:moscow = {
			dominant_religion = religion:catholic
		}
	}

	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
		hidden_effect = {
			c:PAP = {
				save_scope_as = target_country
				ruler ?= {
					save_scope_as = target_character
				}
			}
		}
	}

	option = {
		name = catholic_flavor.14.a
		change_religion = religion:catholic
		change_religion_for_ruler_and_family = { country = ROOT religion = religion:catholic }

		custom_tooltip = catholic_flavor.14.a.tt
		hidden_effect = {
			every_pop = {
				limit = {
					religion = religion:orthodox
				}
				split_pop = {
					fraction = 0.25
					religion = religion:catholic
				}
			}
		}
		add_prestige = prestige_extreme_penalty
	}
	option = {
		name = catholic_flavor.14.b

		custom_tooltip = catholic_flavor.14.b.tt
		hidden_effect = {
			every_pop = {
				limit = {
					religion = religion:orthodox
				}
				split_pop = {
					fraction = 0.1
					religion = religion:catholic
				}
			}
		}
		add_stability = stability_ultimate_penalty
		set_variable = schism_conversion_rejected
	}
}

catholic_flavor.15 = { # The Feast of Fools
	type = country_event
	title = catholic_flavor.15.title
	desc = catholic_flavor.15.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:clergy   background = pop_type:clergy }
	}

	trigger = {
		OR = {
			current_month = 1
			current_month = 12
		}
		at_war = no
		religion = religion:catholic
		NOT = {
			international_organization:catholic_church = {
				has_variable = feast_of_fools_outlawed
			}
		}
	}

	option = { # Allow the event to continue
		name = catholic_flavor.15.a

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
		add_estate_satisfaction = {
			type = estate_type:peasants_estate
			value = estate_satisfaction_weak_bonus
		}
	}

	option = { # Stop the making fun of the church
		name = catholic_flavor.15.b

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_weak_bonus
		}
		add_estate_satisfaction = {
			type = estate_type:peasants_estate
			value = estate_satisfaction_mild_penalty
		}
	}

	option = { # Secret option: Glitterhoof
		name = catholic_flavor.15.c

		trigger = {
			stability < 0
			has_ruler = yes
			ruler = {
				OR = {
					has_trait = sinner
					has_trait = free_thinker
				}
			}
		}

		add_prestige = prestige_severe_bonus
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
		add_estate_satisfaction = {
			type = estate_type:peasants_estate
			value = estate_satisfaction_mild_bonus
		}
	}

	option = { # Secret Option: Hunchback
		name = catholic_flavor.15.d

		trigger = {
			owns = location:paris
			current_year > 1475
			current_year < 1590
		}

		create_character = {
				first_name = Quasimodo
				nickname = hunchback
				culture = culture:french
				estate = estate_type:peasants_estate
				birth_location = location:paris
				min_age = 25
			}
	}
}

catholic_flavor.16 = { #In Praise of Scribes - De Laude Scriptorium Manualium
	type = country_event
	title = catholic_flavor.16.title
	desc = catholic_flavor.16.desc

	illustration_tags = {
		10 = happy
		10 = interior
	}

	trigger = {
		religion = religion:catholic
		any_owned_non_rural_location = {
			has_building_with_at_least_one_level = scriptorium
		}
	}


	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		random_owned_non_rural_location = {
			limit = {
				has_building_with_at_least_one_level = scriptorium
			}
			save_scope_as = target_location
		}
	}

	option = {
		name = catholic_flavor.16.a
		
		add_religious_influence = religious_influence_mild_bonus
		change_societal_value = { type = spiritualist_vs_humanist value = societal_value_minor_move_to_left }
	}

	option = {
		name = catholic_flavor.16.b

		add_estate_satisfaction = { type = estate_type:clergy_estate value = estate_satisfaction_weak_bonus }
	}
}

#Cardinal-Nephew
catholic_flavor.100 = {
	hide_portraits = yes
	type = country_event
	title = catholic_flavor.100.title
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { exists = scope:cardinal_nephew_province }
				desc = catholic_flavor.100.desc.a
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = catholic_flavor.100.desc.b
			}
		}
	}
	illustration_tags = {
		10 = interior
	}
	trigger = {
		tag = PAP
		any_known_country = {
			religion = religion:catholic
			root = { opinion = { target = prev value >= 25 } }
			opinion = { target = root value >= 25 }
			NOT = {
				has_variable = pap_cardinal_nephew_flag
			}
			any_owned_location = {
				NOT = { has_building = building_type:seat_of_cardinal }
				development >= 20.00
			}
			capital = {
				region = region:italy_region
			}
		}
		has_regent = no
	}
	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:nobles_estate }
		ruler ?= {
			save_scope_as = target_character
		}
		hidden_effect = { 
			random_known_country = {
				limit = {
					religion = religion:catholic
					root = { opinion = { target = prev value >= 25 } }
					opinion = { target = root value >= 25 }
					any_owned_location = { NOT = { has_building = building_type:seat_of_cardinal } }
					capital = { region = region:italy_region }
					NOT = {
						has_variable = pap_cardinal_nephew_flag
					}
				}
				save_scope_as = cardinal_nephew_country
				random_owned_location = {
					limit = {
						NOT = { has_building = building_type:seat_of_cardinal }
						development >= 20.00
					}
					save_scope_as = cardinal_nephew_province
				}
			}
		}
	}
	option = {
		name = catholic_flavor.100.a
		add_prestige = prestige_weak_bonus
		add_government_power = government_power_mild_bonus
	}
	option = {
		name = catholic_flavor.100.b
		add_government_power = government_power_weak_penalty
		if = {
			limit = { exists = scope:cardinal_nephew_country }
			scope:cardinal_nephew_country = {
				set_variable = { name = pap_cardinal_nephew_flag value = 1 }
			}
		}
		if = {
			limit = { exists = scope:cardinal_nephew_province }
			scope:cardinal_nephew_country = {
				trigger_event_non_silently = { id = catholic_flavor.101 }
			}
		}
	}
}

#"A Cardinal-Nephew from the [GetCountry('PAP').GetGovernment.GetRulerTitle]"
#cardinal_nephew_province is available
catholic_flavor.101 = {
	#This event can only be sent to a country by the Pope so we know that from = PAP
	type = country_event
	title = catholic_flavor.101.title
	desc = catholic_flavor.101.desc
		illustration_tags = {
		10 = interior
	}

	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
		c:PAP.ruler ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = catholic_flavor.101.a
		scope:cardinal_nephew_province = {
			change_building_level_in_location = { building = building_type:seat_of_cardinal value = 1 }
		}
		add_religious_influence = religious_influence_extreme_bonus
		add_prestige = prestige_mild_penalty

		c:PAP = {
			add_opinion = { target = root modifier = opinion_cardinal_nephew }
			reverse_add_opinion = { target = root modifier = opinion_cardinal_nephew }
			trigger_event_silently = { id = catholic_flavor.102 }
		}
		custom_tooltip = {
			text = catholic_flavor.101.a.tt
			every_known_country = {
				limit = { num_cardinals >= 1 }
				add_opinion = { target = root modifier = opinion_popes_pet }
			}
		}
	}

	option = {
		name = catholic_flavor.101.b
		add_prestige = prestige_weak_bonus
		c:PAP = {
			trigger_event_silently = { id = catholic_flavor.103 }
		}
	}
}

#Accepted Cardinal-Nephew
#cardinal_nephew_province is available
#cardinal_nephew_country is available
catholic_flavor.102 = {
	type = country_event
	title = catholic_flavor.102.title
	desc = catholic_flavor.102.desc
		illustration_tags = {
		10 = interior
	}
	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
	}
	option = {
		name = catholic_flavor.102.a
		show_as_tooltip = {
			add_opinion = { target = scope:cardinal_nephew_country modifier = opinion_cardinal_nephew }
			reverse_add_opinion = { target = scope:cardinal_nephew_country modifier = opinion_cardinal_nephew }
		}
	}
}

#"Refused Cardinal-Nephew"
#cardinal_nephew_province is available
#cardinal_nephew_country is available
catholic_flavor.103 = {
	type = country_event
	title = catholic_flavor.103.title
	desc = catholic_flavor.103.desc
		illustration_tags = {
		10 = interior
	}
	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
	}
	option = {
		name = catholic_flavor.103.a
		add_prestige = prestige_weak_penalty
	}
}

catholic_flavor.1000 = {
	type = country_event
	title = catholic_flavor.1000.title
	desc = catholic_flavor.1000.desc

	illustration_tags = {
		10 = interior
	}
	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }

		
	}

	option = {
		name = catholic_flavor.1000.a

		scope:actor = {
			trigger_event_non_silently = catholic_flavor.1001
		}

		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				"c:PAP.opinion(scope:actor)" < -50
			}
		}
	}

	option = {
		name = catholic_flavor.1000.b

		trigger = {
			NOT = {
				scope:actor = c:PAP
			}
		}

		scope:actor = {
			trigger_event_non_silently = catholic_flavor.1002
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				"c:PAP.opinion(scope:actor)" > 50
			}
		}
	}
}

catholic_flavor.1001 = {
	type = country_event
	title = catholic_flavor.1000.title
	desc = catholic_flavor.1001.desc

	illustration_tags = {
		10 = interior
	}
	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
	}

	option = {
		name = catholic_flavor.1001.a

		scope:target_location = {
			construct_building = {
				building_type = building_type:seat_of_cardinal
			}
		}
		remove_variable = cost_of_cardinal
	}
}

catholic_flavor.1002 = {
	type = country_event
	title = catholic_flavor.1000.title
	desc = catholic_flavor.1002.desc

	illustration_tags = {
		10 = interior
	}
	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
	}

	option = {
		name = catholic_flavor.1002.a

		add_religious_influence = {
			value = var:cost_of_cardinal
		}

		remove_variable = cost_of_cardinal
	}
}

catholic_flavor.9000 = {
	type = country_event
	title = catholic_flavor.9000.title
	desc = catholic_flavor.9000.desc

	illustration_tags = {
		10 = interior
	}
	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:clergy_estate }
	}

	option = {
		name = catholic_flavor.9000.a

		if = {
			limit = {
				NOT = {
					government_type = government_type:theocracy
				}
			}
			change_government_type = government_type:theocracy
		}
		add_reform = government_reform:papacy_reform
	}
}