namespace = court_flavor_events


scripted_trigger is_valid_neutral_country_for_culture = {
	is_subject = no
	this != root
	NOT = { is_allied_with = { target = root }  }
	NOT = { is_rival_of = root }
	NOT = { is_enemy_of = root }
	NOT = { is_at_war_with = root }
	within_diplomatic_range = root
}


court_flavor_events.1 = {
	hide_portraits = yes
	type = country_event
	title = court_flavor_events.1.title
	desc = court_flavor_events.1.desc

	trigger = {
		is_subject = no
		has_regent = no
		any_cabinet_character = {
			culture ?= {
				NOT = { is_primary_or_accepted_in = root }
				any_country_in_culture = {
					is_valid_neutral_country_for_culture = yes
					count > 0
				}
			}
		}
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		save_scope_as = from
		random_cabinet_character = {
			limit = {
				culture ?= {
					NOT = { is_primary_or_accepted_in = root }
					any_country_in_culture = {
						is_valid_neutral_country_for_culture = yes
					}
				}
			}
			save_scope_as = advisor


			culture = {
				random_country_in_culture = {
					limit = {
						is_valid_neutral_country_for_culture = yes
					}

					save_scope_as = advisor_liaisons_target_country
				}
			}
		}
	}

	option = {
		name = court_flavor_events.1.a

		custom_tooltip = {
			text = court_flavor_events.1.A.tooltip

			random_list = {
				2 = {
					scope:advisor_liaisons_target_country = {
						trigger_event_non_silently = { id = court_flavor_events.2 days = 15 }
					}
				}
				1 = {
					trigger_event_non_silently = { id = court_flavor_events.10 days = 15 }
				}
			}
		}
	}
	option = {
		name = court_flavor_events.1.b
		add_prestige = prestige_mild_bonus
	}
}

court_flavor_events.2 = {
	type = country_event
	title = court_flavor_events.2.title
	desc = court_flavor_events.2.desc
	trigger = {
		country_exists = scope:from
	}
	illustration_tags = {
		10 = regular
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.2.a
		scope:from = {
			add_opinion = { target = root modifier = opinion_court_events_accept }
			trigger_event_non_silently = { id = court_flavor_events.3 days = 15 }
		}
	}
	option = {
		name = court_flavor_events.2.b
		scope:from = {
			add_opinion = { target = root modifier = opinion_court_events_rebuke_1 }
			trigger_event_non_silently = { id = court_flavor_events.4 days = 15 }
		}
	}
	option = {
		name = court_flavor_events.2.c
		add_prestige = prestige_mild_bonus
		scope:from = {
			add_opinion = { target = root modifier = opinion_court_events_rebuke }
			trigger_event_non_silently = { id = court_flavor_events.5 days = 15 }
		}
	}
}

court_flavor_events.3 = {
	type = country_event
	title = court_flavor_events.3.title
	desc = court_flavor_events.3.desc
	trigger = {
		country_exists = scope:advisor_liaisons_target_country
	}
	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.3.a
		scope:advisor_liaisons_target_country = {
			add_opinion = { target = root modifier = opinion_court_events_accept }
		}
	}
}

court_flavor_events.4 = {
	type = country_event
	title = court_flavor_events.4.title
	desc = court_flavor_events.4.desc
		illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	trigger = {
		country_exists = scope:advisor_liaisons_target_country
	}

	option = {
		name = court_flavor_events.4.a
		add_prestige = prestige_mild_penalty
	}
}

court_flavor_events.5 = {
	type = country_event
	title = court_flavor_events.5.title
	desc = court_flavor_events.5.desc
		illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	trigger = {
		country_exists = scope:advisor_liaisons_target_country
	}

	option = {
		name = court_flavor_events.5.a
		add_prestige =  prestige_mild_penalty
		scope:advisor_liaisons_target_country = {
			add_opinion = { target = root modifier = opinion_court_events_rebuke }
		}
	}
}

court_flavor_events.10 = {
	type = country_event
	title = court_flavor_events.10.title
	desc = court_flavor_events.10.desc
	illustration_tags = {
		10 = angry
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.10.a
		random_list = {
			1 = {
				custom_tooltip = {
					text = court_flavor_events.10.A.tt1
					scope:advisor_liaisons_target_country = {
						trigger_event_silently = { id = court_flavor_events.2 days = 15 }
					}
				}
			}
			1 = {
				custom_tooltip = {
					text = court_flavor_events.10.A.tt2
					scope:advisor_liaisons_target_country = {
						trigger_event_silently = { id = court_flavor_events.12 days = 15 }
					}
				}
			}
		}
	}
	option = {
		name = court_flavor_events.10.b
		custom_tooltip =  {
			text = court_flavor_events.10.B.tt
			scope:advisor_liaisons_target_country = {
				trigger_event_silently = { id = court_flavor_events.15 }
			}
		}
		scope:advisor = {
			add_character_modifier = { modifier = arrested_character years = -1 mode = add_and_extend }
		}
		remove_from_cabinet = scope:advisor
	}
}

court_flavor_events.11 = {
	type = country_event
	title = court_flavor_events.11.title
	desc = court_flavor_events.11.desc
	trigger = {
		scope:advisor = {
			is_alive = yes
		}
	}
	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.11.a
		add_prestige = prestige_severe_penalty
	}
}

court_flavor_events.12 = {
	type = country_event
	title = court_flavor_events.12.title
	desc = court_flavor_events.12.desc
	trigger = {
		scope:advisor = {
			is_alive = yes
		}
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.12.a
		scope:advisor = {
			move_country = root
		}
		scope:from = {
			trigger_event_non_silently = { id = court_flavor_events.11 days = 15 }
			add_opinion = { target = root modifier = opinion_court_events_annoyed }
		}
	}
	option = {
		name = court_flavor_events.12.b
		add_prestige = prestige_severe_bonus
		scope:from = {
			add_opinion = { target = root modifier = opinion_court_events_grateful }
			trigger_event_non_silently = { id = court_flavor_events.13 }
		}
	}
}

court_flavor_events.13 = {
	type = country_event
	title = court_flavor_events.13.title
	desc = court_flavor_events.13.desc
	trigger = {
		scope:advisor = {
			is_alive = yes
		}
	}
	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.13.a
		scope:advisor = {
			add_character_modifier = { modifier = arrested_character years = -1 mode = add_and_extend }
		}
		remove_from_cabinet = scope:advisor
	}
}

court_flavor_events.15 = {
	type = country_event
	title = court_flavor_events.15.title
	desc = court_flavor_events.15.desc

	trigger = {
		scope:advisor = {
			is_alive = yes
		}
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = court_flavor_events.15.a
		add_prestige = prestige_severe_bonus
		scope:from = {
			add_opinion = { target = root modifier = opinion_court_events_interfered }
			trigger_event_non_silently = { id = court_flavor_events.16 days = 15 }
		}
	}
	option = {
		name = court_flavor_events.15.b
		add_prestige = prestige_severe_penalty
	}
}

court_flavor_events.16 = {
	type = country_event
	title = court_flavor_events.16.title
	desc = court_flavor_events.16.desc
	trigger = {
		country_exists = scope:from
		scope:advisor = {
			is_alive = yes
		}
	}
	illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.16.a
		add_prestige = prestige_severe_penalty
		scope:advisor_liaisons_target_country = {
			add_opinion = { target = root modifier = opinion_court_events_released_compatriot }
			trigger_event_silently = { id = court_flavor_events.17 days = 15 }
		}
	}
	option = {
		name = court_flavor_events.16.b
		scope:advisor_liaisons_target_country = {
			add_opinion = { target = root modifier = opinion_court_events_held_compatriot }
			trigger_event_silently = { id = court_flavor_events.18 days = 15 }
		}
		kill_character = scope:advisor
	}
}

court_flavor_events.17 = {
	type = country_event
	title = court_flavor_events.17.title
	desc = court_flavor_events.17.desc
	trigger = {
		country_exists = scope:from
		scope:advisor = {
			is_alive = yes
		}
	}
	illustration_tags = {
		10 = happy
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}



	option = {
		name = court_flavor_events.17.a
		scope:advisor = {
			remove_character_modifier = arrested_character
			move_country = root
		}
	}
}

court_flavor_events.18 = {
	type = country_event
	title = court_flavor_events.18.title
	desc = court_flavor_events.18.desc
	trigger = {
		country_exists = scope:from
		scope:advisor = {
			is_alive = yes
		}
	}
		illustration_tags = {
		10 = angry
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.18.a
	}
}

court_flavor_events.20 = {
	type = country_event
	title = court_flavor_events.20.title
	desc = court_flavor_events.20.desc
	trigger = {
		any_cabinet_character = {
			total_abilities >= 130
			birth_location != root.capital
			birth_location.owner ?= root
		}
		at_war = no
		num_loans < 10
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}


	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:burghers_estate }
		random_cabinet_character = {
			limit = {
				total_abilities >= 130
				birth_location != root.capital
				birth_location.owner ?= root
			}
			save_scope_as = advisor
			birth_location = {
				save_scope_as = corrupt_advisor_location
			}
		}


	}

	option = {
		name = court_flavor_events.20.a
		scope:corrupt_advisor_location = {
			change_development  = development_mild_bonus
		}
		add_legitimacy = legitimacy_mild_penalty
	}
	option = {
		name = court_flavor_events.20.b
		add_legitimacy = legitimacy_mild_bonus
		remove_from_cabinet = scope:advisor
		scope:advisor = {
			add_character_modifier = { modifier = arrested_character years = 3 mode = add_and_extend }
		}
	}
}

court_flavor_events.21 = {
	type = country_event
	title = court_flavor_events.21.title
	desc = court_flavor_events.21.desc
	trigger = {
		at_war = yes
		any_cabinet_character = {
			religion ?= {
				this != root.religion
				any_country_in_religion = {
					is_at_war_with = root
				}
			}
		}
	}
	illustration_tags = {
		10 = exterior
	}


	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:nobles_estate }
		random_cabinet_character = {
			limit = {
				religion ?= {
					this != root.religion
					any_country_in_religion = {
						is_at_war_with = root
					}
				}
			}
			save_scope_as = advisor

			religion = {
				random_country_in_religion = {
					limit= {
						is_at_war_with = root
					}
					save_scope_as = religious_enemy_country
				}
			}
		}
	}

	option = {
		name = court_flavor_events.21.a
		scope:advisor = {
			move_country = scope:religious_enemy_country
		}
	}
}

court_flavor_events.22 = {
	type = country_event
	title = court_flavor_events.22.title
	desc = court_flavor_events.22.desc
	trigger = {
		any_cabinet_character = {
			exists = birth_location.owner
			birth_location.owner != root
			culture ?= {
				NOT = { is_primary_or_accepted_in = root }
			}
		}
	}
	illustration_tags = {
		10 = happy
		10 = interior
	}


	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		random_cabinet_character = {
			limit = {
				exists = birth_location.owner
				birth_location.owner != root
				culture = {
					NOT = { is_primary_or_accepted_in = root }
				}
			}
			save_scope_as = advisor
		}
	}

	option = {
		name = court_flavor_events.22.a
		add_prestige = prestige_mild_bonus
		add_government_power = government_power_mild_bonus
	}
}

court_flavor_events.25 = {
	hide_portraits = yes
	type = country_event
	title = court_flavor_events.25.title
	desc = court_flavor_events.25.desc

	trigger = {
		at_war = yes
		any_cabinet_character = {
			birth_location = {
				owner ?= {
					is_at_war_with = root
				}
			}
		}
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}


	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		save_scope_as = from
		random_cabinet_character = {
			limit = {
				birth_location.owner ?= {
					is_at_war_with = root
				}
			}
			save_scope_as = advisor

			birth_location.owner = {
				save_scope_as = advisor_enemy_country
			}
		}
	}

	option = {
		name = court_flavor_events.25.a
		scope:advisor = { move_country = scope:advisor_enemy_country }
	}
	option = {
		name = court_flavor_events.25.b
		add_estate_satisfaction = { type = estate_type:nobles_estate value = -0.10 }

		random_list = {
			1 = {
				custom_tooltip = {
					text = court_flavor_events.10.A.tt2
					scope:advisor_enemy_country = {
						trigger_event_silently = { id = court_flavor_events.27 days = 15 }
					}
				}
			}
			2 = {
				custom_tooltip = {
					text = court_flavor_events.10.A.tt1
					trigger_event_silently = { id = court_flavor_events.26 days = 15 }
				}
			}
		}
	}
}

court_flavor_events.26 = {
	type = country_event
	title = court_flavor_events.26.title
	desc = court_flavor_events.26.desc
	trigger = {
		at_war = yes
		scope:advisor = {
			is_alive = yes
		}
		is_at_war_with = scope:advisor_enemy_country
	}
	illustration_tags = {
		10 = happy
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.26.a
		lift_fog_of_war = scope:advisor_enemy_country
	}
}

court_flavor_events.27 = {
	type = country_event
	title = court_flavor_events.27.title
	desc = court_flavor_events.27.desc
	trigger = {
		at_war = yes
		country_exists = scope:from
		is_at_war_with =  scope:from

		scope:advisor = {
			is_alive = yes
		}
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = court_flavor_events.27.a
		scope:advisor = {
			move_country = root
		}
		lift_fog_of_war = scope:from

		scope:from = {
			trigger_event_silently = { id = court_flavor_events.28 days = 15 }
		}
	}
}

court_flavor_events.28 = {
	type = country_event
	title = court_flavor_events.28.title
	desc = court_flavor_events.28.desc
		illustration_tags = {
		10 = angry
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.28.a
		add_prestige = prestige_severe_penalty
	}
}

court_flavor_events.30 = {
	type = country_event
	title = court_flavor_events.30.title
	desc = court_flavor_events.30.desc

	trigger = {
		any_cabinet_character = {
			culture ?= {
				NOT = { is_primary_or_accepted_in = root }
				any_country_in_culture = {
					OR = {
						is_rival_of = root
						is_at_war_with = root
						is_allied_with = { target = root }
					}
				}
			}
		}
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}


	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		random_cabinet_character = {
			limit = {
				culture = {
					NOT = { is_primary_or_accepted_in = root }
					any_country_in_culture = {
						OR = {
							is_rival_of = root
							is_at_war_with = root
							is_allied_with = { target = root }
						}
					}
				}
			}
			save_scope_as = advisor

			culture = {
				random_country_in_culture = {
					limit = {
						OR = {
							is_rival_of = root
							is_at_war_with = root
							is_allied_with = { target = root }
						}
					}
					save_scope_as = advisor_antiliaisons_target_country
				}
			}
		}

	}

	option = {
		name = court_flavor_events.30.a
		add_opinion = { target = scope:advisor_antiliaisons_target_country modifier = advisor_antiliaisons }
		reverse_add_opinion = { target = scope:advisor_antiliaisons_target_country  modifier = advisor_spurious_accusations }

		save_scope_as  = from

		add_estate_satisfaction = { type = estate_type:nobles_estate value = 0.10 }
		scope:advisor_antiliaisons_target_country = {
			trigger_event_non_silently = { id = court_flavor_events.31 days = 15 }
		}
	}
	option = {
		name = court_flavor_events.30.b
		add_prestige = prestige_mild_penalty
		random_list = {
			1 = {
				trigger_event_non_silently = { id = court_flavor_events.32 days = 15 }
			}
			3 = {
			}
		}
	}
}

court_flavor_events.31 = {
	type = country_event
	title = court_flavor_events.31.title
	desc = court_flavor_events.31.desc
	illustration_tags = {
		10 = angry
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.31.a
		show_as_tooltip = {
			reverse_add_opinion = { target = scope:from modifier = advisor_antiliaisons }
			add_opinion = { target = scope:from modifier = advisor_spurious_accusations }
		}
	}
}

court_flavor_events.32 = {
	type = country_event
	title = court_flavor_events.32.title
	desc = court_flavor_events.32.desc
		illustration_tags = {
		10 = angry
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.32.a
		add_opinion = { target =  scope:advisor_antiliaisons_target_country modifier = advisor_antiliaisons }
		reverse_add_opinion = { target = scope:advisor_antiliaisons_target_country modifier = advisor_spurious_accusations }
		scope:advisor_antiliaisons_target_country = {
			trigger_event_silently = { id = court_flavor_events.31 }
		}
	}
	option = {
		name = court_flavor_events.32.b
		add_stability = stability_mild_penalty
		add_estate_satisfaction = { type = estate_type:nobles_estate value = -0.10 }
	}
}

court_flavor_events.35 = {
	type = country_event
	title = court_flavor_events.35.title
	desc = court_flavor_events.35.desc
	trigger = {

		any_rival = {
			NOT = {
				is_at_war_with = root
				is_subject_of = root
			}
			religion.group = root.religion.group
		}
	}
	illustration_tags = {
		10 = interior
	}
	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:nobles_estate }
		random_rival = {
			limit = {
				NOT = {
					is_at_war_with = root
					is_subject_of = root
				}
				religion.group = root.religion.group
			}
			save_scope_as = exile_country
		}
		if = {
			limit = {
				scope:exile_country = {
					country_type = pop
				}
			}
			scope:exile_country = {
				random_owned_nomad_pop = {
					location = { save_scope_as = target_birth_location }
				}
			}
		}
		else_if = {
			limit = {
				scope:exile_country = {
					country_type = building
				}
			}
			scope:exile_country = {
				random_owned_foreign_building = {
					location = { save_scope_as = target_birth_location }
				}
			}
		}
		else = {
			scope:exile_country = { capital = { save_scope_as = target_birth_location } }
		}
		create_character = {
			estate = estate_type:nobles_estate
			female = no
			adm = { 50 90 }
			dip = { 50 90 }
			mil = { 50 90 }
			birth_location = scope:target_birth_location
			culture = scope:target_birth_location.dominant_culture
			religion = scope:target_birth_location.dominant_religion
			create_in_limbo = yes
			save_scope_as = advisor
		}
	}



	option = {
		name = court_flavor_events.35.a
		scope:advisor = { move_country = root }
		add_prestige = prestige_mild_bonus
		save_scope_as = from

		scope:exile_country = {
			add_opinion = { target = root modifier = opinion_took_in_exiles }
		}

		trigger_event_silently = { id = court_flavor_events.36 days = 15 }
	}
	option = {
		name = court_flavor_events.35.b
		reverse_add_opinion = { target = scope:exile_country modifier = opinion_turned_away_exiles }
		hidden_effect = { kill_character_silently = scope:advisor }
	}
}

court_flavor_events.36 = {
	type = country_event
	title = court_flavor_events.36.title
	desc = court_flavor_events.36.desc
	trigger = {
		country_exists = scope:exile_country
		scope:advisor = {
			is_alive = yes
		}
		scope:exile_country = {
			any_owned_location = {
				dominant_culture = scope:advisor.culture
				not = {
					province_definition = root.capital.province_definition
				}
			}
		}
		total_population > 5
	}
		illustration_tags = {
		10 = interior
	}

	immediate = {
		event_illustration_estate_background_effect = { background = estate_type:nobles_estate }
		scope:exile_country = {
			random_owned_location = {
				limit = {
					dominant_culture = scope:advisor.culture
					not = {
						province_definition = root.capital.province_definition
					}
				}
				save_scope_as = target_location
			}
		}
	}

	option = {
		name = court_flavor_events.36.a


		add_migration = {
			owner = scope:exile_country
			from = scope:target_location.province_definition
			to = root.capital.province_definition
			culture = scope:advisor.culture
			amount = 0.1
			months = 60
		}



		reverse_add_opinion = { target = scope:exile_country  modifier = opinion_took_in_exiles }
		scope:exile_country = {
			trigger_event_non_silently = { id = court_flavor_events.37 days = 15 }
		}
	}
	option = {
		name = court_flavor_events.36.b
		add_prestige = prestige_mild_penalty
	}
}

court_flavor_events.37 = {
	type = country_event
	title = court_flavor_events.37.title
	desc = court_flavor_events.37.desc
	illustration_tags = {
		10 = angry
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}


	option = {
		name = court_flavor_events.37.a
		reverse_add_opinion = { target = scope:from modifier = opinion_hosting_exiles }
	}
}

court_flavor_events.39 = {
	type = country_event
	title = court_flavor_events.39.title
	desc = court_flavor_events.39.desc
	trigger = {
		tag = PAP
		religion = religion:catholic
		has_ruler = yes
		religion = {
			any_country_in_religion = {
				any_cabinet_character = {
					religion != religion:catholic
					religion.group = religion_group:christian
				}
				has_regent = no
				count > 0
			}
		}
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		ruler = { save_scope_as = target_pope }
		religion = {
			random_country_in_religion = {
				limit = {
					any_cabinet_character = {
						religion != religion:catholic
						religion.group = religion_group:christian
					}
					has_regent = no
				}
				save_scope_as = heathen_advisor_country

				random_cabinet_character = {
					limit = {
						religion != religion:catholic
						religion.group = religion_group:christian
					}
					save_scope_as = advisor
				}
			}
		}

	}

	option = {
		name = court_flavor_events.39.a
		add_devotion = devotion_mild_bonus
		scope:heathen_advisor_country = {
			trigger_event_non_silently = { id = court_flavor_events.40 }
			add_opinion = { target = root modifier = opinion_interfering_pope }
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = 0.10 }
	}
	option = {
		name = court_flavor_events.39.b
		add_devotion = devotion_mild_penalty
		add_estate_satisfaction = { type = estate_type:clergy_estate value = -0.10 }
	}
}

court_flavor_events.40 = {
	type = country_event
	title = court_flavor_events.40.title
	desc = court_flavor_events.40.desc
	illustration_tags = {
		10 = regular
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
	}


	option = {
		name = court_flavor_events.40.a
		scope:advisor = { move_country = c:PAP }

		c:PAP = {
			add_opinion = { target = root modifier = opinion_bowed_to_papal_demand_advisor }
			trigger_event_silently = { id = court_flavor_events.41 }
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = 0.10 }

	}
	option = {
		name = court_flavor_events.40.b
		c:PAP = {
			add_opinion = { target = root modifier = opinion_rejected_papal_demand_advisor }
			trigger_event_silently = { id = court_flavor_events.42 }
		}
		add_estate_satisfaction = { type = estate_type:clergy_estate value = -0.20 }
		add_religious_influence = religious_influence_severe_penalty
	}
}

court_flavor_events.41 = {
	type = country_event
	title = court_flavor_events.41.title
	desc = court_flavor_events.41.desc
		illustration_tags = {
		10 = happy
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.41.a
		show_as_tooltip = {
			reverse_add_opinion = { target = scope:from modifier = opinion_bowed_to_papal_demand_advisor }
		}
		kill_character_silently = scope:advisor
	}
}

court_flavor_events.42 = {
	type = country_event
	title = court_flavor_events.42.title
	desc = court_flavor_events.42.desc
		illustration_tags = {
		10 = angry
		10 = interior
	}
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
	}
	option = {
		name = court_flavor_events.42.a
		show_as_tooltip = {
			reverse_add_opinion = { target = scope:from modifier = opinion_rejected_papal_demand_advisor }
		}
	}
}

