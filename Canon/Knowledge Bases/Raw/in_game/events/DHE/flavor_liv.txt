namespace = flavor_liv

flavor_liv.1 = {
	type = country_event
	title = flavor_liv.1.title
	desc = flavor_liv.1.desc
	historical_info = flavor_liv.1.historical_info

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	fire_only_once = yes
	dynamic_historical_event = {
		tag = LIV
		from = 1450.1.1
		to = 1550.1.1
		monthly_chance = 10
	}

	trigger = {
		is_subject = no
		OR = {
			societal_value:centralization_vs_decentralization >= 50
			num_subjects >= 3
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:clergy_estate }
		government_reform:livonian_confederation = {
			save_scope_as = target_government_reform
		}

		unlock_government_reform_effect = {
			type = livonian_confederation
		}
	}

	option = {
		name = flavor_liv.1.a

		historical_option = yes

		ai_chance = {
			factor = 1
		}

		add_reform = scope:target_government_reform

		add_government_power = government_power_extreme_bonus
	}

	option = {
		name = flavor_liv.1.b

		ai_chance = {
			factor = 0
		}

		every_subject = {
			add_liberty_desire = liberty_desire_severe_plus
		}

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_extreme_penalty
		}

		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_large_move_to_left
		}
	}
}

flavor_liv.2 = {
	type = country_event
	title = flavor_liv.2.title
	desc = flavor_liv.2.desc

	illustration_tags = {
		10 = happy
		10 = interior
	}

	fire_only_once = yes
	dynamic_historical_event = {
		tag = LIV
		tag = TEU
		tag = SWE
		tag = DAN
		from = 1556.1.1
		to = 1590.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:tallinn
		gold >= {
			value = monthly_income_trade_and_tax
			multiply = 6
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

		create_character = {
			estate = estate_type:clergy_estate
			first_name = name_balthazar
			last_name = Russow
			birth_date = 1536.1.1
			birth_location = location:tallinn
			culture = ROOT.culture
			religion = ROOT.religion
			artist = writer
			artist_skill = { 0.6 0.7 }
			create_in_limbo = yes
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_liv.2.a

		ai_chance = {
			factor = 1
		}

		change_gold_effect = { scale = -6 }

		scope:target_character = {
			move_country = ROOT
		}

		trigger_event_non_silently = {
			id = flavor_liv.3
			years = { 5 10 }
		}
		custom_tooltip = teu_event_within_5_to_10_years
	}

	option = {
		name = flavor_liv.2.b

		ai_chance = {
			factor = 0
		}

		add_prestige = prestige_mild_penalty

		hidden_effect = {
			kill_character_silently = {
				target = scope:target_character
			}
		}
	}
}

flavor_liv.3 = {
	type = country_event
	title = flavor_liv.3.title
	desc = flavor_liv.3.desc

	illustration_tags = {
		10 = regular
		10 = interior
	}

	trigger = {
		scope:target_character = {
			is_alive = yes
		}
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		capital = {
			create_art = {
				artist = scope:target_character
				key = chronica_provinz_lyfflandt
				quality = { 65 77 }
				type = work_of_art_type:chronicle
			}
			work_of_art:chronica_provinz_lyfflandt = {
				save_scope_as = target_work_of_art
			}
		}
	}

	option = {
		name = flavor_liv.3.a

		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				prestige <= 75
			}
			modifier = {
				factor = 2
				prestige <= 50
			}
			modifier = {
				factor = 2
				prestige <= 25
			}
		}

		add_prestige = prestige_severe_penalty

		scope:target_character.culture = {
			add_cultural_influence = cultural_influence_mild_bonus
		}
	}

	option = {
		name = flavor_liv.3.b

		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				government_power <= 75
			}
			modifier = {
				factor = 2
				government_power <= 50
			}
			modifier = {
				factor = 2
				government_power <= 25
			}
		}

		destroy_art = scope:target_work_of_art
		scope:target_character = {
			banish_character = yes
		}

		add_government_power = government_power_extreme_bonus
	}
}