namespace = flavor_ben

flavor_ben.2 = { #Town Administration
	type = country_event
	title = flavor_ben.2.title
	desc = flavor_ben.2.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = BEN
		from = 1500.1.1
		to = 1550.1.1
		monthly_chance = 2
	}

	trigger = {
		location:benin.owner ?= root
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:burghers_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_ben.2.a
		
		unlock_building_effect = { type = eghabho_nore_mansion }
	}

	option = {
		name = flavor_ben.2.b
		
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_right
		}
	}
}

flavor_ben.3 = { #Replacing the Uzama aka Nobles
	type = country_event
	title = flavor_ben.3.title
	desc = flavor_ben.3.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BEN
		from = 1450.1.1
		to = 1500.1.1
		monthly_chance = 1
	}

	trigger = {
		location:benin.owner ?= root
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		location:benin = {
			save_scope_as = target_location
		}

		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_ben.3.a
		
		custom_tooltip = {
			text = ben_purge_non_innocent_nobles_tt
			capital ?= {
				every_pop = {
					limit = {
						pop_type = pop_type:nobles
					}
					add_pop_size = {
						value = pop_size
						multiply = -0.05
					}
				}
			}
		}

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_severe_penalty
		}

		add_legitimacy = legitimacy_severe_bonus

		set_variable = ben_upset_nobility_flag
	}

	option = {
		name = flavor_ben.3.b
		
		add_stability = stability_mild_bonus
	}
}

flavor_ben.4 = { #Uzama revolt
	hide_portraits = yes
	type = country_event
	title = flavor_ben.4.title
	desc = flavor_ben.4.desc
	fire_only_once = yes
	
	dynamic_historical_event = {
		tag = BEN
		from = 1500.1.1
		to = 1821.1.1
		monthly_chance = 1
	}

	trigger = {
		has_variable = ben_upset_nobility_flag
		stability <= -10 #Added this so that if the player passes a law or revokes a privilege, the nobles rebel
	}

	illustration_tags = {
        10 = armed
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_rebel = {
			category = estate
			estate = nobles_estate
			name = uzama_revolt
			save_scope_as = target_rebel
		}

		remove_variable = ben_upset_nobility_flag

		ruler_or_regent ?= {
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_ben.4.a
		
		custom_tooltip = {
			text = ben_all_nobles_join_revolt
			every_owned_location = {
				limit = {
					any_pop = {
						owner = root
						pop_type = pop_type:nobles
					}
				}
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:nobles
					}
					change_pop_allegiance = scope:target_rebel
					add_pop_satisfaction = pop_satisfaction_ultimate_penalty
				}
			}
		}

		scope:target_rebel = {
			add_rebel_progress = 0.8
		}
	}

	option = {
		name = flavor_ben.4.b
		
		add_country_modifier = {
			modifier = ben_restored_nobles_rights
            years = 10
            mode = add_and_extend
		}

		destroy_rebel = scope:target_rebel
	}
}

flavor_ben.5 = {
	type = country_event
	title = flavor_ben.5.title
	desc = flavor_ben.5.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = BEN
		from = 1450.1.1
		to = 1821.1.1
		monthly_chance = 1
	}
	
	trigger = {
		stability <= -10
	}

	illustration_tags = {
        10 = angry
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler_or_regent ?= {
			save_scope_as = target_character
		}	
	}

	option = {
		name = flavor_ben.5.a
		
		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
		add_estate_satisfaction = {
			type = estate_type:peasants_estate
			value = estate_satisfaction_mild_penalty
		}
		add_estate_satisfaction = {
			type = estate_type:burghers_estate
			value = estate_satisfaction_mild_penalty
		}
	}
}

#Benin Slave Trade
flavor_ben.6 = {
	type = country_event
	title = flavor_ben.6.title
	desc = flavor_ben.6.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = BEN
		from = 1400.1.1
		to = 1821.1.1
		monthly_chance = 1
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	
	trigger = {
		total_effective_building_levels:slave_center >= 20	
	}

	option = {
		name = flavor_ben.6.a
		
		custom_tooltip = {
			text = ben_slave_building_upgrade_tt
			set_variable = ben_more_levels_of_slaves_building_flag
		}
	}

	option = {
		name = flavor_ben.6.b
		
		change_societal_value = {
			type = serfdom_vs_free_subjects
			value = societal_value_huge_move_to_right
		}
	}
}