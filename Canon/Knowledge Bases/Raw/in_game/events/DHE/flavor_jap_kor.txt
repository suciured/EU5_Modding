namespace = flavor_jap_kor

flavor_jap_kor.1 = {
	type = country_event
	title = flavor_jap_kor.1.title
	desc = flavor_jap_kor.1.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = JAP
		from = 1500.1.1
		to = 1821.1.1
		monthly_chance = 10
	}

	trigger = {
		country_exists = c:KOR
		exists = international_organization:middle_kingdom.leader_country
		c:KOR != international_organization:middle_kingdom.leader_country
		is_leader_of_international_organization = international_organization:japanese_shogunate
		NOR = {
			is_situation_active = situation:sengoku
			is_situation_active = situation:nanbokuchou
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		c:KOR = {
			save_scope_as = target_country
		}
		international_organization:middle_kingdom.leader_country = {
			save_scope_as = target_country2
		}
		save_scope_as = from_country
	}

	option = {
		name = flavor_jap_kor.1.a
		
		ai_chance = {
			factor = 0.5
		}

		historical_option = yes

		declare_war_with_cb = {
			target = scope:target_country
			type = casus_belli:cb_annex
		}

		scope:target_country = {
			trigger_event_non_silently = flavor_jap_kor.2
		}
	}

	option = {
		name = flavor_jap_kor.1.b
		
		ai_chance = {
			factor = 0.35
		}
	
		add_casus_belli = {
			target = scope:target_country
			type = casus_belli:cb_annex
		}
	}

	option = {
		name = flavor_jap_kor.1.c

		ai_chance = {
			factor = 0.15
		}
	
		add_army_tradition = army_tradition_extreme_penalty
	}
}

flavor_jap_kor.2 = {
	type = country_event
	title = flavor_jap_kor.2.title
	desc = flavor_jap_kor.2.desc
	
	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		if = {
			limit = {
				is_ai = no
			}
			scope:from_country = {
				event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
			}
		}		
		
		"war_with_country(scope:from_country)" = {
			save_scope_as = target_war
		}
	}

	option = {
		name = flavor_jap_kor.2.a
		
		add_government_power = government_power_extreme_bonus
		add_manpower = {
			value = max_manpower
			multiply = 0.1
		}

		add_country_modifier = {
			mode = replace
			modifier = kor_solidarity_against_adversity
			years = 10
		}
	}
}