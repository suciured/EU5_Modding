scripted_trigger plc_cossack_interest_location_trigger = {
	OR = {
		vegetation = grasslands
		vegetation = sparse
	}
	climate = continental
	region = region:steppes_region
}

scripted_trigger is_livonian_or_associated = {
	OR = {
		this = scope:livonian_scope
		scope:livonian_scope.overlord ?= this
	}
}

scripted_trigger can_target_livonian_lands = {
	great_power_score > {
		value = ROOT.great_power_score
	}
}

scripted_trigger is_port_on_the_baltic = {
	any_neighbor_location = {
		OR = {
			area = area:eastern_baltic_sea
			area = area:western_baltic_sea
		}
	}
}

namespace = flavor_plc


flavor_plc.1 = {
	type = country_event

	title = flavor_plc.1.title
	desc = flavor_plc.1.desc
	historical_info = flavor_plc.1.historical_info
	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1570.1.1
		to = 1650.1.1
		monthly_chance = 1
	}

	trigger = {
		religion = religion:catholic
		country_exists = c:FRA
		OR = {
			ruler_or_regent ?= { culture = culture:french }
			has_mutual_scripted_relation = {
				type = relation_type:alliance
				target = c:FRA
			}
			top_overlord = c:FRA
		}
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }

	}
	option = {
		name = flavor_plc.1.a
		historical_option = yes

		change_gold_effect = { scale = -5 }
		c:FRA = {
			culture = {
				add_cultural_tradition = cultural_tradition_mild_bonus
				add_cultural_influence = cultural_influence_mild_bonus
			}
			add_army_tradition = army_tradition_mild_bonus
		}
		if = {
			limit = {
				c:FRA = {
					NOR = {
						is_enemy_of = root
						is_rival_of = root
					}
				}
			}
			add_opinion_mutual_effect = {
				modifier = opinion_order_of_the_holy_spirit
				target = c:FRA
			}
		}
		add_army_tradition = army_tradition_extreme_bonus
		add_prestige = prestige_mild_bonus
		ruler_or_regent ?= {
			add_mil = 10
		}
		if = {
			limit = {
				has_heir = yes
			}
			heir ?= { add_mil = 5 }
		}
	}

	option = {
		name = flavor_plc.1.b

		add_estate_satisfaction = { type = estate_type:nobles_estate value = estate_satisfaction_mild_penalty }
	}
}

# Naval Commission
flavor_plc.2 = {
	type = country_event
	title = flavor_plc.2.title
	desc = flavor_plc.2.desc
	historical_info = flavor_plc.2.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1565.4.1
		to = 1600.1.1
		monthly_chance = 10
	}
	
	illustration_tags = {
		10 = regular
		10 = exterior
	}

	trigger = {
		any_port_in_country = {
			is_port_on_the_baltic = yes
		}
	}

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		ordered_port_in_country = {
			limit = {
				is_port_on_the_baltic = yes
			}
			order_by = {
				value = development
			}
			max = 1
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_plc.2.a

		historical_option = yes

		add_navy_tradition = navy_tradition_extreme_bonus

		change_societal_value = {
			type = land_vs_naval
			value = societal_value_move_to_right
		}

		scope:target_location = {
			add_location_modifier = {
				mode = add_and_extend
				modifier = plc_start_of_a_navy
				years = -1
			}
		}

		add_yearly_gold = -1
	}

	option = {
		name = flavor_plc.2.b

		add_army_tradition = army_tradition_weak_bonus
	}
}

flavor_plc.3 = {
	type = country_event
	title = flavor_plc.3.title
	desc = flavor_plc.3.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1600.4.1
		to = 1630.1.1
		monthly_chance = 20
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		create_character = { # https://en.wikipedia.org/wiki/Arend_Dickmann
			first_name = name_arnold.dutch_dialect.alternative
			last_name = Dijckmann
			adm = { 30 60 } dip = { 30 60 } mil = { 80 100 }
			birth_date = 1572.1.1
			birth_location = location:amsterdam
			estate = estate_type:burghers_estate
			create_in_limbo = yes
			save_scope_as = plc_arend_dickmann_scope
		}
	}

	trigger = {
		navy_size > 10
		expected_navy_size > 20
	}

	option = {
		name = flavor_plc.3.a

		scope:plc_arend_dickmann_scope = {
			move_country = ROOT
		}

		add_navy_tradition = navy_tradition_mild_bonus

		add_yearly_gold = -0.25
	}

	option = {
		name = flavor_plc.3.b

		add_prestige = prestige_weak_bonus
		hidden_effect = {
			kill_character_silently = scope:plc_arend_dickmann_scope
		}
	}
}

# Sarmatism
flavor_plc.4 = {
	type = country_event
	title = flavor_plc.4.title
	desc = flavor_plc.4.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1590.1.1
		to = 1821.1.1
		monthly_chance = 5
	}

	illustration_tags = {
		10 = interior
		10 = regular
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	trigger = {
		exists = character:jan_dlugosz
		great_power_score >= 600
		societal_value:aristocracy_vs_plutocracy <= -90
	}

	option = {
		name = flavor_plc.4.a

		unlock_policy_effect = {
			type = plc_sarmatism
		}

		add_policy = policy:plc_sarmatism

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_weak_bonus
		}
	}

	option = {
		name = flavor_plc.4.b

		unlock_policy_effect = {
			type = plc_sarmatism
		}
	}
}

# Thursday Dinners
# https://en.wikipedia.org/wiki/Thursday_Dinners
flavor_plc.5 = {
	type = country_event
	title = flavor_plc.5.title
	desc = flavor_plc.5.desc
	historical_info = flavor_plc.5.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1750.4.1
		to = 1821.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = interior
		10 = happy
	}

	trigger = {
		has_ruler = yes
		societal_value:traditionalist_vs_innovative > 0
		has_embraced_institution = institution:enlightenment
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}

	option = {
		name = flavor_plc.5.a

		culture = {
			add_cultural_influence = cultural_tradition_extreme_bonus
		}

		add_prestige = prestige_mild_bonus

		capital ?= {
			change_prosperity = prosperity_weak_bonus
		}
	}
}

# Order of the White Eagle
flavor_plc.6 = {
	type = country_event
	title = flavor_plc.6.title
	desc = flavor_plc.6.desc
	historical_info = flavor_plc.6.historical_info

	trigger = {
		has_ruler = yes
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		ruler = {
			save_scope_as = target_character
		}
	}

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1700.4.1
		to = 1750.1.1
		monthly_chance = 10
	}

	option = {
		name = flavor_plc.6.a
		historical_option = yes

		unlock_law_effect = { type = order_of_chivalry_law }
		unlock_policy_effect = { type = order_of_the_white_eagle_policy }
		add_policy = policy:order_of_the_white_eagle_policy
		scope:target_character = { join_specific_order_of_chivalry = { type = order_of_the_white_eagle } }

		change_gold_effect = { scale = -12 }

		add_prestige = prestige_mild_bonus
	}

	option = {
		name = flavor_plc.6.b

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

# Collegium Nobilium
flavor_plc.7 = {
	type = country_event
	title = flavor_plc.7.title
	desc = flavor_plc.7.desc

	trigger = {
		religion.group = religion_group:christian
		capital = {
			OR = {
				has_building = building_type:jesuit_college
				has_building = building_type:university
			}
		}
	}

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1730.4.1
		to = 1780.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = interior
		10 = happy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:nobles_estate }
		religion = {
			save_scope_as = root_religion
		}
		capital = {
			save_scope_as = target_capital
		}
	}

	option = {
		name = flavor_plc.7.a

		add_yearly_gold = -0.5

		add_country_modifier = {
			mode = add_and_extend
			modifier = pol_excellent_noble_education
			years = 25
		}

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
	}

	option = {
		name = flavor_plc.7.b

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_weak_penalty
		}
	}
}

# https://en.wikipedia.org/wiki/Commission_of_National_Education
flavor_plc.8 = {
	type = country_event
	title = flavor_plc.8.title
	desc = flavor_plc.8.desc
	historical_info = flavor_plc.8.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1750.4.1
		to = 1821.1.1
		monthly_chance = 10
	}

	trigger = {
		has_embraced_institution = institution:enlightenment
		total_effective_building_levels:local_schools >= 25
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	
	option = {
		name = flavor_plc.8.a

		historical_option = yes

		culture = {
			add_cultural_tradition = cultural_tradition_weak_bonus
		}

		add_research_progress = research_progress_severe_bonus

		add_country_modifier = {
			mode = add_and_extend
			modifier = plc_polish_commission
			years = 30
		}
	}

	option = {
		name = flavor_plc.8.b

		add_stability = stability_mild_bonus
	}
}

# Lisowczycy
flavor_plc.9 = {
	type = country_event
	title = flavor_plc.9.title
	desc = flavor_plc.9.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1605.4.1
		to = 1821.1.1
		monthly_chance = 10
	}

	trigger = {
		religion:calvinist = {
			is_religion_enabled = yes
		}
		owns = location:kaunas
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		create_character = {
			estate = estate_type:nobles_estate
			first_name = name_alexander
			birth_date = 1575.6.1
			birth_location = location:vilnius
			trait_category = general
			culture = culture:greater_polish
			religion = religion:calvinist
			dynasty = dynasty:lisowski_dynasty
			adm = { 30 40 }
			dip = { 30 40 }
			mil = { 80 90 }
			save_scope_as = target_character
		}
		create_mercenary = {
			name = pol_lisowczycy
			home = location:kaunas
			categories = {
				army_cavalry = 20
			}
			leader = scope:target_character
			cost_multiplier = 0.5
			save_scope_as = lisowczycy_scope
		}
	}

	option = {
		name = flavor_plc.9.a

		change_gold_effect = { scale = -6 }

		hire_mercenary = scope:lisowczycy_scope
	}

	option = {
		name = flavor_plc.9.b
	}
}

# Piotr Skarga
flavor_plc.10 = {
	type = country_event
	title = flavor_plc.10.title
	desc = flavor_plc.10.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1560.4.1
		to = 1600.1.1
		monthly_chance = 10
	}

	trigger = {
		religion = religion:catholic
	}

	illustration_tags = {
		10 = interior
		10 = regular
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		create_character = {
			estate = estate_type:clergy_estate
			first_name = name_peter
			last_name = Skarga
			birth_date = 1536.2.2
			birth_location = location:grojec
			create_in_limbo =  yes
			religion = religion:catholic
			save_scope_as = target_character
		}
		religion:catholic = {
			save_scope_as = skarga_religion
		}
	}

	option = {
		name = flavor_plc.10.a

		scope:target_character = {
			move_country = ROOT
		}

		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_large_move_to_left
		}
		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_move_to_left
		}

		custom_tooltip = {
			text = every_non_catholic_pop_loses_satisfaction
			every_pop = {
				limit = {
					owner = root
					religion != religion:catholic
				}
				add_pop_satisfaction = pop_satisfaction_severe_penalty
			}
		}
	}

	option = {
		name = flavor_plc.10.b

		add_religious_influence_if_valid = {
			VALUE = -10
		}
		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
		hidden_effect = {
			kill_character_silently = scope:target_character
		}
	}
}

# John Sobieski
flavor_plc.11 = {
	type = country_event
	title = flavor_plc.11.title
	desc = flavor_plc.11.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1650.1.1
		to = 1690.1.1
		monthly_chance = 10
	}

	trigger = {
		owns = location:busk
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		create_character = {
			estate = estate_type:nobles_estate
			first_name = name_john
			birth_date = 1629.8.17
			dynasty = dynasty:sobieski_dynasty
			birth_location = location:busk
			culture = culture:lesser_polish
			religion = root.religion
			trait_category = general
			adm = { 80 95 } dip = { 75 95 } mil = { 85 99 }
			create_in_limbo = yes
			add_trait = trait:hussar_commander
			save_scope_as = target_character
		}
	}

	option = {
		name = flavor_plc.11.a
		historical_option = yes

		add_yearly_gold = -1

		scope:target_character = {
			move_country = ROOT
		}

		add_army_tradition = army_tradition_extreme_bonus
	}

	option = {
		name = flavor_plc.11.b

		hidden_effect = {
			kill_character_silently = scope:target_character
		}
		add_prestige = prestige_mild_penalty
		add_legitimacy = legitimacy_weak_bonus
	}
}

# Załuski Library
flavor_plc.12 = {
	type = country_event
	title = flavor_plc.12.title
	desc = flavor_plc.12.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1750.1.1
		to = 1821.1.1
		monthly_chance = 10
	}

	trigger = {
		capital = {
			has_building = building_type:library
		}
	}

	illustration_tags = {
		10 = interior
		10 = happy
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:burghers_estate background = estate_type:clergy_estate }
		capital = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_plc.12.a

		add_country_modifier = {
			mode = add_and_extend
			modifier = plc_zaluski_library_modifier
			size = {
				value = 2.5
			}
			years = 20
		}

		add_estate_satisfaction = {
			type = estate_type:clergy_estate
			value = estate_satisfaction_mild_bonus
		}

		add_yearly_gold = -1
	}

	option = {
		name = flavor_plc.12.b

		add_country_modifier = {
			mode = add_and_extend
			modifier = plc_zaluski_library_modifier
			years = 20
		}

		add_yearly_gold = -0.25
	}

	option = {
		name = flavor_plc.12.c


		add_legitimacy = legitimacy_mild_bonus

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_bonus
		}
	}
}

# Corps of Cadets
flavor_plc.13 = {
	type = country_event
	title = flavor_plc.13.title
	desc = flavor_plc.13.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1750.1.1
		to = 1821.1.1
		monthly_chance = 10
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		capital = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_plc.13.a

		change_gold_effect = { scale = -12 }

		add_country_modifier = {
			mode = add_and_extend
			modifier = plc_school_of_chivalry_modifier
			years = 25
		}

		scope:target_location = {
			change_development = development_weak_bonus
		}
	}

	option = {
		name = flavor_plc.13.b

		change_gold_effect = { scale = -24 }

		add_country_modifier = {
			mode = add_and_extend
			modifier = plc_school_of_chivalry_burghers_modifier
			years = 25
		}

		scope:target_location = {
			change_development = development_mild_bonus
		}

		change_societal_value = {
			type = serfdom_vs_free_subjects
			value = societal_value_move_to_right
		}

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
	}

	option = {
		name = flavor_plc.13.c

		add_prestige = prestige_mild_penalty
		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_weak_penalty
		}
	}
}

# https://en.wikipedia.org/wiki/Treaty_of_Hadiach
flavor_plc.14 = {
	type = country_event
	title = flavor_plc.14.title
	desc = flavor_plc.14.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1600.1.1
		to = 1821.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:peasants_estate background = estate_type:peasants_estate }
	}

	trigger = {
		country_has_estate = estate_type:cossacks_estate
		OR = {
			"estate_power(estate_type:cossacks_estate)" >= 0.25
			num_estate_privileges:cossacks_estate > 3
		}
		any_owned_location = {
			plc_cossack_interest_location_trigger = yes
			count >= 20
		}
	}

	option = {
		name = flavor_plc.14.a

		hidden_effect = {
			unlock_estate_privilege_effect = {
				type = plc_cossack_treaty_of_hadiach
			}
		}
		grant_estate_privilege = estate_privilege:plc_cossack_treaty_of_hadiach
		add_stability = stability_severe_penalty

		custom_tooltip = plc_name_will_change
	}

	option = {
		name = flavor_plc.14.b

		add_estate_satisfaction = {
			type = estate_type:cossacks_estate
			value = estate_satisfaction_radical_penalty
		}
		custom_tooltip = {
			text = every_cossack_pop
			every_pop = {
				limit = {
					owner = root
					is_cossacks = yes
				}
				add_pop_satisfaction = pop_satisfaction_ultimate_penalty
			}
		}
	}
}

# Konfederacja Event
flavor_plc.15 = {
	type = country_event
	title = flavor_plc.15.title
	desc = flavor_plc.15.desc

	trigger = {
		tag = PLC
		NOT = { has_variable = flavor_plc_15_cooldown }
		any_character = {
			has_estate = estate_type:nobles_estate
			has_dynasty = yes
			can_become_a_leader = yes
			trigger_if = {
				limit = {
					ROOT.ruler = { has_dynasty = yes }
				}
				dynasty = ROOT.ruler.dynasty
			}
		}
	}

	illustration_tags = {
		10 = armed
		10 = exterior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }

		set_variable = {
			name = flavor_plc_15_cooldown
			value = yes
			years = 35
		}

		random_character = {
			limit = {
				has_estate = estate_type:nobles_estate
				has_dynasty = yes
				can_become_a_leader = yes
				trigger_if = {
					limit = {
						ROOT.ruler = { has_dynasty = yes }
					}
					dynasty = ROOT.ruler.dynasty
				}
			}
			save_scope_as = target_character
		}

		create_rebel = {
			category = estate
			estate = nobles_estate
			name = plc_confederation_rebelname
			save_scope_as = target_rebel
		}

		scope:target_character = {
			change_character_allegiance = scope:target_rebel
		}

		if = {
			limit = {
				num_possible_estate_privileges:nobles_estate > 0
			}

			"estate(estate_type:nobles_estate)" = {
				random_possible_privilege = {
					root = { grant_estate_privilege = prev }
				}
			}

		}

		set_local_variable = {
			name = amount_of_rebelling_provinces
			value = { 0.15 0.33 }
		}

		change_local_variable = {
			name = amount_of_rebelling_provinces
			multiply = num_provinces
		}

		set_local_variable = {
			name = amount_of_gold_to_nobles
			value = {
				value = monthly_income_trade_and_tax
				multiply = 24
				multiply = "estate_power(estate_type:nobles_estate)"
			}
		}

		ordered_province = {
			max = local_var:amount_of_rebelling_provinces
			every_location_in_province = {
				every_pop = {
					limit = {
						owner = root
						pop_type = pop_type:nobles
					}
					change_pop_allegiance =  scope:target_rebel
				}
			}
		}
	}

	option = {
		name = flavor_plc.15.a

		scope:target_rebel = {
			start_civil_war = {}
		}

		trigger_event_silently = flavor_plc.16
	}

	option = {
		name = flavor_plc.15.b

		add_stability = stability_mild_penalty
		if = {
			limit = {
				exists = scope:target_privilege
			}
			grant_estate_privilege = scope:target_privilege
		}
		else = {
			"estate(estate_type:nobles_estate)" = {
				estate_add_gold = {
					value = local_var:amount_of_gold_to_nobles
				}
			}
			add_gold = {
				value = local_var:amount_of_gold_to_nobles
				multiply = -1
			}
		}
	}
}

# Rokosz
flavor_plc.16 = {
	type = country_event
	title = flavor_plc.16.title
	desc = flavor_plc.16.desc

	major = yes
	major_trigger = {
		OR = {
			is_neighbor_of = ROOT
			is_rival_of = ROOT
			is_enemy_of = ROOT
		}
	}

	illustration_tags = {
        10 = angry
        10 = exterior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	
	option = {
		name = flavor_plc.16.a

		custom_tooltip = PLC_our_neighbors_rivals_enemies_have_been_notified
		add_army_tradition = army_tradition_extreme_bonus
	}
}

# Chmielnicki Uprising
flavor_plc.17 = {
	type = country_event
	title = flavor_plc.17.title
	desc = flavor_plc.17.desc
	historical_info = flavor_plc.17.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1640.4.1
		to = 1700.1.1
		monthly_chance = 10
	}

	trigger = {
		estate_satisfaction:cossacks_estate <= 0.5

		any_owned_location = {
			plc_cossack_interest_location_trigger = yes
			count >= 10
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		create_character = {
			estate = estate_type:cossacks_estate
			first_name = name_bogdan
			last_name = Chmielnicki
			birth_date = 1595.12.27
			birth_location = location:chyhyryn
			culture = culture:ruthenian
			religion = religion:orthodox

			adm = { 50 70 } dip = { 40 60 } mil = { 60 75 }
			save_scope_as = target_character
		}

		create_rebel = {
			category = estate
			estate = cossacks_estate
			name = plc_chmielnicki_uprising
			save_scope_as = target_rebel
		}

		scope:target_character = {
			change_character_allegiance = scope:target_rebel
		}

		every_owned_location = {
			limit = {
				plc_cossack_interest_location_trigger = yes
			}
			every_pop = {
				limit = {
					owner = root
					pop_type = pop_type:tribesmen
					is_cossacks = yes
				}
				change_pop_allegiance = scope:target_rebel
				add_pop_satisfaction = pop_satisfaction_extreme_penalty
			}
		}
	}

	option = {
		name = flavor_plc.17.a

		scope:target_rebel = {
			start_civil_war = {}
		}
	}
}

# Make Warsaw the Capital
flavor_plc.18 = {
	type = country_event
	title = flavor_plc.18.title
	desc = flavor_plc.18.desc
	historical_info = flavor_plc.18.historical_info

	trigger = {
		owns = location:warsaw
		capital != location:warsaw
		at_war = no
		is_during_bankruptcy = no
	}

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1600.4.1
		to = 1821.1.1
		monthly_chance = 10
	}

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		location:warsaw = {
			save_scope_as = target_location
		}
		capital = {
			save_scope_as = current_capital
		}
		ruler_or_regent ?= { save_scope_as = target_character }
	}

	option = {
		name = flavor_plc.18.a

		historical_option = yes

		change_gold_effect = { scale = -8 }

		move_capital_event_effect = {
			from = scope:current_capital
			to = scope:target_location
		}

		add_country_modifier = {
			mode = add_and_extend
			modifier = plc_capital_change_modifier
			years = 25
		}		
	}

	option = {
		name = flavor_plc.18.b

		scope:current_capital.province = {
			every_location_in_province = {
				change_prosperity = prosperity_weak_bonus
			}
		}
		add_stability = stability_weak_bonus
	}
}

# Liberum Veto
flavor_plc.19 = {
	type = country_event
	title = flavor_plc.19.title
	desc = flavor_plc.19.desc

	trigger = {
		NOT = { has_estate_privilege = estate_privilege:liberum_veto }
		societal_value:aristocracy_vs_plutocracy <= -50
	}

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		from = 1500.4.1
		to = 1821.1.1
		monthly_chance = 10
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	
	option = {
		name = flavor_plc.19.a

		hidden_effect = {
			set_variable = unlock_liberum_veto_variable
		}
		grant_estate_privilege = estate_privilege:liberum_veto
	}

	option = {
		name = flavor_plc.19.b

		hidden_effect = {
			set_variable = unlock_liberum_veto_variable
		}

		add_country_modifier = {
			mode = add_and_extend
			modifier = plc_blackmail_of_the_nobles
			years = 50
		}
		custom_tooltip = plc_take_the_privilege_to_remove_the_modifier
	}
}

#Golden Liberty
flavor_plc.20 = {
	type = country_event
	title = flavor_plc.20.title
	desc = flavor_plc.20.desc

	trigger = {
		calc_true_if = {
			has_estate_privilege = estate_privilege:golden_liberty
			has_estate_privilege = estate_privilege:liberum_veto
			has_estate_privilege = estate_privilege:pacta_conventa
			has_estate_privilege = estate_privilege:privilege_of_koszyce
			has_estate_privilege = estate_privilege:nihil_novi
			has_estate_privilege = estate_privilege:nieszawa_privileges
			amount >= 4
		}
	}

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		tag = POL
		from = 1600.1.1
		to = 1700.1.1
		monthly_chance = 10
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	
	option = {
		name = flavor_plc.20.a

		culture = {
			add_cultural_influence = cultural_influence_severe_bonus
		}

		add_stability = stability_mild_bonus
	}

	option = {
		name = flavor_plc.20.b

		add_country_modifier = {
			mode = add_and_extend
			modifier = plc_strive_for_reform
			years = 30
		}
		custom_tooltip = plc_as_long_as_modifier_is_active_revoking_privileges_will_be_easier
	}
}

# Unitary Church - Equal Rights for Orthodox Church
flavor_plc.1000 = {
	hide_portraits = yes
	type = country_event
	title = flavor_plc.1000.title
	desc = flavor_plc.1000.desc

	fire_only_once = yes
	dynamic_historical_event = {
		tag = PLC
		tag = POL
		from = 1500.1.1
		to = 1700.1.1
		monthly_chance = 10
	}

	trigger = {
		religion = religion:catholic
		OR = {
			any_owned_location = {
				count >= 30
				dominant_religion = religion:orthodox
			}
			religion_percentage_in_country = {
				religion = religion:orthodox
				value >= 0.1
			}
		}
	}

	illustration_tags = {
		10 = armed
		10 = interior
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		religion:orthodox = {
			save_scope_as = target_religion
		}
		location:kyiv = {
			save_scope_as = leader_of_the_kyiv_patriarchate
		}
	}

	option = {
		name = flavor_plc.1000.a

		unlock_estate_privilege_effect = {
			type = plc_empower_orthodox_nobility
		}

		grant_estate_privilege = estate_privilege:plc_empower_orthodox_nobility

		custom_tooltip = plc_required_for_further_events
	}

	option = {
		name = flavor_plc.1000.b

		custom_tooltip = {
			text = every_noble_pop_orthodox_loses_20_satisfaction
			every_pop = {
				limit = {
					owner = root
					religion = religion:orthodox
					pop_type = pop_type:nobles
				}
				add_pop_satisfaction = pop_satisfaction_severe_penalty
			}
		}

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_mild_penalty
		}
	}
}

# Unitary Church - Visit of the Patriarch
flavor_plc.1001 = {
	type = country_event
	title = flavor_plc.1001.title
	desc = flavor_plc.1001.desc
	historical_info = flavor_plc.1001.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		tag = LIT
		from = 1585.1.1
		to = 1610.1.1
		monthly_chance = 25
	}

	trigger = {
		has_estate_privilege = estate_privilege:plc_empower_orthodox_nobility
		owns = location:kyiv
		OR = {
			any_owned_location = {
				count >= 50
				dominant_religion = religion:orthodox
			}
			religion_percentage_in_country = {
				religion = religion:orthodox
				value >= 0.25
			}
		}
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		religion:orthodox = {
			save_scope_as = target_religion
		}
		location:kyiv = {
			save_scope_as = leader_of_the_kyiv_patriarchate
		}

		location:brest_litowsk = {
			save_scope_as = target_location
		}
	}

	option = {
		name = flavor_plc.1001.a

		add_country_modifier = {
			mode = add_and_extend
			modifier = plc_diplomatic_efforts_to_unify_churches
			years = -1
		}

		trigger_event_non_silently = {
			id = flavor_plc.1003
			months = { 18 24 }
		}

		trigger_event_non_silently = {
			id = flavor_plc.1002
			months = { 6 12 }
		}

		custom_tooltip = plc_revoking_empowered_orthodox_nobility_will_prevent
	}

	option = {
		name = flavor_plc.1001.b

		change_societal_value = {
			type = spiritualist_vs_humanist
			value = societal_value_move_to_left
		}

		revoke_estate_privilege = estate_privilege:plc_empower_orthodox_nobility
	}
}

# Unitary Church - Opposition
flavor_plc.1002 = {
	type = country_event
	title = flavor_plc.1002.title
	desc = flavor_plc.1002.desc
	historical_info = flavor_plc.1002.historical_info

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		set_local_variable = {
			name = amount_of_mostly_orthodox_provinces
			value = 0
		}
		every_province = {
			limit = {
				dominant_religion = religion:orthodox
			}
			change_local_variable = {
				name = amount_of_mostly_orthodox_provinces
				add = 1
			}
		}
		set_local_variable = {
			name = amount_of_locations_affected
			value = 0
		}
		ordered_province = {
			limit = {
				dominant_religion = religion:orthodox
			}
			order_by = { # distance * (1 - integration)
				value = "capital.distance_to(root.capital)"
				multiply = {
					value = 1
					subtract = province_average_control
				}
			}
			max = {
				value = local_var:amount_of_mostly_orthodox_provinces
				multiply = 0.4
			}

			change_local_variable = {
				name = amount_of_locations_affected
				add = 1
			}

			add_to_list = list_of_revolting_orthodox_provinces
		}
	}

	option = {
		name = flavor_plc.1002.a


		custom_tooltip = {
			text = flavor_plc.1002.tooltip
			every_in_list = {
				list = list_of_revolting_orthodox_provinces

				every_location_in_province = {
					every_pop = {
						limit = {
							owner = root
							religion = religion:orthodox
						}
						add_pop_satisfaction = pop_satisfaction_severe_penalty
					}
				}
			}
		}
	}
}

# Unitary Church - Union of Brest
flavor_plc.1003 = {
	type = country_event
	title = flavor_plc.1003.title
	desc = flavor_plc.1003.desc
	historical_info = flavor_plc.1003.historical_info

	illustration_tags = {
		10 = interior
		10 = happy
	}

	trigger = {
		has_estate_privilege = estate_privilege:plc_empower_orthodox_nobility
	}

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:clergy_estate background = estate_type:clergy_estate }
		set_variable = union_of_brest_flag
		create_international_organization = {
			type = international_organization_type:autocephalous_patriarchate
			add_country_to_international_organization = prev
			set_leader_country = prev
			set_variable = {
				name = seat
				value = location:kyiv
			}
			set_variable = catholic_patriarchate
			save_scope_as = target_io

			add_policy_to_international_organization = policy:dual_nature
			add_policy_to_international_organization = policy:byzantine_rites
		}
	}

	option = {
		name = flavor_plc.1003.a

		add_religious_influence_if_valid = {
			VALUE = 25
		}

		add_prestige = prestige_extreme_bonus

		if = {
			limit = {
				exists = scope:target_io
			}
			custom_tooltip = plc_patriarchate_tt
		}
		else = {
			custom_tooltip = plc_patriarchate_tt_no_scope
		}

		custom_tooltip = plc_revoked_privilege_will_destroy_io
	}
}

# Fate of the Livonian Confederation - Powerful Nobility
flavor_plc.2000 = {
	hide_portraits = yes
	type = country_event
	title = flavor_plc.2000.title
	desc = flavor_plc.2000.desc
	historical_info = flavor_plc.2000.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = LIV
		from = 1450.4.1
		to = 1821.1.1
		monthly_chance = 10
	}

	trigger = {
		is_ai = yes
		is_subject = no
		OR = {
			NOT = { country_exists = c:TEU }
			c:TEU = { is_subject = yes }
		}
		"estate_power(estate_type:nobles_estate)" >= 0.25
		trigger_if = {
			limit = {
				country_exists = c:PLC
			}
			c:PLC = { save_temporary_scope_as = polish_country }
		}
		trigger_else_if = {
			limit = {
				country_exists = c:POL
			}
			c:POL = { save_temporary_scope_as = polish_country }
		}
		trigger_else = {
			always = no
		}
		OR = {
			c:DAN ?= {
				can_target_livonian_lands = yes
			}
			c:SWE ?= {
				can_target_livonian_lands = yes
			}
			any_neighbor_country = {
				NOR = {
					c:SWE ?= {
						this = prev
					}
					c:DAN ?= {
						this = prev
					}
					this = scope:polish_country
				}
				can_target_livonian_lands = yes
			}
		}
	}

	illustration_tags = {
        10 = angry
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		if = {
			limit = {
				country_exists = c:PLC
			}
			c:PLC = { save_scope_as = polish_country }
		}
		else = {
			c:POL = { save_scope_as = polish_country }
		}
		random_list = {
			10 = {
				trigger = {
					country_exists = c:DAN
				}
				c:DAN = { save_scope_as = other_country }
			}
			10 = {
				trigger = {
					country_exists = c:SWE
				}
				c:SWE = { save_scope_as = other_country }
			}
			10 = {
				trigger = {
					any_neighbor_country = {
						NOR = {
							c:SWE ?= {
								this = prev
							}
							c:DAN ?= {
								this = prev
							}
							this = scope:polish_country
						}
						can_target_livonian_lands = yes
					}
				}
				random_neighbor_country = {
					limit = {
						NOR = {
							c:SWE ?= {
								this = prev
							}
							c:DAN ?= {
								this = prev
							}
							this = scope:polish_country
						}
						can_target_livonian_lands = yes
					}
					save_scope_as = other_country
				}
			}
		}
		if = {
			limit = {
				c:RUS ?= {
					can_target_livonian_lands = yes
				}
			}
			random = {
				chance = 75
				c:RUS = { save_scope_as = other_country }
			}
		}
		save_scope_as = livonian_scope
	}

	option = {
		name = flavor_plc.2000.a

		historical_option = yes

		change_societal_value = {
			type = centralization_vs_decentralization
			value = societal_value_large_move_to_left
		}

		scope:polish_country = {
			trigger_event_non_silently = {
				id = flavor_plc.2001
				days = { 30 60 }
			}
		}
	}
	option = {
		name = flavor_plc.2000.b

		add_estate_satisfaction = {
			type = estate_type:nobles_estate
			value = estate_satisfaction_extreme_bonus
		}

		scope:other_country = {
			trigger_event_non_silently = {
				id = flavor_plc.2001
				days = { 30 60 }
			}
		}
	}
}

# Fate of the Livonian Confederation - Event to accept or deny vassalage
flavor_plc.2001 = {
	hide_portraits = yes
	type = country_event
	title = flavor_plc.2001.title
	desc = flavor_plc.2001.desc
	historical_info = flavor_plc.2001.historical_info

	major =  yes
	major_trigger = {
		tag = scope:livonian_scope
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		c:DAN ?= {
			if = {
				limit = {
					can_target_livonian_lands = yes
				}
				add_to_list = potential_polish_rivals
			}
		}
		c:SWE ?= {
			if = {
				limit = {
					can_target_livonian_lands = yes
				}
				add_to_list = potential_polish_rivals
			}
		}
		scope:livonian_scope = {
			every_neighbor_country = {
				limit = {
					can_target_livonian_lands = yes
				}
				add_to_list = potential_polish_rivals
			}
		}
		save_scope_as = nation_helping
	}

	option = {
		name = flavor_plc.2001.a

		historical_option = yes

		scope:livonian_scope = {
			make_subject_of = {
				target = root
				type = subject_type:vassal
			}
		}

		drop_antagonism_bomb = {
			target = scope:livonian_scope.capital
			modifier = antagonism_subjugated_nation
			value = 15
		}

		random_in_list = {
			list = potential_polish_rivals
			trigger_event_non_silently = {
				id = flavor_plc.2002
			}
		}
	}

	option = {
		name = flavor_plc.2001.b

		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_minor_move_to_right
		}
		add_diplomats = diplomats_mild_bonus
	}
}

# Fate of the Livonian Confederation - Event for a random power to declare war
flavor_plc.2002 = {
	type = country_event
	title = flavor_plc.2002.title
	desc = flavor_plc.2002.desc
	historical_info = flavor_plc.2002.historical_info

	major =  yes
	major_trigger = {
		tag = scope:livonian_scope
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	
	option = {
		name = flavor_plc.2002.a

		historical_option =  yes

		declare_war_with_cb = {
			target = scope:livonian_scope
			type = casus_belli:cb_livonian_wars
		}
		change_societal_value = {
			type = belligerent_vs_conciliatory
			value = societal_value_minor_move_to_left
		}

		every_in_list = {
			list = potential_polish_rivals
			limit = {
				NOR = {
					this = ROOT
					is_allied_with = { target = ROOT }
				}
			}
			trigger_event_non_silently = {
				id = flavor_plc.2003
			}
		}
	}

	option = {
		name = flavor_plc.2002.b

		add_war_exhaustion = war_exhaustion_weak_bonus
	}
}

# Fate of the Livonian Confederation - Event for other powers to get their own cbs
flavor_plc.2003 = {
	type = country_event
	title = flavor_plc.2003.title
	desc = flavor_plc.2003.desc
	historical_info = flavor_plc.2003.historical_info

	major =  yes
	major_trigger = {
		is_livonian_or_associated = yes
	}

	illustration_tags = {
        10 = regular
        10 = interior
    }

	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
	}
	
	option = {
		name = flavor_plc.2003.a

		add_casus_belli = {
			target = scope:livonian_scope
			type = casus_belli:cb_livonian_wars
		}

		add_diplomats = diplomats_weak_bonus
	}
}

# Fate of the Livonian Confederation - Curonian Subject - Treaty of Vilnius
flavor_plc.2004 = {
	type = country_event
	title = flavor_plc.2004.title
	desc = flavor_plc.2004.desc
	historical_info = flavor_plc.2004.historical_info

	fire_only_once = yes
	dynamic_historical_event = {
		tag = POL
		tag = PLC
		from = 1337.4.1
		to = 1821.1.1
		monthly_chance = 10
	}

	trigger = {
		exists = c:KUR
		OR = {
			c:KUR = {
				is_ai = yes
				is_subject_of = ROOT
			}
			NOT = { country_exists = c:KUR }
		}
		at_war = no
		province_definition:courland_province = {
			any_location_in_province_definition = {
				percent >= 0.5
				is_owned_by_target_or_subject = { owner = ROOT }
			}
		}
	}

	illustration_tags = {
        10 = regular
        10 = exterior
    }

	immediate = {
		event_illustration_poptype_effect = { foreground = pop_type:soldiers background = pop_type:soldiers }
		province_definition:courland_province = {
			every_province_in_province_definition = {
				limit = {
					is_owned_by_target_or_subject = { owner = ROOT }
					owner != c:KUR
				}
				add_to_list = provinces_to_cede_to_KUR
			}
		}
		province_definition:semigalia_province = {
			every_province_in_province_definition = {
				limit = {
					is_owned_by_target_or_subject = { owner = ROOT }
					owner != c:KUR
				}
				add_to_list = provinces_to_cede_to_KUR
			}
		}
		c:KUR = {
			save_scope_as = target_country
		}
	}

	option = {
		name = flavor_plc.2004.a

		historical_option = yes

		every_in_list = {
			list = provinces_to_cede_to_KUR
			change_province_owner = scope:target_country
			change_province_integration = core
		}

		scope:target_country = {
			make_subject_of = {
				target = ROOT
				type = subject_type:vassal
			}

			add_country_modifier = {
				mode = add_and_extend
				modifier = plc_kurland_colonial_ambitions
			}
		}
	}

	option = {
		name = flavor_plc.2004.b

		add_prestige = prestige_mild_bonus
	}
}