namespace = johan
namespace = james

johan.74 = {
	type = country_event
	title = angry.peasants.test.title
	desc = angry.peasants.test.desc

	orphan = yes


	
	immediate = {
}

	option = {
		name = angry.peasants.test.a
		change_gold_effect = { scale = 4 }

	}
	option = {
		name = angry.peasants.test.b
		change_gold_effect = { scale = -2 }
	}
}



johan.999 = {
	type = country_event
	title = angry.peasants.test.title
	desc = angry.peasants.test.desc

	orphan = yes


	trigger = {
		estate_satisfaction:peasants_estate < 0.5
		legitimacy < 50
	}

	immediate = {

		ordered_pop = {
			max = 1
			order_by = pop_size
			limit = {
				pop_type = pop_type:peasants
			}
			save_scope_as = target_pop
		}
		ordered_pop = {
			max = 1
			order_by = pop_size
			limit = {
				pop_type = pop_type:peasants
			}
			save_scope_as = target_pop_bckg
		}
	}

	option = {
		name = angry.peasants.test.a
		ruler = { add_character_modifier = { modifier = muslim_hajj months = -1 mode = add_and_extend } }
		change_gold_effect = { scale = 8.40 }

	}
	option = {
		name = angry.peasants.test.b
		add_estate_satisfaction = { type = estate_type:clergy_estate
			value = estate_satisfaction_mild_penalty
		}
	}
}

# johan.9999 = {
# 	type = country_event
# 	title = angry.burghers.test.title
# 	desc = angry.burghers.test.desc

# 	orphan = yes

# 	illustration_tags = {
# 		10 = regular
# 		10 = burghers
# 		10 = interior_peasant
# 		10 = fire
# 	}

# 	trigger = {
# 		estate_satisfaction:burghers_estate < 0.5
# 		legitimacy < 50
# 	}

# 	immediate = {
# 		random_pop = {
# 			save_scope_as = target_pop
# 		}
# 		capital = {
# 			save_scope_as = target_location
# 		}
# 	}

# 	option = {
# 		name = angry.peasants.test.a
# 		ruler = { add_character_modifier = { modifier = muslim_hajj months = -1 mode = add_and_extend } }
# 		change_gold_effect = { scale = -2.40 }

# 	}
# 	option = {
# 		name = angry.peasants.test.b
# 		add_estate_satisfaction = {
# 			type = clergy_estate
# 			value = -0.1
# 		}
# 	}
# }

# johan.1999 = {
# 	type = country_event
# 	title = clergy.discussing.test.title
# 	desc = clergy.discussing.test.desc

# 	orphan = yes

# 	illustration_tags = {
# 		10 = characters_discussing
# 	}

# 	immediate = {
# 		random_pop = {
# 			save_scope_as = target_pop
# 		}
# 		capital = {
# 			save_scope_as = target_location
# 		}
# 	}

# 	option = {
# 		name = clergy.discussing.test.a
# 		ruler = { add_character_modifier = { modifier = muslim_hajj months = -1 mode = add_and_extend } }
# 		change_gold_effect = { scale = -2.40 }

# 	}
# 	option = {
# 		name =clergy.discussing.test.b
# 		add_estate_satisfaction = {
# 			type = clergy_estate
# 			value = -0.1
# 		}
# 	}
# }

johan.1 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	outcome = positive

	illustration_tags = {
		20 = institution
		10 = professional
		10 = bank
		10 = economy
	}

	orphan = yes #just for test...

	trigger = {
		#tag = SWE

		culture = culture:swedish
		culture = {
			language = language:latin_language
			cultural_tradition > 10
			cultural_influence <= culture:danish.cultural_influence
			cultural_view = { target = c:DAN.culture value > neutral }
			reverse_cultural_view = { target = culture:norwegian value = kindred }
		}
		court_language = language:scandinavian_language

		NOT = { capital = location:stockholm }

		location:stockholm = {
			vegetation = desert
			owner = c:DAN
		}
		capital = {
			location_key = uppsala
		}

		any_character = {
			has_character_modifier = better_morale
		}

		any_unit = {
			has_commander = yes
			has_unit_modifier = better_morale
		}
		has_country_modifier = better_morale
		NOT = { religion = { has_religion_modifier = better_morale } }

		capital = {
			has_location_modifier = better_morale
			province = {
				has_province_modifier = better_morale
			}
		}

		num_embraced_institutions > 1
		last_valid_ruler = {
		}
	}

	immediate = {
		random_character = {
			save_scope_as = target_first_character
		}
		random_character = {
			save_scope_as = target_second_character
		}
	}

	option = {
		name = johan.1.a
		historical_option = yes
		evil_option = yes

		culture = {
			change_language = dialect:tuscan_dialect
			add_cultural_tradition = cultural_tradition_extreme_bonus
			add_cultural_influence = cultural_influence_radical_bonus
			set_cultural_view = { target = c:DAN.culture value = kindred }
			reverse_set_cultural_view = { target = culture:finnish value = positive }
		}

	}

	option = {
		name = johan.1.b
		pay_price = price:change_heir_selection
		moral_option = yes

		random_character = {
			add_character_modifier = {
				modifier = better_morale
				days = 9711
				mode = add_and_extend
			}
		}

		add_country_modifier = {
			modifier = better_morale
			months = 6
			mode = add_and_extend
		}



		random_unit = {
			add_unit_modifier = {
				modifier = better_morale
				days = 127
				mode = add_and_extend
			}
		}
		religion = {
			add_religion_modifier = {
				modifier = better_morale
				days = 127
				mode = add_and_extend
			}
		}
	}



	option = {
		name = johan.1.c
		high_reward_option = yes
		random_character = {
			remove_character_modifier = better_morale
		}


		random_unit = {
			random_sub_unit = {
				damage_regiment = yes
			}
			remove_unit_modifier = better_morale
		}


		remove_country_modifier = better_morale
		religion = { remove_religion_modifier = better_morale }

		capital = {
			remove_location_modifier = better_morale
			province = {
				remove_province_modifier = better_morale
			}
		}

		character:fra_philip_vi_valois =
		{
			 remove_character_modifier = better_morale
		}

		research_advance = advance_type:guilds
	}



	option = {
		name = johan.1.d
		high_risk_option = yes
		culture = {
			add_cultural_tradition = cultural_tradition_extreme_bonus
			add_cultural_influence = cultural_influence_extreme_bonus
		}

		research_advance = advance_type:organized_religion

	}


	option = {
		name = johan.1.e
		change_culture = c:DAN.culture
		change_religion = religion:sunni
	}

	option = {
		name = johan.1.f
		set_court_language = dialect:tuscan_dialect
		set_liturgical_language = dialect:greek_language

	}

	option = {
		name = johan.1.g
		random_unit = { set_as_commander = owner.ruler }

		scope:target_first_character = {
			impregnate = owner.ruler.first_spouse

			set_first_name = owner.ruler
		}
		scope:target_second_character = {
			set_first_name = name_ramathibodi
		}
	}
}

johan.2 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	outcome = negative


orphan = yes #just for test...
	trigger = {

		any_country_sub_unit = {
			sub_unit_category = sub_unit_category:army_infantry
		}

		owns = location:stockholm

		c:FRA = { owns = location:london }
	}


	option = {
		name = johan.1.a
	}
}





johan.3 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	

	orphan = yes #just for test...
	trigger = {

		any_unit = {

			is_moving = no
			is_army = yes
			is_movement_locked = no
			morale_percentage = 0.73
			strength_percentage >= 0.20
			experience_percentage >= 0.95
			is_unit_locked = no
			is_exiled = no
			food_percentage < 0.654
			is_carrying_troops = no

		}
	}


	option = {
		name = johan.1.a
		random_army = {
			add_morale = 0.1
			add_subunit = unit_type:a_feudal_levy
			lock_unit = 30
			unlock_unit = yes
			add_food = 10

		}

	}
	option = {
		name = johan.1.b
		random_navy = {
			destroy_unit = yes
		}
		random_army = {
			add_morale = 0.2

		}
	}
	option = {
		name = johan.1.c
		random_navy = {
			set_unit_size = 0.01
			change_unit_owner = c:FIN
		}
	}
	option = {
		name = johan.1.d
		random_army = {
			damage_unit_percent = 0.07
			damage_unit_morale_percent = 0.2
		}
	}

}


johan.4 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	

	orphan = yes #just for test...
	trigger = {

		any_character = {
			dynasty = {
				dynasty_name = aspenas_atten
				dynasty_home = location:stockholm
			}
		}
		capital = {
			num_pop_type:peasants >= 4
			location_rank = location_rank:town
			raw_material = goods:iron

			any_pop = {
				religion = religion:catholic
				culture = culture:finnish
				pop_size > 0.2
				pop_type = pop_type:nobles
			}
		}
	}


	option = {
		name = johan.1.a
		random_ownable_location = {
			random_pop = {
				add_pop_size = 0.177
			}
		}
		capital = {
			random_pop = {
				change_pop_culture = culture:welsh
				change_pop_religion = religion:sunni
			}
		}

	}

	option = {
		name = johan.1.b
		location:stockholm = {
			random_pop = {
				change_pop_type = pop_type:clergy
			}
		}

	}

}







johan.5 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {

		capital = {
			raw_material = goods:iron
			prosperity < -0.25
			development < 20
			location_building_level = {
				building_type = building_type:bailiff
				value <= 3
			}
			has_building_with_at_least_one_level = glass_guild
			building_efficiency = {
				building_type = building_type:glass_guild
				value >= 0.25
			}

		}
		location:uppsala = {
			rgo_workers >= 2
		}
	}


	option = {
		name = johan.1.a
		location:uppsala = {
			change_max_raw_material_workers = 1
			change_prosperity = prosperity_tiny_penalty
			change_development = development_weak_bonus
		}
	}

	option = {
		name = johan.1.b
		random_ownable_location = {
			change_max_raw_material_workers = -231
			change_prosperity = prosperity_tiny_bonus
			change_development = development_mild_bonus
		}

	}

	option = {
		name = johan.1.c
		location:vadstena = {
			change_building_level_in_location = {
				building = building_type:bailiff
				value = 2
			}
		}
	}

	option = {
		name = johan.1.d
		location:vadstena = {
			change_building_level_in_location = {
				building = building_type:bailiff
				value = -3
			}
		}
	}


}







johan.6 = {
	type = country_event

	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		inflation > 0.1
		stability < 3
		c:FIN = { gold > 5 }
		manpower >= 4.2

		sailors > c:FIN.sailors

		can_pay_price = price:change_heir_selection
	}


	option = {
		name = johan.1.a
		pay_price = price:change_heir_selection
	}


}


johan.7 = {
	type = country_event

	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		ruler = {
			age_in_years > 13
			is_alive = no
			is_married = yes
			is_adult = no
			is_ruler = no
			is_consort = yes
			is_heir = no
			has_dynasty = yes
			is_dynasty_head = yes
			is_female = no
			is_pregnant = yes
			is_parent_of = root.consort
			is_child_of = root.consort
			is_sibling_of = root.consort
			is_close_relative = root.consort
			adm >= 33
			dip < 80
			mil = 3
			is_same_gender = root.consort
			is_immortal = yes

		}
	}


	option = {
		name = johan.1.a
		random_character = {
			limit = {
				is_married = no
			}
			marry_character = root.ruler.mother
			add_adm = 1
		}
		random_character = {
			add_mil = root.ruler.adm
		}
	}

	option = {
		name = johan.1.b
		c:FIN = { add_inflation = inflation_mild_penalty }
		add_stability = stability_mild_bonus
	}

	option = {
		name = johan.1.c
		add_stability = stability_weak_bonus
		add_inflation = inflation_weak_bonus
		add_manpower = 5
		add_sailors = -0.2
		add_gold = 32
		add_war_exhaustion = war_exhaustion_weak_penalty
	}
}




johan.8 = {
	type = country_event

	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		capital = {
			institution_progress:feudalism > 32
		}
		government_type = government_type:monarchy
		NOT = { government_type = c:ENG.government_type }

		NOT = {  num_of_diplomats <= 3 }
		is_subject = no
		c:FIN = { opinion = { target = root  value >= 10 } }

		NOT = { has_opinion = { modifier = opinion_confront_spies target = c:FIN } }


	}


	option = {
		name = johan.1.a
		add_legitimacy = legitimacy_extreme_bonus
		add_diplomats = 2

		reverse_add_opinion = { target = c:DAN modifier = opinion_confront_spies }
	}

	option = {
		name = johan.1.b
		capital = {
			change_institution_progress = {
				type = institution:feudalism
				value = 0.2
			}
		}
	}


}




johan.9 = {
	type = country_event

	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		giving_scripted_relation = {
			type = relation_type:embargo_nation
			target = c:LIV
		}


		spy_network = { target = c:DAN  value >= 10 }
		favors = { target = c:LIV  value >= 4 }
		c:FIN = {  trust = { target = root  value >= 1 } }

		c:DAN = { estate_satisfaction:nobles_estate < 0.5 }
	}


	option = {
		name = johan.1.a
		add_government_power = government_power_weak_bonus
		location:stockholm = {
			add_pop = {
				culture = c:LIV.culture
				religion = c:LIV.religion
				type = pop_type:nobles
				size = 0.1
			}
		}
	}
	option = {
		name = johan.1.b
		add_favors = { target = c:LIV value = 2 }

		add_estate_satisfaction = { type = estate_type:nobles_estate
			value = estate_satisfaction_weak_bonus
		}
	}
}



johan.10 = {
	type = country_event

	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		religion = { religious_view = { target = c:FIN.religion value > neutral } }

		has_colonial_charter_in = province_definition:pite_lappmark_province
		has_colonial_charter_in = c:FIN.capital.province_definition

		location:london = { within_naval_range_of = c:DAN }
	}


	option = {
		name = johan.1.a
		religion = { set_religious_view = { target = c:FIN.religion value = kindred } }
	}

	option = {
		name = johan.1.b
		add_casus_belli = { target = c:NOV type = casus_belli:cb_conquer_province province = location:kholm.province }
		add_casus_belli = { target = c:NOV type = casus_belli:cb_conquer_province province = location:staraya_ladoga.province }

	}

	option = {
		name = johan.1.c
		create_colonial_charter = {
			target = c:FIN.capital.province_definition
		}
	}
}



johan.11 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		location:visby = { is_capital = yes }

		language:greek_language = { language_power > 0.33 }


		c:ENG = { 
			"estate(estate_type:nobles_estate)" = {
				estate_gold > 10
				estate_tax_rate = 1
				estate_tax > 15
			}
		}

		estate_tax_base:clergy_estate > 5

		regency_type = regency_type:consort_regency
		has_regent = yes

		is_situation_active = situation:black_death
	}


	option = {
		name = johan.1.a
		location:visby.province = { change_province_owner = c:DAN }
	}

	option = {
		name = johan.1.b
		location:visby = { change_location_owner = c:LIV }
	}

	option = {
		name = johan.1.c
		location:visby.province = {
			create_location_country_from_province = {
					make_subject_of = {  target = root type = subject_type:vassal }
				}
		}
	}

	option = {
		name = johan.1.d
		location:visby = {
			create_country_from_location = {
					make_subject_of = {  target = root type = subject_type:vassal }
				}
		}
	}

	option = {
		name = johan.1.e
		add_gold_to_estate = {
			estate_type = estate_type:clergy_estate
			value = 5
		}
	}
}





johan.12 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {

		c:ENG = { 
			"estate(estate_type:nobles_estate)" = {
				estate_gold > 10
			}
		}
		estate_tax_base:clergy_estate > 5
		is_during_bankruptcy = yes
		within_diplomatic_range = c:FRA
		num_loans < 10

		num_locations >= 5
		num_provinces <= 3

		num_location_rank:city < 2

		num_location_rank:rural_settlement >= 200

		num_artists >= 4


		has_estate_privilege = estate_privilege:nobles_land_rights

		capital = {
			num_civil_constructions < 2

			province = {
				population > 2
			}
			market = { is_produced_in_market = goods:silk }
		}

		any_rebel = {
			rebel_progress > 0.64
			rebel_category = estate
			any_pops_supporting_rebel = {
				pop_type = pop_type:nobles
				culture = culture:danish
			}
		}

		capital = {
			any_pop = {
				has_rebel = no
				pop_satisfaction = 0.84
			}
		}
		num_rebels > 2

		has_core = location:kalmar

		ruler = { has_trait = defensive_planner }
	}


	option = {
		name = johan.1.a
		add_gold_to_estate = {
			estate_type = estate_type:clergy_estate
			value = 5
		}
		add_policy = policy:by_blood
		ruler = { add_trait = trait:buccaneer }
	}

	option = {
		name = johan.1.b
		change_country_name = FRA
		change_country_adjective = FRA_ADJ
		change_country_color =  map_FRA
		change_country_tag = FRA
		change_country_flag = FRA
	}

	option = {
		name = johan.1.c
		random_rebel = {
			add_rebel_progress = 0.10
		}
		location:london = {
			add_core = root
		}
		declare_war = c:LIV
	}


	option = {
		name = johan.1.d
		add_location_as_core = location:rome
		add_truce_with = { target = c:BYZ }
		ruler = { add_trait = trait:cruel }
	}
	option = {
		name = johan.1.e
		declare_war_with_cb = {
			target = c:DAN
			type = casus_belli:cb_disrupting_trade
		}
	}

}


johan.13 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		any_unit = {
			sub_unit_fraction:army_infantry > 0.25
			sub_unit_count:army_cavalry = 2
			sub_unit_strength:army_artillery <= 0.634
		}

		religion.group = religion_group:muslim

		location:stockholm = {
			market = {
				has_merchant_power = {
					country = c:SWE
					key = stupid_one
				}
			}
		}
	}

	option = {
		name = johan.1.a
		ruler = { add_trait = trait:buccaneer }
	}

	option = {
		name = johan.1.b
		random_character = {
			limit = {
				is_artist = yes
				artist_skill < 0.95
			}
			add_artist_skill = 0.03
		}
	}

	option = {
		name = johan.1.c
		add_gold = modifier:tolerance_own
		add_stability = {
			value = 0.24
			add = modifier:discipline
			multiply = location:stockholm.modifier:local_max_control
		}
	}


	option = {
		name = johan.1.d

		location:london = {
			market = {
				add_merchant_power = {
					country = c:SWE
					power = 32
					months = 24
					key = test_power_stuff
				}
			}
		}
	}
}


johan.14 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		societal_value:mercantilism_vs_free_trade < -30

		any_trade = {
			goods = goods:salt
			from_market = location:lund.market
			trade_volume > 0.05
		}

		religious_influence < 5

		OR = {
			religious_school = religious_school:hanbali_school
			religious_school = c:GRA.religious_school
		}

		religious_school = {
			school_opinion = {
				target = religious_school:hanbali_school
				value = kindred
			}
		}

		monthly_manpower >= 0.5
		monthly_sailors < 0
		max_manpower >= 100
		max_sailors < 10

		num_of_non_rural >= 3


		has_global_variable = johan_test

		num_of_advances_researched >= 20
		average_control_in_home_region < 0.3

		manpower_percentage >= 0.23
		sailors_percentage < 0.123

		dominant_religion = religion:catholic
	}



	option = {
		name = johan.1.a
		random_owned_location = {
			every_pop = {	add_pop_satisfaction = pop_satisfaction_severe_penalty	}
		}
	}

	option = {
		name = johan.1.b
		change_societal_value = {
			type = quality_vs_quantity
			value = societal_value_large_move_to_left
		}
		add_religious_influence = religious_influence_mild_bonus

		religious_school = {
			set_school_opinion = { target = religious_school:hanbali_school value = positive }
		}
	}

	option = {
		name = johan.1.c
		random_owned_location = {
			rename_location = stormwind
		}

		location:arboga = {
			change_control = control_extreme_bonus
		}
	}
	option = {
		name = johan.1.d
		set_religious_school = religious_school:ismaili_school
		set_global_variable = johan_test
	}


	option = {
		name = johan.1.e

		location:uppsala = {
			random_pop = {
				limit = {
					pop_type = pop_type:peasants
				}
				split_pop = {
					fraction = 0.1
					religion = religion:orthodox
					type = pop_type:clergy
				}
			}
		}



	}
}


johan.15 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		religion = {
			has_cardinals = no
		}
		c:FIN = {
			religion = {
				has_religious_influence = yes
			}
		}
		religion:catholic = {
			has_religious_head = yes
			need_reforms = no
			reform_desire < 0.25
		}
		num_cardinals >= 1

		religion:lutheran = {
			 is_religion_enabled = no
			 has_karma = yes
			 has_patriarchs = no
		}
		current_year >= 1240
	}

	option = {
		name = johan.1.a
		change_societal_value = {
			type = quality_vs_quantity
			value = societal_value_tiny_move_to_left
		}
		religion:catholic = {
			add_reform_desire = reform_desire_weak_decrease
		}
	}

	option = {
		name = johan.1.b
		religion:catholic = {
			set_needs_reform = no
		}
		religion:calvinist = {
			enable_religion = yes
		}
	}
	option = {
		name = johan.1.c
		set_capital = location:skara
		change_government_type = government_type:republic
		change_heir_selection = heir_selection:republic_4_year_terms
	}
}

johan.16 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		any_subject = {
			subject_loyalty > 60
		}
		any_privateer_from_country = {
			area = area:western_baltic_sea
			privateer_power > 0.2
		}

		court_maintenance > 0.8
	}
	option = {
		name = johan.1.a
		random_subject = {
			add_liberty_desire = liberty_desire_severe_plus
		}
		random_subject = {
			root = { cancel_subject = prev }
		}

	}

	option = {
		name = johan.1.b

		location:kalmar = {
			create_art = {
				artist = root.ruler
				quality = 30
				type = work_of_art_type:monument
				key = pyramid_art_key
			}
		}

		location:uppsala = {
			create_art = {
				artist = root.ruler
				quality = 70
				type = work_of_art_type:novel
			}
		}

	}
	option = {
		name = johan.1.c
		area:western_baltic_sea = {
			random_privateer_in_area = {
				change_privateer_power = -0.1
			}
		}
	}

	option = {
		name = johan.1.d
		change_country_type = pop
	}
	option = {
		name = johan.1.d
		change_country_type = army
	}

}


johan.17 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...
	


	trigger = {
		any_exploration_from_country = {
			leader = {
				adm > 20
			}
			exploration_progress < 0.75
		}

		any_character = {
			is_explorer = no
		}

	}
	option = {
		name = johan.1.a
		random_exploration_from_country = {
			change_exploration_progress = 0.1
		}
	}

	option = {
		name = johan.1.b
		location:barcelona = {
			add_vfx = {
				name = "snowstorm"
				duration = 60
			}
		}
	}
	option = {
		name = johan.1.c

		location:messina = {
			add_vfx = {
				name = "volcano_eruption_test"
				duration = 0
			}
		}
	}
	option = {
		name = johan.1.d
		location:manresa = {
			add_vfx = {
				name = "desert_sandstorm"
				duration = 60
			}
		}
	}
	option = {
		name = johan.1.e
		location:favaritx_cape = {
			add_vfx = {
				name = "seastorm"
				duration = 60
			}
		}
	}

}


johan.18 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...
	
	image = "gfx/interface/icons/trade_goods/illustrations/icon_goods_fur.dds"
	
	
	
	trigger = {
		any_rented_out_mercenary = {
			has_customer = no
			owner = c:SWE
			customer = c:ENG
		}
	}
	option = {
		name = johan.1.a
		add_migration = {
			owner = this
			from = province_definition:uppland_province
			to = province_definition:dalarna_province
			type = pop_type:nobles
			amount = 0.02
			months = 120
		}

	}

	option = {
		name = johan.1.b
		add_migration = {
			owner = this
			from = province_definition:ostergotland_province
			to = province_definition:dalarna_province
			type = pop_type:peasants
			amount = 0.02
			months = 120
		}

	}

	option = {
		name = johan.1.c
		capital = {
			random_buildings_in_location = {
				change_building_level = 3
			}
		}
	}

}



johan.19 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...

	trigger = {
		known_in_country:tobacco > 11

		any_subject_or_below = {
			OR = {
				tag = PLE
				tag = CLR
			}
		}
		any_overlord_or_above = {
			OR = {
				tag = ENG
				tag = PLE
			}
		}

		capital = {
			market = {
				traded_in_market:wine > produced_in_market:fish
			}
			monthly_conversion > 0.25
		}

		produced_in_world:ivory > 2

		any_loan = {

			loan_amount > 10
			loan_interest < 0.23
			NOT = { remaining_debt = 222 }
			months_left >= 5

		}
		ruler = {
			fertility > 25
		}

		total_effective_building_levels:janissary_barracks < 5
		total_effective_building_levels:tools_guild > 2
	}

	immediate = {
		random_work_of_art = {
			save_scope_as = target_art
		}
	}

	option = {
		name = johan.1.a
		random_subject_or_below = {
			add_country_modifier = {
				modifier = better_morale
				months = 6
				mode = add_and_extend
			}
		}
	}

	option = {
		name = johan.1.b
		every_overlord_or_above = {
			add_country_modifier = {
				modifier = better_morale
				months = 6
				mode = add_and_extend
			}
		}
	}

	option = {
		name = johan.1.c
		destroy_art = scope:target_art
	}
	option = {
		name = johan.1.d
		location:stockholm = {
			market = {
				add_temporary_demand = {
					type = demand:silver_fancy
					months = 5
					scale = 1.2
				}
			}
		}
	}
	option = {
		name = johan.1.e
		create_rebel = {
			category = pretender
		}
		form_country = formable_country:GBR_f
	}
	option = {
		name = johan.1.f
		ruler = {
			add_fertility = 20
		}

		add_gold = known_in_country:porcelain
		add_gold = known_in_country:medicaments
		add_gold = known_in_country:coffee



	}
}

johan.20 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...
	
	trigger ={
		modifier:nobles_estate_max_tax > 0.2
		estate_max_tax = { estate_type = estate_type:nobles_estate value > 0.2 }
		estate_opinion = { estate_type = estate_type:nobles_estate target = c:DAN  value < 25 }
		has_any_mission_active = yes
		active_mission ?= {
			this = mission:generic_conquer_province
		}
		mission_completed = mission:generic_conquer_province
		current_mission_task = mission_task:a_great_capital
		mission_task_completed = mission_task:a_great_capital
		mission_task_bypassed = mission_task:a_great_capital
		law:republican_foundation_law = {						is_available_for = root }
		policy:authoritarianism_policy = {						is_available_for = root }
		building_type:royal_court = {							is_available_for = root }
		religious_aspect:arminianism = {						is_available_for = root }
		estate_privilege:trade_monopolies = {					is_available_for = root }
		cabinet_action:study_institutions = {					is_available_for = root }
		government_reform:full_college = {						is_available_for = root }
		production_method:madrasa_maintenance = {				is_available_for = root }
		parliament_issue:establish_the_signoria_of_venice = {	is_available_for = root }
		god:ganesha_god = {										is_available_for = root }
		avatar:matsya_avatar = {								is_available_for = root }
		unit_type:a_cawa = {									is_available_for = root }
		levy_setup:levy_a_late_longbowmen = {					is_available_for = root }
		artist_type:scientist = {								is_available_for = root }
		mission:development_of_infrastructure = {				is_available_for = root }
		mission_task:a_great_capital = {				is_available_for = root }
		regency_type:nobles_estate_regency = {					is_available_for = root }
		road_type:gravel_road = {								is_available_for = root }
		heir_selection:cognatic_primogeniture = {				is_available_for = root }
		num_of_trades > 0
		production_method:ablaq_palace_maintenance = { produced_goods ?= goods:silk }
		goods:books = {
			is_used_by_production_method = production_method:jesuit_college_maintenance
			is_produced_by_production_method = production_method:printing_press_maintenance
		}
		production_method:printing_press_maintenance = {
			requires_goods = goods:paper
		}
		goods:wheat = {
			food_value >= 2
		}
		any_owned_location = {
			raw_material_output > 20
			raw_material_output > 0
		}
		any_owned_location = {
			any_buildings_in_location = {
				any_production_method_of_building = {
					requires_goods = goods:paper
					any_required_goods = {
						food_value < 2
					}
				}
			}
		}
		any_production_method = {
			is_available_for = root
			produced_goods ?= goods:silk
		}
	}

	immediate = {
		#random_current_war = {
		#	save_scope_as = target_war
		#}
	}
	option = {
		name = johan.1.a
		start_mission = {
			mission = mission:generic_conquer_province
		}
	}
	option = {
		name = johan.1.a
		end_mission = yes
	}
	option = {
		name = johan.1.a
		end_mission = no
	}
	option = {
		name = johan.1.a
		complete_mission_task = mission_task:a_great_capital
	}
	option = {
		name = johan.1.a
		bypass_mission_task = mission_task:a_great_capital
	}
}

johan.21 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	
	orphan = yes #just for test...
	
	trigger = {
		heir_score_country = {
			target = root.heir
			value > 100
		}
		consort ?= {
			heir_score_home >= root.ruler.heir_score_home
			"heir_score(root)" >= root.ruler.heir_score_home
			heir_score = {
				target = root
				value < 50
			}
		}
		civil_war ?= {
			any_war_participant = {
				tag = GLH
			}
		}
		"war_with_country(c:POL)" ?= {
			any_war_participant = {
				tag = BOH
			}
		}
		location:austria_baden = {
			has_latest_road_to = root.capital
		}
		any_owned_location = {
			has_road_to = root.capital
		}
		has_advance_available = scholasticism
		can_research_advance = scholasticism
		union ?= {
			country_has_special_status = {
				type = special_status:senior_partner
				country = root
			}
		}
		location:rome = {
			distance_to_squared = {
				location = location:milano
				value = 77600
			}
		}
	}
	
	
	option = {
		name = johan.1.a
		union ?= {
			international_organization_add_special_status = {
				type = special_status:senior_partner
				country = root
			}
		}
		show_all_event_targets = {
			advance_type = confessionalism_advance
			artist_type = scientist
			work_of_art_type = work_of_art_type:icon
			avatar = matsya_avatar
			building_type = royal_court
			cabinet_action = study_institutions
			casus_belli = cb_take_shogunate
			character_interaction = assume_fort_command
			child_education = expensive_in_depth_education
			country_interaction = nusta_marriage
			country_rank = rank_empire
			culture_group = andean_group
			culture = armenian_culture
			disaster_type = crisis_of_the_sayfawa_dynasty
			disease = bubonic_plague
			estate_privilege = trade_monopolies
			estate_type = nobles_estate
			formable_country = SCA_f
			generic_action = hide_from_black_death
			god = ganesha_god
			goods = silver
			demand = minting_maintenance
			government_reform = full_college
			government_type = monarchy
			hegemony = naval_hegemon
			heir_selection = cognatic_primogeniture
			holy_site_definition = the_vatican
			holy_site_type = orthodox_church_holy_site
			institution = new_world
			international_organization = hre
			language_family = germanic_language_family
			language = french_language
			law = republican_foundation_law
			policy = authoritarianism_policy
			levy_setup = levy_a_late_longbowmen
			location_rank = town
			mission = development_of_infrastructure
			mission_task = a_great_capital
			parliament_agenda = pa_push_towards_decentralized_nobles
			parliament_issue = establish_the_signoria_of_venice
			peace_treaty = disband_kontor
			pop_type = burghers
			production_method = madrasa_maintenance
			recruitment_method = elite_training
			regency_type = nobles_estate_regency
			religion_group = buddhist
			religion = anglican
			religious_aspect = arminianism
			religious_faction = imperial_court
			religious_focus = adopt_ometeotl
			religious_school = ismaili_school
			resolution = call_crusade
			relation_type = deny_market_access
			societal_value_type = sinicized_vs_unsinicized
			subject_type = dominion
			trait = ruthless_blockader
			unit_ability = execute_prisoners
			sub_unit_category = army_artillery
			unit_type = a_cawa
			climate = tropical
			vegetation = grasslands
			topography = flatland
		}
	}
}

johan.22 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	orphan = yes #just for test...
	trigger = {
		parliament_issue_will_pass = yes
		international_organization:hre = {
			parliament_issue_will_pass = yes
			land_ownership_rule ?= land_ownership_rule:hre_land_ownership
		}
	}
	option = {
		name = johan.1.a
	}
}

johan.23 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	orphan = yes #just for test...
	option = {
		name = johan.1.a
	}
}

johan.24 = {
	type = country_event
	title = johan.1.title
	desc = johan.1.desc
	orphan = yes #just for test...
	trigger = {
		union ?= {
			has_consistent_integration_level = yes
			has_not_consistent_integration_level = yes
			NOT = {
				any_international_organization_member = {
					years_in_international_organization = {
						international_organization = root
						value < MIN_YEARS_IN_ORGANIZATION_REQUIRED
					}
				}
			}
		}
		has_raised_levies = yes
		capital = {
			location_max_population > 100
		}
	}
	option = {
		name = johan.1.a
		#union ?= {
		#	if = {
		#		limit = { has_ongoing_parliament_debate = no }
		#		set_parliament_location = root.capital
		#		set_parliament_active = yes
		#		set_parliament_issue = parliament_issue:union_enforce_law_implementation
		#		set_parliament_issue_support = {
		#			add = {
		#				desc = total_special_status_power_fraction
		#				value = "total_special_status_power_fraction(parliament_issue:union_enforce_law_implementation.special_status)"
		#			}
		#		}
		#	}
		#	else = {
		#		end_parliament = yes
		#	}
		#}
	}
}