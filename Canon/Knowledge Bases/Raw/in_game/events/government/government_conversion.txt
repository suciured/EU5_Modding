namespace = government_conversion_events

#Note: events which end with a multiplicative of "10" (such as .10, .20, .30, etc.) are the final conversion events, signalizing that the government conversion is done.

#Steppe Horde -> Monarchy
# A New Monarchy Arises!
government_conversion_events.10 = {
	type = country_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { exists = scope:target_country }
				desc = government_conversion_events.conversion_complete.title
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = government_conversion_events.conversion_complete.title_fallback
			}
		}
	}
	desc = government_conversion_events.conversion_complete.desc
	illustration_tags = {
        10 = happy
        10 = interior 
    }
	immediate = {
		event_illustration_estate_effect = { foreground = estate_type:nobles_estate background = estate_type:nobles_estate }
		save_scope_as = target_country
		ruler_or_regent ?= { save_scope_as = target_character }
		government_type:steppe_horde = { save_scope_as = origin_government_type }
		government_type:monarchy = { save_scope_as = target_government_type }
		set_variable = is_about_to_reform_government
	}
	option = {
		name = government_conversion_events.conversion_complete.a
		change_government_type = government_type:monarchy 
		change_country_type = location
		if = {
			limit = { has_country_modifier = reformation_of_the_horde }
			remove_country_modifier = reformation_of_the_horde
		}
	}
	after = {
		remove_variable = is_about_to_reform_government
	}
}